<!--
    Copyright (C) 2018 Intel Corporation

    SPDX-License-Identifier: MIT
-->
<div class="dashboardTaskUI" id="dashboardTask_{{item.task_id}}">
    <center class="dashboardTitleWrapper">
        <label class="semiBold h1 dashboardTaskNameLabel selectable"> {{ item.name }} </label>
    </center>
    <center class="dashboardTitleWrapper">
        <label class="regular dashboardStatusLabel"> {{ item.status }} </label>
    </center>
    <div class="dashboardTaskIntro" style='background-image: url("/get/task/{{item.task_id}}/frame/0")'>  </div>
    <div class="dashboardButtonsUI">
        <button class="dashboardDumpAnnotation semiBold dashboardButtonUI"> Dump Annotation </button>
        <button class="dashboardDumpJSON semiBold dashboardButtonUI"> Dump JSON </button>
        <button class="dashboardDumpTimestamps semiBold dashboardButtonUI"> Dump Timestamps </button>
        <button class="dashboardUploadAnnotation semiBold dashboardButtonUI"> Upload Annotation </button>
        <button class="dashboardUpdateTask semiBold dashboardButtonUI"> Update Task </button>
        <button class="dashboardDeleteTask semiBold dashboardButtonUI"> Delete Task </button>
         {%if item.has_bug_tracker %}
            <button class="dashboardOpenTrackerButton semiBold dashboardButtonUI"> Open Bug Tracker </button>
            <a class="dashboardBugTrackerLink" href='{{item.bug_tracker_link}}' style="display: none;"> </a>
        {% endif %}
    </div>
    <div class="dashboardJobsUI">
        <center class="dashboardTitleWrapper">
            <label class="regular h1"> Jobs </label>
        </center>
        <table class="dashboardJobList regular">
            {% for segment in item.segments %}
            <tr class="job-block">
                <form>
                    <td><input hidden name="jobId" value="{{segment.id}}"></td>
                    <td><a href="{{segment.url}}">Job #{{segment.id}}</a></td>
                    <td>
                        <select class="form-field" name="annotator">
                            {% for annotator in available_annotators %}
                            {% if not segment.annotator %}
                            <option disabled selected value></option>
                            {% endif %}
                            {% if segment.annotator.id == annotator.id %}
                            <option selected value="{{annotator.id}}">{{annotator.name}}</option>
                            {% else %}
                            <option value="{{annotator.id}}">{{annotator.name}}</option>
                            {% endif %}
                            {% endfor %}
                        </select>
                    </td>
                    <td><input
                            class="form-field"
                            type="date"
                            name="estimated_completion_date"
                            value="{{segment.estimated_completion_date|date:'Y-m-d'}}"></td>
                    <td><input
                            class="form-field"
                            type="number"
                            value="{{segment.progress}}"
                            min="1" max="100" step="1"
                            name="progress"
                            placeholder="job progress"></td>
                </form>
            </tr>
            {% endfor %}
        </table>
    </div>
</div>
