{"version":3,"sources":["webpack://cvat/webpack/bootstrap","webpack://cvat/./node_modules/axios/lib/utils.js","webpack://cvat/./src/exceptions.js","webpack://cvat/./src/server-proxy.js","webpack://cvat/./node_modules/store/src/util.js","webpack://cvat/./src/enums.js","webpack://cvat/./src/plugins.js","webpack://cvat/external \"util\"","webpack://cvat/./src/session.js","webpack://cvat/./src/labels.js","webpack://cvat/./src/common.js","webpack://cvat/./src/config.js","webpack://cvat/external \"stream\"","webpack://cvat/external \"http\"","webpack://cvat/external \"https\"","webpack://cvat/external \"url\"","webpack://cvat/./node_modules/axios/lib/defaults.js","webpack://cvat/./node_modules/axios/lib/core/createError.js","webpack://cvat/./src/object-state.js","webpack://cvat/external \"path\"","webpack://cvat/./node_modules/asynckit/lib/iterate.js","webpack://cvat/./node_modules/asynckit/lib/async.js","webpack://cvat/./node_modules/asynckit/lib/abort.js","webpack://cvat/./node_modules/asynckit/lib/state.js","webpack://cvat/./node_modules/asynckit/lib/terminator.js","webpack://cvat/./node_modules/asynckit/serialOrdered.js","webpack://cvat/./node_modules/axios/lib/helpers/bind.js","webpack://cvat/./node_modules/axios/lib/core/settle.js","webpack://cvat/./node_modules/axios/lib/core/enhanceError.js","webpack://cvat/./node_modules/axios/lib/helpers/buildURL.js","webpack://cvat/./node_modules/follow-redirects/index.js","webpack://cvat/./node_modules/debug/src/debug.js","webpack://cvat/./node_modules/axios/lib/cancel/isCancel.js","webpack://cvat/./node_modules/axios/lib/cancel/Cancel.js","webpack://cvat/./src/user.js","webpack://cvat/./src/statistics.js","webpack://cvat/./src/annotation-format.js","webpack://cvat/./src/api.js","webpack://cvat/./node_modules/platform/platform.js","webpack://cvat/(webpack)/buildin/module.js","webpack://cvat/./node_modules/error-stack-parser/error-stack-parser.js","webpack://cvat/./node_modules/stackframe/stackframe.js","webpack://cvat/./node_modules/form-data/lib/form_data.js","webpack://cvat/./node_modules/combined-stream/lib/combined_stream.js","webpack://cvat/./node_modules/delayed-stream/lib/delayed_stream.js","webpack://cvat/external \"fs\"","webpack://cvat/./node_modules/mime-types/index.js","webpack://cvat/./node_modules/mime-db/index.js","webpack://cvat/./node_modules/asynckit/index.js","webpack://cvat/./node_modules/asynckit/parallel.js","webpack://cvat/./node_modules/asynckit/lib/defer.js","webpack://cvat/./node_modules/asynckit/serial.js","webpack://cvat/./node_modules/form-data/lib/populate.js","webpack://cvat/./node_modules/store/dist/store.legacy.js","webpack://cvat/./node_modules/store/src/store-engine.js","webpack://cvat/./node_modules/store/storages/all.js","webpack://cvat/./node_modules/store/storages/localStorage.js","webpack://cvat/./node_modules/store/storages/oldFF-globalStorage.js","webpack://cvat/./node_modules/store/storages/oldIE-userDataStorage.js","webpack://cvat/./node_modules/store/storages/cookieStorage.js","webpack://cvat/./node_modules/store/storages/sessionStorage.js","webpack://cvat/./node_modules/store/storages/memoryStorage.js","webpack://cvat/./node_modules/store/plugins/json2.js","webpack://cvat/./node_modules/store/plugins/lib/json2.js","webpack://cvat/./node_modules/axios/index.js","webpack://cvat/./node_modules/axios/lib/axios.js","webpack://cvat/./node_modules/is-buffer/index.js","webpack://cvat/./node_modules/axios/lib/core/Axios.js","webpack://cvat/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://cvat/./node_modules/axios/lib/adapters/xhr.js","webpack://cvat/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://cvat/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://cvat/./node_modules/axios/lib/helpers/cookies.js","webpack://cvat/./node_modules/axios/lib/adapters/http.js","webpack://cvat/external \"assert\"","webpack://cvat/./node_modules/debug/src/index.js","webpack://cvat/./node_modules/debug/src/browser.js","webpack://cvat/./node_modules/ms/index.js","webpack://cvat/./node_modules/debug/src/node.js","webpack://cvat/external \"tty\"","webpack://cvat/./node_modules/supports-color/index.js","webpack://cvat/external \"os\"","webpack://cvat/./node_modules/has-flag/index.js","webpack://cvat/external \"zlib\"","webpack://cvat/./node_modules/axios/lib/core/InterceptorManager.js","webpack://cvat/./node_modules/axios/lib/core/dispatchRequest.js","webpack://cvat/./node_modules/axios/lib/core/transformData.js","webpack://cvat/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://cvat/./node_modules/axios/lib/helpers/combineURLs.js","webpack://cvat/./node_modules/axios/lib/cancel/CancelToken.js","webpack://cvat/./node_modules/axios/lib/helpers/spread.js","webpack://cvat/./src/frames.js","webpack://cvat/./node_modules/browser-or-node/lib/index.js","webpack://cvat/./src/annotations.js","webpack://cvat/./src/annotations-collection.js","webpack://cvat/./src/annotations-objects.js","webpack://cvat/./src/annotations-saver.js","webpack://cvat/./src/api-implementation.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isBuffer","toString","isArray","val","isObject","isFunction","forEach","obj","fn","length","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","arguments","extend","a","b","thisArg","trim","str","replace","Platform","ErrorStackParser","config","Exception","Error","message","super","time","Date","toISOString","system","os","client","version","info","parse","this","filename","fileName","line","lineNumber","column","columnNumber","jobID","taskID","clientID","defineProperties","freeze","projID","undefined","exceptionObject","job_id","task_id","proj_id","client_id","stack","serverProxy","server","exception","ArgumentError","DataError","ScriptingError","PluginError","ServerError","code","store","Axios","defaults","withCredentials","xsrfHeaderName","xsrfCookieName","token","async","getTasks","filter","backendAPI","response","proxy","errorData","status","data","results","count","deleteTask","id","delete","headers","common","Authorization","about","share","directory","encodeURIComponent","formats","post","JSON","stringify","login","username","password","authenticationData","join","authenticationResponse","cookies","Cookie","set","logout","remove","authorized","users","getSelf","serverError","register","firstName","lastName","email","password1","password2","first_name","last_name","writable","tasks","saveTask","taskData","patch","createTask","files","onUpdate","batchOfFiles","append","Promise","resolve","reject","setTimeout","checkStatus","includes","state","wait","createException","jobs","getJob","saveJob","jobData","getUsers","frames","getData","tid","frame","responseType","getMeta","annotations","updateAnnotations","session","action","requestFunc","url","toUpperCase","put","getAnnotations","dumpAnnotations","format","request","error","uploadAnnotations","file","annotationData","assign","props1","props2","etc","each","assignProps1","assignProps2","assignArgsList","slice","apply","concat","F","make_create","String","Global","global","arr","index","Array","pluck","isList","map","res","v","k","ShareFileType","DIR","REG","TaskStatus","ANNOTATION","VALIDATION","COMPLETED","TaskMode","INTERPOLATION","AttributeType","CHECKBOX","RADIO","SELECT","NUMBER","TEXT","ObjectType","TAG","SHAPE","TRACK","ObjectShape","RECTANGLE","POLYGON","POLYLINE","POINTS","EventType","frameDownloaded","LogType","pasteObject","changeAttribute","dragObject","deleteObject","pressShortcut","resizeObject","sendLogs","jumpFrame","drawObject","changeLabel","sendTaskInfo","loadJob","moveImage","zoomImage","lockObject","mergeObjects","copyObject","propagateObject","undoAction","redoAction","sendUserActivity","sendException","changeFrame","debugInfo","fitImage","rotateImage","plugins","PluginRegistry","wrappedFunc","args","pluginList","list","plugin","pluginDecorators","functions","callback","enter","implementation","leave","plug","traverse","api","decorator","keys","push","cvat","require","getFrame","Label","buildDublicatedAPI","loader","apiWrapper","upload","save","reload","clear","dumper","dump","statistics","arrayOfObjects","frameFrom","frameTo","search","objectStates","x","y","select","hasUnsavedChanges","objectState","split","reset","group","logs","logType","details","actions","undo","redo","events","evType","subscribe","unsubscribe","Session","Job","initialData","assignee","start_frame","stop_frame","task","estimated_completion_date","progress","Number","isInteger","type","valueInEnum","startFrame","stopFrame","getPrototypeOf","Task","size","owner","created_date","updated_date","bug_tracker","overlap","segment_size","z_order","image_quality","frame_filter","labels","server_files","client_files","remote_files","segments","segment","job","jobInstance","label","classInstance","createdDate","updatedDate","bugTracker","tracker","segmentSize","zOrder","imageQuality","quality","serverFiles","clientFiles","File","constructor","remoteFiles","frameFilter","putAnnotations","saveAnnotations","mergeAnnotations","splitAnnotations","groupAnnotations","clearAnnotations","selectObject","annotationsStatistics","el","toJSON","Boolean","taskFiles","Attribute","default_value","input_type","mutable","values","defaultValue","inputType","attributes","attrData","isBoolean","isEnum","checkFilter","fields","prop","checkObjectType","instance","now","substr","utils","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","adapter","XMLHttpRequest","process","transformRequest","transformResponse","e","timeout","maxContentLength","validateStatus","method","enhanceError","ObjectState","serialized","points","outside","occluded","keyframe","lock","color","serverID","objectType","shapeType","updateFlags","labelInstance","attrID","force","up","down","hidden","abort","iterator","item","aborter","runJob","output","defer","isAsync","err","sortMethod","isNamedList","initState","keyedList","sort","iterate","terminator","ascending","iteratorHandler","descending","createError","encode","params","paramsSerializer","serializedParams","parts","indexOf","http","https","assert","Writable","debug","SAFE_METHODS","GET","HEAD","OPTIONS","TRACE","eventHandlers","RedirectableRequest","options","responseCallback","_options","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","host","hostname","on","self","_onNativeResponse","_processResponse","pathname","path","searchPos","substring","_performRequest","wrap","protocols","maxRedirects","maxBodyLength","nativeProtocols","scheme","protocol","nativeProtocol","wrappedProtocol","equal","end","event","arg","_redirectable","emit","write","encoding","_currentRequest","currentRequest","setHeader","removeHeader","agents","agent","_currentUrl","_isRedirect","buffers","writeNext","trackRedirects","statusCode","location","followRedirects","header","test","redirectUrl","destroy","responseUrl","redirects","createDebug","namespace","prevTime","enabled","curr","ms","diff","prev","coerce","unshift","match","formatter","formatters","splice","formatArgs","log","console","useColors","hash","charCodeAt","colors","Math","abs","selectColor","init","instances","disable","enable","namespaces","names","skips","len","RegExp","humanize","__CANCEL__","Cancel","groups","last_login","date_joined","is_staff","is_superuser","is_active","lastLogin","dateJoined","isStaff","isSuperuser","isActive","total","Loader","display_name","handler","Dumper","AnnotationFormat","handler_file","dumpers","loaders","handlerFile","User","Statistics","pjson","enums","exceptions","classes","implementAPI","clamp","min","max","build","objectTypes","root","freeExports","freeModule","nodeType","freeGlobal","maxSafeInteger","pow","reOpera","objectProto","capitalize","string","charAt","forOwn","getClassOf","qualify","reduce","array","accumulator","platform","ua","context","isCustomContext","nav","userAgent","isSpecialCasedOS","likeChrome","airRuntimeClass","enviroClass","javaClass","java","phantomClass","rhino","environment","alpha","beta","doc","opera","operamini","operaClass","arch","description","prerelease","useFeatures","layout","guess","pattern","exec","guesses","getName","getProduct","manufacturer","getManufacturer","cleanupOS","getOS","parseFloat","runtime","flash","Capabilities","phantom","major","minor","documentMode","toFixed","lang","System","getProperty","browser","versions","electron","node","nw","appMinorVersion","external","parseInt","family","architecture","cpuClass","webpackPolyfill","deprecate","paths","children","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","sanitizedLine","tokens","locationParts","pop","functionName","source","functionNameRegex","matches","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","argsRaw","functionCall","shift","_isNumber","isNaN","isFinite","_capitalize","_getter","booleanProps","numericProps","stringProps","props","getArgs","setArgs","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","getFunctionName","getFileName","getLineNumber","getColumnNumber","j","CombinedStream","util","parseUrl","fs","mime","asynckit","populate","option","_overheadLength","_valueLength","_valuesToMeasure","inherits","LINE_BREAK","field","_error","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","Buffer","byteLength","readable","_lengthRetriever","Infinity","start","stat","fileSize","pause","resume","contentDisposition","_getContentDisposition","contentType","_getContentType","contents","getBoundary","filepath","normalize","basename","_httpMessage","lookup","next","_streams","_lastBoundary","getHeaders","userHeaders","formHeaders","toLowerCase","_boundary","_generateBoundary","getBuffer","dataBuffer","alloc","boundary","from","floor","random","getLengthSync","hasKnownLength","getLength","cb","parallel","nextTick","submit","port","Stream","DelayedStream","dataSize","maxDataSize","pauseStreams","_released","_currentStream","_insideLoop","_pendingNext","combinedStream","isStreamLike","stream","newStream","pauseStream","_checkDataSize","_handleErrors","dest","_getNext","_realGetNext","_pipeNext","_emitError","_reset","_updateDataSize","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","configurable","setEncoding","release","_checkIfMaxDataSizeExceeded","extensions","types","preference","db","extname","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","charsets","extension","exts","to","serial","serialOrdered","setImmediate","dst","src","engine","storages","createStore","storeAPI","optionalDefaultValue","storage","read","_namespacePrefix","_deserialize","_serialize","namespacedKey","_namespaceRegexp","clearAll","hasNamespace","addPlugin","_addPlugin","namespacePrefix","namespaceRegexp","_testStorage","testStr","ok","_assignPluginFnProp","pluginFnProp","propName","oldFn","super_fn","newFnArgs","strVal","defaultVal","_addStorage","seenPlugin","pluginProperties","addStorage","_console","warn","_warn","raw","localStorage","getItem","setItem","removeItem","globalStorage","_","unfixedKey","fixedKey","fixKey","_withStorageEl","storageEl","setAttribute","storageName","getAttribute","XMLDocument","documentElement","attr","removeAttribute","load","addBehavior","storageOwner","storageContainer","ActiveXObject","open","close","w","createElement","body","storeFunction","appendChild","removeChild","_makeIEStorageElFunction","forbiddenCharsRegex","_has","regexpStr","escape","unescape","cookie","kvp","sessionStorage","memoryStorage","rx_one","rx_two","rx_three","rx_four","rx_escapable","rx_dangerous","gap","indent","meta","rep","f","this_value","valueOf","quote","lastIndex","holder","partial","mind","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","\"","replacer","space","text","reviver","walk","eval","SyntaxError","createInstance","defaultConfig","axios","instanceConfig","CancelToken","isCancel","all","promises","spread","default","InterceptorManager","dispatchRequest","interceptors","chain","promise","interceptor","fulfilled","rejected","then","normalizedName","settle","buildURL","parseHeaders","isURLSameOrigin","requestData","requestHeaders","auth","btoa","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseText","statusText","onerror","ontimeout","xsrfValue","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","cancelToken","cancel","send","ignoreDuplicateOf","parsed","originURL","msie","urlParsingNode","resolveURL","href","requestURL","expires","domain","secure","toGMTString","decodeURIComponent","httpFollow","httpsFollow","zlib","pkg","timer","Uint8Array","urlAuth","isHttps","httpsAgent","httpAgent","socketPath","transport","proxyEnv","proxyUrl","env","parsedProxyUrl","proxyUrlAuth","base64","req","aborted","clearTimeout","createUnzip","lastRequest","statusMessage","responseBuffer","chunk","responseData","DEBUG","Function","lastC","style","WebkitAppearance","firebug","table","$1","chrome","local","localstorage","h","plural","ceil","long","round","fmtShort","tty","inspectOpts","stderr","colorCode","prefix","hideDate","isatty","fd","supportsColor","level","inspect","O","hasFlag","forceColor","getSupportLevel","hasBasic","has256","has16m","translateLevel","isTTY","osRelease","some","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","FORCE_COLOR","stdout","flag","argv","startsWith","pos","terminatorPos","handlers","use","eject","transformData","isAbsoluteURL","combineURLs","throwIfCancellationRequested","throwIfRequested","baseURL","reason","fns","relativeURL","executor","resolvePromise","isBrowser","isNode","frameDataCache","frameCache","FrameData","width","height","number","onServerRequest","reader","FileReader","onload","readAsDataURL","_typeof","isWebWorker","Collection","AnnotationsSaver","jobCache","WeakMap","taskCache","getCache","sessionType","getAnnotationsFromServer","cache","has","rawAnnotations","frameMeta","collection","import","saver","RectangleShape","PolygonShape","PolylineShape","PointsShape","RectangleTrack","PolygonTrack","PolylineTrack","PointsTrack","Track","Shape","Tag","objectStateFactory","shapeFactory","shapeData","injection","shapeModel","trackFactory","trackData","shapes","trackModel","labelAccumulator","tags","tracks","objects","flush","collectionZ","tag","tagModel","shape","track","removed","stateData","objectsForMerge","keyframes","labelAttributes","attribute","spec_id","updatedAttributes","firstNonOutside","label_id","resetCache","exported","position","prevTrack","nextTrack","objectsForGroup","groupIdx","skeleton","rectangle","polygon","polyline","manually","interpolated","prevKeyframe","visible","lastKey","constructed","convertAttributes","specID","coord","minimumDistance","minimumState","distance","checkNumberOfPoints","checkShapeArea","xmin","MAX_SAFE_INTEGER","xmax","MIN_SAFE_INTEGER","ymin","ymax","validateAttributeValue","Annotation","taskLabels","attributeAccumulator","appendDefaultAttributes","Drawn","z","_getZ","attrId","copy","updated","cutPoints","shapeAccumulator","shapesAccumulator","interpolation","getPosition","getAttributes","targetFrame","lDiff","rDiff","leftFrame","rightFrame","positionUpdated","cacheFrame","neighborsFrames","rightPosition","leftPosition","interpolatePosition","xtl","ytl","xbr","ybr","PolyShape","x1","y1","x2","y2","wn","distances","xCross","yCross","sqrt","offset","positionOffset","PolyTrack","findBox","box","normalized","denormalize","denormalized","toPoints","toArray","point","getMapping","target","sumEdges","computeDeviation","average","processedSource","processedTarget","dx","dy","computeDistances","mapping","men","women","menPreferences","man","w1","w2","womenMaybe","menBusy","prefIndex","woman","prevChoice","stableMarriageProblem","threshold","truncateByThreshold","receivingOrder","appendMapping","pointIdx","leftBox","rightBox","leftPoints","rightPoints","newLeftPoints","newRightPoints","processedRight","processedLeft","absoluteLeftPoints","absoluteRightPoints","targetMatched","sourceMatched","orderForReceive","findNeighbors","computeOffset","pathPoints","curveLength","iCrossed","p1","p2","prevPoint","nextPoint","autoPoint","initialObjects","_getHash","export","_request","created","deleted","splitted","indexes","saved","savedLength","indexesLength","_receiveIndexes","savedData","_put","_updateCreatedObjects","_split","createdData","_create","updatedData","_update","deletedData","_delete","_version","user","page","searchParams","tasksData"],"mappings":"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","file":"cvat-core.node.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const Platform = require('platform');\n    const ErrorStackParser = require('error-stack-parser');\n    const config = require('./config');\n\n    /**\n        * Base exception class\n        * @memberof module:API.cvat.exceptions\n        * @extends Error\n        * @ignore\n    */\n    class Exception extends Error {\n        /**\n            * @param {string} message - Exception message\n        */\n        constructor(message) {\n            super(message);\n\n            const time = new Date().toISOString();\n            const system = Platform.os.toString();\n            const client = `${Platform.name} ${Platform.version}`;\n            const info = ErrorStackParser.parse(this)[0];\n            const filename = `${info.fileName}`;\n            const line = info.lineNumber;\n            const column = info.columnNumber;\n            const {\n                jobID,\n                taskID,\n                clientID,\n            } = config;\n\n            const projID = undefined; // wasn't implemented\n\n            Object.defineProperties(this, Object.freeze({\n                system: {\n                    /**\n                        * @name system\n                        * @type {string}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => system,\n                },\n                client: {\n                    /**\n                        * @name client\n                        * @type {string}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => client,\n                },\n                time: {\n                    /**\n                        * @name time\n                        * @type {string}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => time,\n                },\n                jobID: {\n                    /**\n                        * @name jobID\n                        * @type {integer}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => jobID,\n                },\n                taskID: {\n                    /**\n                        * @name taskID\n                        * @type {integer}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => taskID,\n                },\n                projID: {\n                    /**\n                        * @name projID\n                        * @type {integer}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => projID,\n                },\n                clientID: {\n                    /**\n                        * @name clientID\n                        * @type {integer}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => clientID,\n                },\n                filename: {\n                    /**\n                        * @name filename\n                        * @type {string}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => filename,\n                },\n                line: {\n                    /**\n                        * @name line\n                        * @type {integer}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => line,\n                },\n                column: {\n                    /**\n                        * @name column\n                        * @type {integer}\n                        * @memberof module:API.cvat.exceptions.Exception\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => column,\n                },\n            }));\n        }\n\n        /**\n            * Save an exception on a server\n            * @name save\n            * @method\n            * @memberof Exception\n            * @instance\n            * @async\n        */\n        async save() {\n            const exceptionObject = {\n                system: this.system,\n                client: this.client,\n                time: this.time,\n                job_id: this.jobID,\n                task_id: this.taskID,\n                proj_id: this.projID,\n                client_id: this.clientID,\n                message: this.message,\n                filename: this.filename,\n                line: this.line,\n                column: this.column,\n                stack: this.stack,\n            };\n\n            try {\n                const serverProxy = require('./server-proxy');\n                await serverProxy.server.exception(exceptionObject);\n            } catch (exception) {\n                // add event\n            }\n        }\n    }\n\n    /**\n        * Exceptions are referred with arguments data\n        * @memberof module:API.cvat.exceptions\n        * @extends module:API.cvat.exceptions.Exception\n    */\n    class ArgumentError extends Exception {\n        /**\n            * @param {string} message - Exception message\n        */\n        constructor(message) {\n            super(message);\n        }\n    }\n\n    /**\n        * Unexpected problems with data which are not connected with a user input\n        * @memberof module:API.cvat.exceptions\n        * @extends module:API.cvat.exceptions.Exception\n    */\n    class DataError extends Exception {\n    /**\n        * @param {string} message - Exception message\n    */\n        constructor(message) {\n            super(message);\n        }\n    }\n\n    /**\n        * Unexpected situations in code\n        * @memberof module:API.cvat.exceptions\n        * @extends module:API.cvat.exceptions.Exception\n        */\n    class ScriptingError extends Exception {\n        /**\n            * @param {string} message - Exception message\n        */\n        constructor(message) {\n            super(message);\n        }\n    }\n\n    /**\n        * Plugin-referred exceptions\n        * @memberof module:API.cvat.exceptions\n        * @extends module:API.cvat.exceptions.Exception\n    */\n    class PluginError extends Exception {\n        /**\n            * @param {string} message - Exception message\n        */\n        constructor(message) {\n            super(message);\n        }\n    }\n\n    /**\n        * Exceptions in interaction with a server\n        * @memberof module:API.cvat.exceptions\n        * @extends module:API.cvat.exceptions.Exception\n    */\n    class ServerError extends Exception {\n        /**\n            * @param {string} message - Exception message\n            * @param {(string|integer)} code - Response code\n        */\n        constructor(message, code) {\n            super(message);\n\n            Object.defineProperties(this, Object.freeze({\n                /**\n                    * @name code\n                    * @type {(string|integer)}\n                    * @memberof module:API.cvat.exceptions.ServerError\n                    * @readonly\n                    * @instance\n                */\n                code: {\n                    get: () => code,\n                },\n            }));\n        }\n    }\n\n    module.exports = {\n        Exception,\n        ArgumentError,\n        DataError,\n        ScriptingError,\n        PluginError,\n        ServerError,\n    };\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n    encodeURIComponent:false\n*/\n\n(() => {\n    const FormData = require('form-data');\n    const {\n        ServerError,\n    } = require('./exceptions');\n    const store = require('store');\n    const config = require('./config');\n\n    class ServerProxy {\n        constructor() {\n            const Axios = require('axios');\n            Axios.defaults.withCredentials = true;\n            Axios.defaults.xsrfHeaderName = 'X-CSRFTOKEN';\n            Axios.defaults.xsrfCookieName = 'csrftoken';\n\n            let token = store.get('token');\n            if (token) {\n                Axios.defaults.headers.common.Authorization = `Token ${token}`;\n            }\n\n            async function about() {\n                const { backendAPI } = config;\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/server/about`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not get \"about\" information from the server',\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            async function share(directory) {\n                const { backendAPI } = config;\n                directory = encodeURIComponent(directory);\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/server/share?directory=${directory}`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not get \"share\" information from the server',\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            async function exception(exceptionObject) {\n                const { backendAPI } = config;\n\n                try {\n                    await Axios.post(`${backendAPI}/server/exception`, JSON.stringify(exceptionObject), {\n                        proxy: config.proxy,\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not send an exception to the server',\n                        code,\n                    );\n                }\n            }\n\n            async function formats() {\n                const { backendAPI } = config;\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/server/annotation/formats`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not get annotation formats from the server',\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            async function register(username, firstName, lastName, email, password1, password2) {\n                let response = null;\n                try {\n                    const data = JSON.stringify({\n                        username,\n                        first_name: firstName,\n                        last_name: lastName,\n                        email,\n                        password1,\n                        password2,\n                    });\n                    response = await Axios.post(`${config.backendAPI}/auth/register`, data, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        `Could not register '${username}' user on the server`,\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            async function login(username, password) {\n                const authenticationData = ([\n                    `${encodeURIComponent('username')}=${encodeURIComponent(username)}`,\n                    `${encodeURIComponent('password')}=${encodeURIComponent(password)}`,\n                ]).join('&').replace(/%20/g, '+');\n\n                let authenticationResponse = null;\n                try {\n                    authenticationResponse = await Axios.post(\n                        `${config.backendAPI}/auth/login`,\n                        authenticationData, {\n                            proxy: config.proxy,\n                        },\n                    );\n                } catch (errorData) {\n                    const code = errorData.response\n                        ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not login on a server',\n                        code,\n                    );\n                }\n\n                if (authenticationResponse.headers['set-cookie']) {\n                    // Browser itself setup cookie and header is none\n                    // In NodeJS we need do it manually\n                    const cookies = authenticationResponse.headers['set-cookie'].join(';');\n                    Axios.defaults.headers.common.Cookie = cookies;\n                }\n\n                token = authenticationResponse.data.key;\n                store.set('token', token);\n                Axios.defaults.headers.common.Authorization = `Token ${token}`;\n            }\n\n            async function logout() {\n                try {\n                    await Axios.post(`${config.backendAPI}/auth/logout`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not logout from the server',\n                        code,\n                    );\n                }\n\n                store.remove('token');\n                Axios.defaults.headers.common.Authorization = '';\n            }\n\n            async function authorized() {\n                try {\n                    await module.exports.users.getSelf();\n                } catch (serverError) {\n                    if (serverError.code === 401) {\n                        return false;\n                    }\n\n                    throw serverError;\n                }\n\n                return true;\n            }\n\n            async function getTasks(filter = '') {\n                const { backendAPI } = config;\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/tasks?${filter}`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not get tasks from a server',\n                        code,\n                    );\n                }\n\n                response.data.results.count = response.data.count;\n                return response.data.results;\n            }\n\n            async function saveTask(id, taskData) {\n                const { backendAPI } = config;\n\n                try {\n                    await Axios.patch(`${backendAPI}/tasks/${id}`, JSON.stringify(taskData), {\n                        proxy: config.proxy,\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not save the task on the server',\n                        code,\n                    );\n                }\n            }\n\n            async function deleteTask(id) {\n                const { backendAPI } = config;\n\n                try {\n                    await Axios.delete(`${backendAPI}/tasks/${id}`);\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not delete the task from the server',\n                        code,\n                    );\n                }\n            }\n\n            async function createTask(taskData, files, onUpdate) {\n                const { backendAPI } = config;\n\n                async function wait(id) {\n                    return new Promise((resolve, reject) => {\n                        async function checkStatus() {\n                            try {\n                                const response = await Axios.get(`${backendAPI}/tasks/${id}/status`);\n                                if (['Queued', 'Started'].includes(response.data.state)) {\n                                    if (response.data.message !== '') {\n                                        onUpdate(response.data.message);\n                                    }\n                                    setTimeout(checkStatus, 1000);\n                                } else if (response.data.state === 'Finished') {\n                                    resolve();\n                                } else if (response.data.state === 'Failed') {\n                                    // If request has been successful, but task hasn't been created\n                                    // Then passed data is wrong and we can pass code 400\n                                    reject(new ServerError(\n                                        'Could not create the task on the server',\n                                        400,\n                                    ));\n                                } else {\n                                    // If server has another status, it is unexpected\n                                    // Therefore it is server error and we can pass code 500\n                                    reject(new ServerError(\n                                        `Unknown task state has been received: ${response.data.state}`,\n                                        500,\n                                    ));\n                                }\n                            } catch (errorData) {\n                                const code = errorData.response\n                                    ? errorData.response.status : errorData.code;\n\n                                reject(new ServerError(\n                                    'Data uploading error occurred',\n                                    code,\n                                ));\n                            }\n                        }\n\n                        setTimeout(checkStatus, 1000);\n                    });\n                }\n\n                const batchOfFiles = new FormData();\n                for (const key in files) {\n                    if (Object.prototype.hasOwnProperty.call(files, key)) {\n                        for (let i = 0; i < files[key].length; i++) {\n                            batchOfFiles.append(`${key}[${i}]`, files[key][i]);\n                        }\n                    }\n                }\n\n                let response = null;\n\n                onUpdate('The task is being created on the server..');\n                try {\n                    response = await Axios.post(`${backendAPI}/tasks`, JSON.stringify(taskData), {\n                        proxy: config.proxy,\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not put task to the server',\n                        code,\n                    );\n                }\n\n                onUpdate('The data is being uploaded to the server..');\n                try {\n                    await Axios.post(`${backendAPI}/tasks/${response.data.id}/data`, batchOfFiles, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    await deleteTask(response.data.id);\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not put data to the server',\n                        code,\n                    );\n                }\n\n                try {\n                    await wait(response.data.id);\n                } catch (createException) {\n                    await deleteTask(response.data.id);\n                    throw createException;\n                }\n\n\n                const createdTask = await getTasks(`?id=${response.id}`);\n                return createdTask[0];\n            }\n\n            async function getJob(jobID) {\n                const { backendAPI } = config;\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/jobs/${jobID}`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not get jobs from a server',\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            async function saveJob(id, jobData) {\n                const { backendAPI } = config;\n\n                try {\n                    await Axios.patch(`${backendAPI}/jobs/${id}`, JSON.stringify(jobData), {\n                        proxy: config.proxy,\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not save the job on the server',\n                        code,\n                    );\n                }\n            }\n\n            async function getUsers() {\n                const { backendAPI } = config;\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/users`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not get users from the server',\n                        code,\n                    );\n                }\n\n                return response.data.results;\n            }\n\n            async function getSelf() {\n                const { backendAPI } = config;\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/users/self`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        'Could not get user data from the server',\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            async function getData(tid, frame) {\n                const { backendAPI } = config;\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/tasks/${tid}/frames/${frame}`, {\n                        proxy: config.proxy,\n                        responseType: 'blob',\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        `Could not get frame ${frame} for the task ${tid} from the server`,\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            async function getMeta(tid) {\n                const { backendAPI } = config;\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/tasks/${tid}/frames/meta`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        `Could not get frame meta info for the task ${tid} from the server`,\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            // Session is 'task' or 'job'\n            async function getAnnotations(session, id) {\n                const { backendAPI } = config;\n\n                let response = null;\n                try {\n                    response = await Axios.get(`${backendAPI}/${session}s/${id}/annotations`, {\n                        proxy: config.proxy,\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        `Could not get annotations for the ${session} ${id} from the server`,\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            // Session is 'task' or 'job'\n            async function updateAnnotations(session, id, data, action) {\n                const { backendAPI } = config;\n                let requestFunc = null;\n                let url = null;\n                if (action.toUpperCase() === 'PUT') {\n                    requestFunc = Axios.put.bind(Axios);\n                    url = `${backendAPI}/${session}s/${id}/annotations`;\n                } else {\n                    requestFunc = Axios.patch.bind(Axios);\n                    url = `${backendAPI}/${session}s/${id}/annotations?action=${action}`;\n                }\n\n                let response = null;\n                try {\n                    response = await requestFunc(url, JSON.stringify(data), {\n                        proxy: config.proxy,\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                    });\n                } catch (errorData) {\n                    const code = errorData.response ? errorData.response.status : errorData.code;\n                    throw new ServerError(\n                        `Could not updated annotations for the ${session} ${id} on the server`,\n                        code,\n                    );\n                }\n\n                return response.data;\n            }\n\n            // Session is 'task' or 'job'\n            async function uploadAnnotations(session, id, file, format) {\n                const { backendAPI } = config;\n\n                let annotationData = new FormData();\n                annotationData.append('annotation_file', file);\n\n                return new Promise((resolve, reject) => {\n                    async function request() {\n                        try {\n                            const response = await Axios\n                                .put(`${backendAPI}/${session}s/${id}/annotations?format=${format}`, annotationData, {\n                                    proxy: config.proxy,\n                                });\n                            if (response.status === 202) {\n                                annotationData = new FormData();\n                                setTimeout(request, 3000);\n                            } else {\n                                resolve();\n                            }\n                        } catch (errorData) {\n                            const code = errorData.response\n                                ? errorData.response.status : errorData.code;\n                            const error = new ServerError(\n                                `Could not upload annotations for the ${session} ${id}`,\n                                code,\n                            );\n                            reject(error);\n                        }\n                    }\n\n                    setTimeout(request);\n                });\n            }\n\n            // Session is 'task' or 'job'\n            async function dumpAnnotations(id, name, format) {\n                const { backendAPI } = config;\n                const filename = name.replace(/\\//g, '_');\n                let url = `${backendAPI}/tasks/${id}/annotations/${filename}?format=${format}`;\n\n                return new Promise((resolve, reject) => {\n                    async function request() {\n                        try {\n                            const response = await Axios\n                                .get(`${url}`, {\n                                    proxy: config.proxy,\n                                });\n                            if (response.status === 202) {\n                                setTimeout(request, 3000);\n                            } else {\n                                url = `${url}&action=download`;\n                                resolve(url);\n                            }\n                        } catch (errorData) {\n                            const code = errorData.response\n                                ? errorData.response.status : errorData.code;\n                            const error = new ServerError(\n                                `Could not dump annotations for the task ${id} from the server`,\n                                code,\n                            );\n                            reject(error);\n                        }\n                    }\n\n                    setTimeout(request);\n                });\n            }\n\n            Object.defineProperties(this, Object.freeze({\n                server: {\n                    value: Object.freeze({\n                        about,\n                        share,\n                        formats,\n                        exception,\n                        login,\n                        logout,\n                        authorized,\n                        register,\n                    }),\n                    writable: false,\n                },\n\n                tasks: {\n                    value: Object.freeze({\n                        getTasks,\n                        saveTask,\n                        createTask,\n                        deleteTask,\n                    }),\n                    writable: false,\n                },\n\n                jobs: {\n                    value: Object.freeze({\n                        getJob,\n                        saveJob,\n                    }),\n                    writable: false,\n                },\n\n                users: {\n                    value: Object.freeze({\n                        getUsers,\n                        getSelf,\n                    }),\n                    writable: false,\n                },\n\n                frames: {\n                    value: Object.freeze({\n                        getData,\n                        getMeta,\n                    }),\n                    writable: false,\n                },\n\n                annotations: {\n                    value: Object.freeze({\n                        updateAnnotations,\n                        getAnnotations,\n                        dumpAnnotations,\n                        uploadAnnotations,\n                    }),\n                    writable: false,\n                },\n            }));\n        }\n    }\n\n    const serverProxy = new ServerProxy();\n    module.exports = serverProxy;\n})();\n","var assign = make_assign()\nvar create = make_create()\nvar trim = make_trim()\nvar Global = (typeof window !== 'undefined' ? window : global)\n\nmodule.exports = {\n\tassign: assign,\n\tcreate: create,\n\ttrim: trim,\n\tbind: bind,\n\tslice: slice,\n\teach: each,\n\tmap: map,\n\tpluck: pluck,\n\tisList: isList,\n\tisFunction: isFunction,\n\tisObject: isObject,\n\tGlobal: Global\n}\n\nfunction make_assign() {\n\tif (Object.assign) {\n\t\treturn Object.assign\n\t} else {\n\t\treturn function shimAssign(obj, props1, props2, etc) {\n\t\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\t\teach(Object(arguments[i]), function(val, key) {\n\t\t\t\t\tobj[key] = val\n\t\t\t\t})\n\t\t\t}\t\t\t\n\t\t\treturn obj\n\t\t}\n\t}\n}\n\nfunction make_create() {\n\tif (Object.create) {\n\t\treturn function create(obj, assignProps1, assignProps2, etc) {\n\t\t\tvar assignArgsList = slice(arguments, 1)\n\t\t\treturn assign.apply(this, [Object.create(obj)].concat(assignArgsList))\n\t\t}\n\t} else {\n\t\tfunction F() {} // eslint-disable-line no-inner-declarations\n\t\treturn function create(obj, assignProps1, assignProps2, etc) {\n\t\t\tvar assignArgsList = slice(arguments, 1)\n\t\t\tF.prototype = obj\n\t\t\treturn assign.apply(this, [new F()].concat(assignArgsList))\n\t\t}\n\t}\n}\n\nfunction make_trim() {\n\tif (String.prototype.trim) {\n\t\treturn function trim(str) {\n\t\t\treturn String.prototype.trim.call(str)\n\t\t}\n\t} else {\n\t\treturn function trim(str) {\n\t\t\treturn str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '')\n\t\t}\n\t}\n}\n\nfunction bind(obj, fn) {\n\treturn function() {\n\t\treturn fn.apply(obj, Array.prototype.slice.call(arguments, 0))\n\t}\n}\n\nfunction slice(arr, index) {\n\treturn Array.prototype.slice.call(arr, index || 0)\n}\n\nfunction each(obj, fn) {\n\tpluck(obj, function(val, key) {\n\t\tfn(val, key)\n\t\treturn false\n\t})\n}\n\nfunction map(obj, fn) {\n\tvar res = (isList(obj) ? [] : {})\n\tpluck(obj, function(v, k) {\n\t\tres[k] = fn(v, k)\n\t\treturn false\n\t})\n\treturn res\n}\n\nfunction pluck(obj, fn) {\n\tif (isList(obj)) {\n\t\tfor (var i=0; i<obj.length; i++) {\n\t\t\tif (fn(obj[i], i)) {\n\t\t\t\treturn obj[i]\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (var key in obj) {\n\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\tif (fn(obj[key], key)) {\n\t\t\t\t\treturn obj[key]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction isList(val) {\n\treturn (val != null && typeof val != 'function' && typeof val.length == 'number')\n}\n\nfunction isFunction(val) {\n\treturn val && {}.toString.call(val) === '[object Function]'\n}\n\nfunction isObject(val) {\n\treturn val && {}.toString.call(val) === '[object Object]'\n}\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n(() => {\n    /**\n        * Enum for type of server files\n        * @enum {string}\n        * @name ShareFileType\n        * @memberof module:API.cvat.enums\n        * @property {string} DIR 'DIR'\n        * @property {string} REG 'REG'\n        * @readonly\n    */\n    const ShareFileType = Object.freeze({\n        DIR: 'DIR',\n        REG: 'REG',\n    });\n\n    /**\n        * Enum for a status of a task\n        * @enum {string}\n        * @name TaskStatus\n        * @memberof module:API.cvat.enums\n        * @property {string} ANNOTATION 'annotation'\n        * @property {string} VALIDATION 'validation'\n        * @property {string} COMPLETED 'completed'\n        * @readonly\n    */\n    const TaskStatus = Object.freeze({\n        ANNOTATION: 'annotation',\n        VALIDATION: 'validation',\n        COMPLETED: 'completed',\n    });\n\n    /**\n        * Enum for a mode of a task\n        * @enum {string}\n        * @name TaskMode\n        * @memberof module:API.cvat.enums\n        * @property {string} ANNOTATION 'annotation'\n        * @property {string} INTERPOLATION 'interpolation'\n        * @readonly\n    */\n    const TaskMode = Object.freeze({\n        ANNOTATION: 'annotation',\n        INTERPOLATION: 'interpolation',\n    });\n\n    /**\n        * Enum for type of server files\n        * @enum {string}\n        * @name AttributeType\n        * @memberof module:API.cvat.enums\n        * @property {string} CHECKBOX 'checkbox'\n        * @property {string} SELECT 'select'\n        * @property {string} RADIO 'radio'\n        * @property {string} NUMBER 'number'\n        * @property {string} TEXT 'text'\n        * @readonly\n    */\n    const AttributeType = Object.freeze({\n        CHECKBOX: 'checkbox',\n        RADIO: 'radio',\n        SELECT: 'select',\n        NUMBER: 'number',\n        TEXT: 'text',\n    });\n\n    /**\n        * Enum for type of an object\n        * @enum {string}\n        * @name ObjectType\n        * @memberof module:API.cvat.enums\n        * @property {string} TAG 'tag'\n        * @property {string} SHAPE 'shape'\n        * @property {string} TRACK 'track'\n        * @readonly\n    */\n    const ObjectType = Object.freeze({\n        TAG: 'tag',\n        SHAPE: 'shape',\n        TRACK: 'track',\n    });\n\n    /**\n        * Enum for type of server files\n        * @enum {string}\n        * @name ObjectShape\n        * @memberof module:API.cvat.enums\n        * @property {string} RECTANGLE 'rectangle'\n        * @property {string} POLYGON 'polygon'\n        * @property {string} POLYLINE 'polyline'\n        * @property {string} POINTS 'points'\n        * @readonly\n    */\n    const ObjectShape = Object.freeze({\n        RECTANGLE: 'rectangle',\n        POLYGON: 'polygon',\n        POLYLINE: 'polyline',\n        POINTS: 'points',\n    });\n\n    /**\n        * Enum for type of server files\n        * @enum {number}\n        * @name LogType\n        * @memberof module:API.cvat.enums\n        * @property {number} pasteObject 0\n        * @property {number} changeAttribute 1\n        * @property {number} dragObject 2\n        * @property {number} deleteObject 3\n        * @property {number} pressShortcut 4\n        * @property {number} resizeObject 5\n        * @property {number} sendLogs 6\n        * @property {number} saveJob 7\n        * @property {number} jumpFrame 8\n        * @property {number} drawObject 9\n        * @property {number} changeLabel 10\n        * @property {number} sendTaskInfo 11\n        * @property {number} loadJob 12\n        * @property {number} moveImage 13\n        * @property {number} zoomImage 14\n        * @property {number} lockObject 15\n        * @property {number} mergeObjects 16\n        * @property {number} copyObject 17\n        * @property {number} propagateObject 18\n        * @property {number} undoAction 19\n        * @property {number} redoAction 20\n        * @property {number} sendUserActivity 21\n        * @property {number} sendException 22\n        * @property {number} changeFrame 23\n        * @property {number} debugInfo 24\n        * @property {number} fitImage 25\n        * @property {number} rotateImage 26\n        * @readonly\n    */\n    const LogType = {\n        pasteObject: 0,\n        changeAttribute: 1,\n        dragObject: 2,\n        deleteObject: 3,\n        pressShortcut: 4,\n        resizeObject: 5,\n        sendLogs: 6,\n        saveJob: 7,\n        jumpFrame: 8,\n        drawObject: 9,\n        changeLabel: 10,\n        sendTaskInfo: 11,\n        loadJob: 12,\n        moveImage: 13,\n        zoomImage: 14,\n        lockObject: 15,\n        mergeObjects: 16,\n        copyObject: 17,\n        propagateObject: 18,\n        undoAction: 19,\n        redoAction: 20,\n        sendUserActivity: 21,\n        sendException: 22,\n        changeFrame: 23,\n        debugInfo: 24,\n        fitImage: 25,\n        rotateImage: 26,\n    };\n\n    /**\n        * Enum for type of server files\n        * @enum {number}\n        * @name EventType\n        * @memberof module:API.cvat.enums\n        * @property {number} frameDownloaded 0\n        * @readonly\n    */\n    const EventType = Object.freeze({\n        frameDownloaded: 0,\n    });\n\n    module.exports = {\n        ShareFileType,\n        TaskStatus,\n        TaskMode,\n        AttributeType,\n        ObjectType,\n        ObjectShape,\n        LogType,\n        EventType,\n    };\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const { PluginError } = require('./exceptions');\n\n    const plugins = [];\n    class PluginRegistry {\n        static async apiWrapper(wrappedFunc, ...args) {\n            // I have to optimize the wrapper\n            const pluginList = await PluginRegistry.list();\n            for (const plugin of pluginList) {\n                const pluginDecorators = plugin.functions\n                    .filter(obj => obj.callback === wrappedFunc)[0];\n                if (pluginDecorators && pluginDecorators.enter) {\n                    try {\n                        await pluginDecorators.enter.call(this, plugin, ...args);\n                    } catch (exception) {\n                        if (exception instanceof PluginError) {\n                            throw exception;\n                        } else {\n                            throw new PluginError(`Exception in plugin ${plugin.name}: ${exception.toString()}`);\n                        }\n                    }\n                }\n            }\n\n            let result = await wrappedFunc.implementation.call(this, ...args);\n\n            for (const plugin of pluginList) {\n                const pluginDecorators = plugin.functions\n                    .filter(obj => obj.callback === wrappedFunc)[0];\n                if (pluginDecorators && pluginDecorators.leave) {\n                    try {\n                        result = await pluginDecorators.leave.call(this, plugin, result, ...args);\n                    } catch (exception) {\n                        if (exception instanceof PluginError) {\n                            throw exception;\n                        } else {\n                            throw new PluginError(`Exception in plugin ${plugin.name}: ${exception.toString()}`);\n                        }\n                    }\n                }\n            }\n\n            return result;\n        }\n\n        // Called with cvat context\n        static async register(plug) {\n            const functions = [];\n\n            if (typeof (plug) !== 'object') {\n                throw new PluginError(`Plugin should be an object, but got \"${typeof (plug)}\"`);\n            }\n\n            if (!('name' in plug) || typeof (plug.name) !== 'string') {\n                throw new PluginError('Plugin must contain a \"name\" field and it must be a string');\n            }\n\n            if (!('description' in plug) || typeof (plug.description) !== 'string') {\n                throw new PluginError('Plugin must contain a \"description\" field and it must be a string');\n            }\n\n            if ('functions' in plug) {\n                throw new PluginError('Plugin must not contain a \"functions\" field');\n            }\n\n            (function traverse(plugin, api) {\n                const decorator = {};\n                for (const key in plugin) {\n                    if (Object.prototype.hasOwnProperty.call(plugin, key)) {\n                        if (typeof (plugin[key]) === 'object') {\n                            if (Object.prototype.hasOwnProperty.call(api, key)) {\n                                traverse(plugin[key], api[key]);\n                            }\n                        } else if (['enter', 'leave'].includes(key)\n                            && typeof (api) === 'function'\n                            && typeof (plugin[key] === 'function')) {\n                            decorator.callback = api;\n                            decorator[key] = plugin[key];\n                        }\n                    }\n                }\n\n                if (Object.keys(decorator).length) {\n                    functions.push(decorator);\n                }\n            }(plug, {\n                cvat: this,\n            }));\n\n            Object.defineProperty(plug, 'functions', {\n                value: functions,\n                writable: false,\n            });\n\n            plugins.push(plug);\n        }\n\n        static async list() {\n            return plugins;\n        }\n    }\n\n    module.exports = PluginRegistry;\n})();\n","module.exports = require(\"util\");","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const PluginRegistry = require('./plugins');\n    const serverProxy = require('./server-proxy');\n    const { getFrame } = require('./frames');\n    const { ArgumentError } = require('./exceptions');\n    const { TaskStatus } = require('./enums');\n    const { Label } = require('./labels');\n\n    function buildDublicatedAPI(prototype) {\n        Object.defineProperties(prototype, {\n            annotations: Object.freeze({\n                value: {\n                    async upload(file, loader) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.upload, file, loader);\n                        return result;\n                    },\n\n                    async save() {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.save);\n                        return result;\n                    },\n\n                    async clear(reload = false) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.clear, reload);\n                        return result;\n                    },\n\n                    async dump(name, dumper) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.dump, name, dumper);\n                        return result;\n                    },\n\n                    async statistics() {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.statistics);\n                        return result;\n                    },\n\n                    async put(arrayOfObjects = []) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.put, arrayOfObjects);\n                        return result;\n                    },\n\n                    async get(frame, filter = {}) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.get, frame, filter);\n                        return result;\n                    },\n\n                    async search(filter, frameFrom, frameTo) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.search,\n                                filter, frameFrom, frameTo);\n                        return result;\n                    },\n\n                    async select(objectStates, x, y) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this,\n                                prototype.annotations.select, objectStates, x, y);\n                        return result;\n                    },\n\n                    async hasUnsavedChanges() {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.hasUnsavedChanges);\n                        return result;\n                    },\n\n                    async merge(objectStates) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.merge, objectStates);\n                        return result;\n                    },\n\n                    async split(objectState, frame) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.split, objectState, frame);\n                        return result;\n                    },\n\n                    async group(objectStates, reset = false) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.annotations.group,\n                                objectStates, reset);\n                        return result;\n                    },\n                },\n                writable: true,\n            }),\n            frames: Object.freeze({\n                value: {\n                    async get(frame) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.frames.get, frame);\n                        return result;\n                    },\n                },\n                writable: true,\n            }),\n            logs: Object.freeze({\n                value: {\n                    async put(logType, details) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.logs.put, logType, details);\n                        return result;\n                    },\n                    async save(onUpdate) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.logs.save, onUpdate);\n                        return result;\n                    },\n                },\n                writable: true,\n            }),\n            actions: Object.freeze({\n                value: {\n                    async undo(count) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.actions.undo, count);\n                        return result;\n                    },\n                    async redo(count) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.actions.redo, count);\n                        return result;\n                    },\n                    async clear() {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.actions.clear);\n                        return result;\n                    },\n                },\n                writable: true,\n            }),\n            events: Object.freeze({\n                value: {\n                    async subscribe(evType, callback) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.events.subscribe, evType, callback);\n                        return result;\n                    },\n                    async unsubscribe(evType, callback = null) {\n                        const result = await PluginRegistry\n                            .apiWrapper.call(this, prototype.events.unsubscribe, evType, callback);\n                        return result;\n                    },\n                },\n                writable: true,\n            }),\n        });\n    }\n\n    /**\n        * Base abstract class for Task and Job. It contains common members.\n        * @hideconstructor\n        * @virtual\n    */\n    class Session {\n        constructor() {\n            /**\n                * An interaction with annotations\n                * @namespace annotations\n                * @memberof Session\n            */\n            /**\n                * Upload annotations from a dump file\n                * You need upload annotations from a server again after successful executing\n                * @method upload\n                * @memberof Session.annotations\n                * @param {File} annotations - a text file with annotations\n                * @param {module:API.cvat.classes.Loader} loader - a loader\n                * which will be used to upload\n                * @instance\n                * @async\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n            */\n            /**\n                * Save all changes in annotations on a server\n                * Objects which hadn't been saved on a server before,\n                * get a serverID after saving. But received object states aren't updated.\n                * So, after successful saving it's recommended to update them manually\n                * (call the annotations.get() again)\n                * @method save\n                * @memberof Session.annotations\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n                * @instance\n                * @async\n                * @param {function} [onUpdate] saving can be long.\n                * This callback can be used to notify a user about current progress\n                * Its argument is a text string\n            */\n            /**\n                * Remove all annotations and optionally reinitialize it\n                * @method clear\n                * @memberof Session.annotations\n                * @param {boolean} [reload = false] reset all changes and\n                * reinitialize annotations by data from a server\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n                * @instance\n                * @async\n            */\n            /**\n                * Dump of annotations to a file.\n                * Method always dumps annotations for a whole task.\n                * @method dump\n                * @memberof Session.annotations\n                * @param {string} name - a name of a file with annotations\n                * @param {module:API.cvat.classes.Dumper} dumper - a dumper\n                * which will be used to dump\n                * @returns {string} URL which can be used in order to get a dump file\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @instance\n                * @async\n            */\n            /**\n                * Collect short statistics about a task or a job.\n                * @method statistics\n                * @memberof Session.annotations\n                * @returns {module:API.cvat.classes.Statistics} statistics object\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @instance\n                * @async\n            */\n            /**\n                * Create new objects from one-frame states\n                * After successful adding you need to update object states on a frame\n                * @method put\n                * @memberof Session.annotations\n                * @param {module:API.cvat.classes.ObjectState[]} data\n                * array of objects on the specific frame\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.DataError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @instance\n                * @async\n            */\n            /**\n                * @typedef {Object} ObjectFilter\n                * @property {string} [label] a name of a label\n                * @property {module:API.cvat.enums.ObjectType} [type]\n                * @property {module:API.cvat.enums.ObjectShape} [shape]\n                * @property {boolean} [occluded] a value of occluded property\n                * @property {boolean} [lock] a value of lock property\n                * @property {number} [width] a width of a shape\n                * @property {number} [height] a height of a shape\n                * @property {Object[]} [attributes] dictionary with \"name: value\" pairs\n                * @global\n            */\n            /**\n                * Get annotations for a specific frame\n                * @method get\n                * @param {integer} frame get objects from the frame\n                * @param {ObjectFilter[]} [filter = []]\n                * get only objects are satisfied to specific filter\n                * @returns {module:API.cvat.classes.ObjectState[]}\n                * @memberof Session.annotations\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @instance\n                * @async\n            */\n            /**\n                * Find frame which contains at least one object satisfied to a filter\n                * @method search\n                * @memberof Session.annotations\n                * @param {ObjectFilter} [filter = []] filter\n                * @param {integer} from lower bound of a search\n                * @param {integer} to upper bound of a search\n                * @returns {integer} the nearest frame which contains filtered objects\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @instance\n                * @async\n            */\n            /**\n                * Select shape under a cursor by using minimal distance\n                * between a cursor and a shape edge or a shape point\n                * For closed shapes a cursor is placed inside a shape\n                * @method select\n                * @memberof Session.annotations\n                * @param {module:API.cvat.classes.ObjectState[]} objectStates\n                * objects which can be selected\n                * @param {float} x horizontal coordinate\n                * @param {float} y vertical coordinate\n                * @returns {Object}\n                * a pair of {state: ObjectState, distance: number} for selected object.\n                * Pair values can be null if there aren't any sutisfied objects\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @instance\n                * @async\n            */\n            /**\n                * Method unites several shapes and tracks into the one\n                * All shapes must be the same (rectangle, polygon, etc)\n                * All labels must be the same\n                * After successful merge you need to update object states on a frame\n                * @method merge\n                * @memberof Session.annotations\n                * @param {module:API.cvat.classes.ObjectState[]} objectStates\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @instance\n                * @async\n            */\n            /**\n                * Method splits a track into two parts\n                * (start frame: previous frame), (frame, last frame)\n                * After successful split you need to update object states on a frame\n                * @method split\n                * @memberof Session.annotations\n                * @param {module:API.cvat.classes.ObjectState} objectState\n                * @param {integer} frame\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @instance\n                * @async\n            */\n            /**\n                * Method creates a new group and put all passed objects into it\n                * After successful split you need to update object states on a frame\n                * @method group\n                * @memberof Session.annotations\n                * @param {module:API.cvat.classes.ObjectState[]} objectStates\n                * @param {boolean} reset pass \"true\" to reset group value (set it to 0)\n                * @returns {integer} an ID of created group\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @instance\n                * @async\n            */\n            /**\n                * Indicate if there are any changes in\n                * annotations which haven't been saved on a server\n                * @method hasUnsavedChanges\n                * @memberof Session.annotations\n                * @returns {boolean}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @instance\n                * @async\n            */\n\n\n            /**\n                * Namespace is used for an interaction with frames\n                * @namespace frames\n                * @memberof Session\n            */\n            /**\n                * Get frame by its number\n                * @method get\n                * @memberof Session.frames\n                * @param {integer} frame number of frame which you want to get\n                * @returns {module:API.cvat.classes.FrameData}\n                * @instance\n                * @async\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n            */\n\n            /**\n                * Namespace is used for an interaction with logs\n                * @namespace logs\n                * @memberof Session\n            */\n\n            /**\n                * Append log to a log collection.\n                * Continue logs will have been added after \"close\" method is called\n                * @method put\n                * @memberof Session.logs\n                * @param {module:API.cvat.enums.LogType} type a type of a log\n                * @param {boolean} continuous log is a continuous log\n                * @param {Object} details any others data which will be append to log data\n                * @returns {module:API.cvat.classes.Log}\n                * @instance\n                * @async\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n            */\n            /**\n                * Save accumulated logs on a server\n                * @method save\n                * @memberof Session.logs\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n                * @instance\n                * @async\n            */\n\n            /**\n                * Namespace is used for an interaction with actions\n                * @namespace actions\n                * @memberof Session\n            */\n\n            /**\n                * Is a dictionary of pairs \"id:action\" where \"id\" is an identifier of an object\n                * which has been affected by undo/redo and \"action\" is what exactly has been\n                * done with the object. Action can be: \"created\", \"deleted\", \"updated\".\n                * Size of an output array equal the param \"count\".\n                * @typedef {Object} HistoryAction\n                * @global\n            */\n            /**\n                * Undo actions\n                * @method undo\n                * @memberof Session.actions\n                * @returns {HistoryAction}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @instance\n                * @async\n            */\n            /**\n                * Redo actions\n                * @method redo\n                * @memberof Session.actions\n                * @returns {HistoryAction}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @instance\n                * @async\n            */\n\n\n            /**\n                * Namespace is used for an interaction with events\n                * @namespace events\n                * @memberof Session\n            */\n            /**\n                * Subscribe on an event\n                * @method subscribe\n                * @memberof Session.events\n                * @param {module:API.cvat.enums.EventType} type - event type\n                * @param {functions} callback - function which will be called on event\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @instance\n                * @async\n            */\n            /**\n                * Unsubscribe from an event. If callback is not provided,\n                * all callbacks will be removed from subscribers for the event\n                * @method unsubscribe\n                * @memberof Session.events\n                * @param {module:API.cvat.enums.EventType} type - event type\n                * @param {functions} [callback = null] - function which is called on event\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ArgumentError}\n                * @instance\n                * @async\n            */\n        }\n    }\n\n    /**\n        * Class representing a job.\n        * @memberof module:API.cvat.classes\n        * @hideconstructor\n        * @extends Session\n    */\n    class Job extends Session {\n        constructor(initialData) {\n            super();\n            const data = {\n                id: undefined,\n                assignee: undefined,\n                status: undefined,\n                start_frame: undefined,\n                stop_frame: undefined,\n                task: undefined,\n                estimated_completion_date: undefined,\n                progress: undefined,\n            };\n            for (const property in data) {\n                if (Object.prototype.hasOwnProperty.call(data, property)) {\n                    if (property in initialData) {\n                        data[property] = initialData[property];\n                    }\n\n                    if (data[property] === undefined) {\n                        throw new ArgumentError(\n                            `Job field \"${property}\" was not initialized`,\n                        );\n                    }\n                }\n            }\n\n            Object.defineProperties(this, Object.freeze({\n                /**\n                    * @name id\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Job\n                    * @readonly\n                    * @instance\n                */\n                id: {\n                    get: () => data.id,\n                },\n                /**\n                    * Identifier of a user who is responsible for the job\n                    * @name assignee\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Job\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                assignee: {\n                    get: () => data.assignee,\n                    set: () => (assignee) => {\n                        if (!Number.isInteger(assignee) || assignee < 0) {\n                            throw new ArgumentError(\n                                'Value must be a non negative integer',\n                            );\n                        }\n                        data.assignee = assignee;\n                    },\n                },\n                /**\n                    * @name status\n                    * @type {module:API.cvat.enums.TaskStatus}\n                    * @memberof module:API.cvat.classes.Job\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                status: {\n                    get: () => data.status,\n                    set: (status) => {\n                        const type = TaskStatus;\n                        let valueInEnum = false;\n                        for (const value in type) {\n                            if (type[value] === status) {\n                                valueInEnum = true;\n                                break;\n                            }\n                        }\n\n                        if (!valueInEnum) {\n                            throw new ArgumentError(\n                                'Value must be a value from the enumeration cvat.enums.TaskStatus',\n                            );\n                        }\n\n                        data.status = status;\n                    },\n                },\n                /**\n                    * @name startFrame\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Job\n                    * @readonly\n                    * @instance\n                */\n                startFrame: {\n                    get: () => data.start_frame,\n                },\n                /**\n                    * @name stopFrame\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Job\n                    * @readonly\n                    * @instance\n                */\n                stopFrame: {\n                    get: () => data.stop_frame,\n                },\n                /**\n                    * @name task\n                    * @type {module:API.cvat.classes.Task}\n                    * @memberof module:API.cvat.classes.Job\n                    * @readonly\n                    * @instance\n                */\n                task: {\n                    get: () => data.task,\n                },\n                /**\n                    * Job complete to date.\n                    * @name estimated_completion_date\n                    * @type {string}\n                    * @memberof module:API.cvat.classes.Job\n                    * @readonly\n                    * @instance\n                */\n                estimated_completion_date: {\n                    get: () => data.estimated_completion_date,\n                },\n                /**\n                    * Job progress percent.\n                    * @name progress\n                    * @type {string}\n                    * @memberof module:API.cvat.classes.Job\n                    * @readonly\n                    * @instance\n                */\n                progress: {\n                    get: () => data.progress,\n                },\n            }));\n\n            // When we call a function, for example: task.annotations.get()\n            // In the method get we lose the task context\n            // So, we need return it\n            this.annotations = {\n                get: Object.getPrototypeOf(this).annotations.get.bind(this),\n                put: Object.getPrototypeOf(this).annotations.put.bind(this),\n                save: Object.getPrototypeOf(this).annotations.save.bind(this),\n                dump: Object.getPrototypeOf(this).annotations.dump.bind(this),\n                merge: Object.getPrototypeOf(this).annotations.merge.bind(this),\n                split: Object.getPrototypeOf(this).annotations.split.bind(this),\n                group: Object.getPrototypeOf(this).annotations.group.bind(this),\n                clear: Object.getPrototypeOf(this).annotations.clear.bind(this),\n                upload: Object.getPrototypeOf(this).annotations.upload.bind(this),\n                select: Object.getPrototypeOf(this).annotations.select.bind(this),\n                statistics: Object.getPrototypeOf(this).annotations.statistics.bind(this),\n                hasUnsavedChanges: Object.getPrototypeOf(this)\n                    .annotations.hasUnsavedChanges.bind(this),\n            };\n\n            this.frames = {\n                get: Object.getPrototypeOf(this).frames.get.bind(this),\n            };\n        }\n\n        /**\n            * Method updates job data like status or assignee\n            * @method save\n            * @memberof module:API.cvat.classes.Job\n            * @readonly\n            * @instance\n            * @async\n            * @throws {module:API.cvat.exceptions.ServerError}\n            * @throws {module:API.cvat.exceptions.PluginError}\n        */\n        async save() {\n            const result = await PluginRegistry\n                .apiWrapper.call(this, Job.prototype.save);\n            return result;\n        }\n    }\n\n    /**\n        * Class representing a task\n        * @memberof module:API.cvat.classes\n        * @extends Session\n    */\n    class Task extends Session {\n    /**\n        * In a fact you need use the constructor only if you want to create a task\n        * @param {object} initialData - Object which is used for initalization\n        * <br> It can contain keys:\n        * <br> <li style=\"margin-left: 10px;\"> name\n        * <br> <li style=\"margin-left: 10px;\"> assignee\n        * <br> <li style=\"margin-left: 10px;\"> bug_tracker\n        * <br> <li style=\"margin-left: 10px;\"> z_order\n        * <br> <li style=\"margin-left: 10px;\"> labels\n        * <br> <li style=\"margin-left: 10px;\"> segment_size\n        * <br> <li style=\"margin-left: 10px;\"> overlap\n    */\n        constructor(initialData) {\n            super();\n            const data = {\n                id: undefined,\n                name: undefined,\n                status: undefined,\n                size: undefined,\n                mode: undefined,\n                owner: undefined,\n                assignee: undefined,\n                created_date: undefined,\n                updated_date: undefined,\n                bug_tracker: undefined,\n                overlap: undefined,\n                segment_size: undefined,\n                z_order: undefined,\n                image_quality: undefined,\n                start_frame: undefined,\n                stop_frame: undefined,\n                frame_filter: undefined,\n            };\n\n            for (const property in data) {\n                if (Object.prototype.hasOwnProperty.call(data, property)\n                    && property in initialData) {\n                    data[property] = initialData[property];\n                }\n            }\n\n            data.labels = [];\n            data.jobs = [];\n            data.files = Object.freeze({\n                server_files: [],\n                client_files: [],\n                remote_files: [],\n            });\n\n            if (Array.isArray(initialData.segments)) {\n                for (const segment of initialData.segments) {\n                    if (Array.isArray(segment.jobs)) {\n                        for (const job of segment.jobs) {\n                            const jobInstance = new Job({\n                                url: job.url,\n                                id: job.id,\n                                assignee: job.assignee,\n                                status: job.status,\n                                start_frame: segment.start_frame,\n                                stop_frame: segment.stop_frame,\n                                task: this,\n                                estimated_completion_date: job.estimated_completion_date,\n                                progress: job.progress,\n                            });\n                            data.jobs.push(jobInstance);\n                        }\n                    }\n                }\n            }\n\n            if (Array.isArray(initialData.labels)) {\n                for (const label of initialData.labels) {\n                    const classInstance = new Label(label);\n                    data.labels.push(classInstance);\n                }\n            }\n\n            Object.defineProperties(this, Object.freeze({\n                /**\n                    * @name id\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Task\n                    * @readonly\n                    * @instance\n                */\n                id: {\n                    get: () => data.id,\n                },\n                /**\n                    * @name name\n                    * @type {string}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                name: {\n                    get: () => data.name,\n                    set: (value) => {\n                        if (!value.trim().length) {\n                            throw new ArgumentError(\n                                'Value must not be empty',\n                            );\n                        }\n                        data.name = value;\n                    },\n                },\n                /**\n                    * @name status\n                    * @type {module:API.cvat.enums.TaskStatus}\n                    * @memberof module:API.cvat.classes.Task\n                    * @readonly\n                    * @instance\n                */\n                status: {\n                    get: () => data.status,\n                },\n                /**\n                    * @name size\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Task\n                    * @readonly\n                    * @instance\n                */\n                size: {\n                    get: () => data.size,\n                },\n                /**\n                    * @name mode\n                    * @type {TaskMode}\n                    * @memberof module:API.cvat.classes.Task\n                    * @readonly\n                    * @instance\n                */\n                mode: {\n                    get: () => data.mode,\n                },\n                /**\n                    * Identificator of a user who has created the task\n                    * @name owner\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Task\n                    * @readonly\n                    * @instance\n                */\n                owner: {\n                    get: () => data.owner,\n                },\n                /**\n                    * Identificator of a user who is responsible for the task\n                    * @name assignee\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                assignee: {\n                    get: () => data.assignee,\n                    set: () => (assignee) => {\n                        if (!Number.isInteger(assignee) || assignee < 0) {\n                            throw new ArgumentError(\n                                'Value must be a non negative integer',\n                            );\n                        }\n                        data.assignee = assignee;\n                    },\n                },\n                /**\n                    * @name createdDate\n                    * @type {string}\n                    * @memberof module:API.cvat.classes.Task\n                    * @readonly\n                    * @instance\n                */\n                createdDate: {\n                    get: () => data.created_date,\n                },\n                /**\n                    * @name updatedDate\n                    * @type {string}\n                    * @memberof module:API.cvat.classes.Task\n                    * @readonly\n                    * @instance\n                */\n                updatedDate: {\n                    get: () => data.updated_date,\n                },\n                /**\n                    * @name bugTracker\n                    * @type {string}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                bugTracker: {\n                    get: () => data.bug_tracker,\n                    set: (tracker) => {\n                        data.bug_tracker = tracker;\n                    },\n                },\n                /**\n                    * @name overlap\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                overlap: {\n                    get: () => data.overlap,\n                    set: (overlap) => {\n                        if (!Number.isInteger(overlap) || overlap < 0) {\n                            throw new ArgumentError(\n                                'Value must be a non negative integer',\n                            );\n                        }\n                        data.overlap = overlap;\n                    },\n                },\n                /**\n                    * @name segmentSize\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                segmentSize: {\n                    get: () => data.segment_size,\n                    set: (segment) => {\n                        if (!Number.isInteger(segment) || segment < 0) {\n                            throw new ArgumentError(\n                                'Value must be a positive integer',\n                            );\n                        }\n                        data.segment_size = segment;\n                    },\n                },\n                /**\n                    * @name zOrder\n                    * @type {boolean}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                zOrder: {\n                    get: () => data.z_order,\n                    set: (zOrder) => {\n                        if (typeof (zOrder) !== 'boolean') {\n                            throw new ArgumentError(\n                                'Value must be a boolean',\n                            );\n                        }\n                        data.z_order = zOrder;\n                    },\n                },\n                /**\n                    * @name imageQuality\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                imageQuality: {\n                    get: () => data.image_quality,\n                    set: (quality) => {\n                        if (!Number.isInteger(quality) || quality < 0) {\n                            throw new ArgumentError(\n                                'Value must be a positive integer',\n                            );\n                        }\n                        data.image_quality = quality;\n                    },\n                },\n                /**\n                    * After task has been created value can be appended only.\n                    * @name labels\n                    * @type {module:API.cvat.classes.Label[]}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                labels: {\n                    get: () => [...data.labels],\n                    set: (labels) => {\n                        if (!Array.isArray(labels)) {\n                            throw new ArgumentError(\n                                'Value must be an array of Labels',\n                            );\n                        }\n\n                        for (const label of labels) {\n                            if (!(label instanceof Label)) {\n                                throw new ArgumentError(\n                                    'Each array value must be an instance of Label. '\n                                        + `${typeof (label)} was found`,\n                                );\n                            }\n                        }\n\n                        if (typeof (data.id) === 'undefined') {\n                            data.labels = [...labels];\n                        } else {\n                            data.labels = data.labels.concat([...labels]);\n                        }\n                    },\n                },\n                /**\n                    * @name jobs\n                    * @type {module:API.cvat.classes.Job[]}\n                    * @memberof module:API.cvat.classes.Task\n                    * @readonly\n                    * @instance\n                */\n                jobs: {\n                    get: () => [...data.jobs],\n                },\n                /**\n                    * List of files from shared resource\n                    * @name serverFiles\n                    * @type {string[]}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                serverFiles: {\n                    get: () => [...data.files.server_files],\n                    set: (serverFiles) => {\n                        if (!Array.isArray(serverFiles)) {\n                            throw new ArgumentError(\n                                `Value must be an array. But ${typeof (serverFiles)} has been got.`,\n                            );\n                        }\n\n                        for (const value of serverFiles) {\n                            if (typeof (value) !== 'string') {\n                                throw new ArgumentError(\n                                    `Array values must be a string. But ${typeof (value)} has been got.`,\n                                );\n                            }\n                        }\n\n                        Array.prototype.push.apply(data.files.server_files, serverFiles);\n                    },\n                },\n                /**\n                    * List of files from client host\n                    * @name clientFiles\n                    * @type {File[]}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                clientFiles: {\n                    get: () => [...data.files.client_files],\n                    set: (clientFiles) => {\n                        if (!Array.isArray(clientFiles)) {\n                            throw new ArgumentError(\n                                `Value must be an array. But ${typeof (clientFiles)} has been got.`,\n                            );\n                        }\n\n                        for (const value of clientFiles) {\n                            if (!(value instanceof File)) {\n                                throw new ArgumentError(\n                                    `Array values must be a File. But ${value.constructor.name} has been got.`,\n                                );\n                            }\n                        }\n\n                        Array.prototype.push.apply(data.files.client_files, clientFiles);\n                    },\n                },\n                /**\n                    * List of files from remote host\n                    * @name remoteFiles\n                    * @type {File[]}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                remoteFiles: {\n                    get: () => [...data.files.remote_files],\n                    set: (remoteFiles) => {\n                        if (!Array.isArray(remoteFiles)) {\n                            throw new ArgumentError(\n                                `Value must be an array. But ${typeof (remoteFiles)} has been got.`,\n                            );\n                        }\n\n                        for (const value of remoteFiles) {\n                            if (typeof (value) !== 'string') {\n                                throw new ArgumentError(\n                                    `Array values must be a string. But ${typeof (value)} has been got.`,\n                                );\n                            }\n                        }\n\n                        Array.prototype.push.apply(data.files.remote_files, remoteFiles);\n                    },\n                },\n                /**\n                    * The first frame of a video to annotation\n                    * @name startFrame\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                startFrame: {\n                    get: () => data.start_frame,\n                    set: (frame) => {\n                        if (!Number.isInteger(frame) || frame < 0) {\n                            throw new ArgumentError(\n                                'Value must be a not negative integer',\n                            );\n                        }\n                        data.start_frame = frame;\n                    },\n                },\n                /**\n                    * The last frame of a video to annotation\n                    * @name stopFrame\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                stopFrame: {\n                    get: () => data.stop_frame,\n                    set: (frame) => {\n                        if (!Number.isInteger(frame) || frame < 0) {\n                            throw new ArgumentError(\n                                'Value must be a not negative integer',\n                            );\n                        }\n                        data.stop_frame = frame;\n                    },\n                },\n                /**\n                    * Filter to ignore some frames during task creation\n                    * @name frameFilter\n                    * @type {string}\n                    * @memberof module:API.cvat.classes.Task\n                    * @instance\n                    * @throws {module:API.cvat.exceptions.ArgumentError}\n                */\n                frameFilter: {\n                    get: () => data.frame_filter,\n                    set: (filter) => {\n                        if (typeof (filter) !== 'string') {\n                            throw new ArgumentError(\n                                `Filter value must be a string. But ${typeof (filter)} has been got.`,\n                            );\n                        }\n\n                        data.frame_filter = filter;\n                    },\n                },\n            }));\n\n            // When we call a function, for example: task.annotations.get()\n            // In the method get we lose the task context\n            // So, we need return it\n            this.annotations = {\n                get: Object.getPrototypeOf(this).annotations.get.bind(this),\n                put: Object.getPrototypeOf(this).annotations.put.bind(this),\n                save: Object.getPrototypeOf(this).annotations.save.bind(this),\n                dump: Object.getPrototypeOf(this).annotations.dump.bind(this),\n                merge: Object.getPrototypeOf(this).annotations.merge.bind(this),\n                split: Object.getPrototypeOf(this).annotations.split.bind(this),\n                group: Object.getPrototypeOf(this).annotations.group.bind(this),\n                clear: Object.getPrototypeOf(this).annotations.clear.bind(this),\n                upload: Object.getPrototypeOf(this).annotations.upload.bind(this),\n                select: Object.getPrototypeOf(this).annotations.select.bind(this),\n                statistics: Object.getPrototypeOf(this).annotations.statistics.bind(this),\n                hasUnsavedChanges: Object.getPrototypeOf(this)\n                    .annotations.hasUnsavedChanges.bind(this),\n            };\n\n            this.frames = {\n                get: Object.getPrototypeOf(this).frames.get.bind(this),\n            };\n        }\n\n        /**\n            * Method updates data of a created task or creates new task from scratch\n            * @method save\n            * @returns {module:API.cvat.classes.Task}\n            * @memberof module:API.cvat.classes.Task\n            * @param {function} [onUpdate] - the function which is used only if task hasn't\n            * been created yet. It called in order to notify about creation status.\n            * It receives the string parameter which is a status message\n            * @readonly\n            * @instance\n            * @async\n            * @throws {module:API.cvat.exceptions.ServerError}\n            * @throws {module:API.cvat.exceptions.PluginError}\n        */\n        async save(onUpdate = () => {}) {\n            const result = await PluginRegistry\n                .apiWrapper.call(this, Task.prototype.save, onUpdate);\n            return result;\n        }\n\n        /**\n            * Method deletes a task from a server\n            * @method delete\n            * @memberof module:API.cvat.classes.Task\n            * @readonly\n            * @instance\n            * @async\n            * @throws {module:API.cvat.exceptions.ServerError}\n            * @throws {module:API.cvat.exceptions.PluginError}\n        */\n        async delete() {\n            const result = await PluginRegistry\n                .apiWrapper.call(this, Task.prototype.delete);\n            return result;\n        }\n    }\n\n    module.exports = {\n        Job,\n        Task,\n    };\n\n    const {\n        getAnnotations,\n        putAnnotations,\n        saveAnnotations,\n        hasUnsavedChanges,\n        mergeAnnotations,\n        splitAnnotations,\n        groupAnnotations,\n        clearAnnotations,\n        selectObject,\n        annotationsStatistics,\n        uploadAnnotations,\n        dumpAnnotations,\n    } = require('./annotations');\n\n    buildDublicatedAPI(Job.prototype);\n    buildDublicatedAPI(Task.prototype);\n\n    Job.prototype.save.implementation = async function () {\n        // TODO: Add ability to change an assignee\n        if (this.id) {\n            const jobData = {\n                status: this.status,\n            };\n\n            await serverProxy.jobs.saveJob(this.id, jobData);\n            return this;\n        }\n\n        throw new ArgumentError(\n            'Can not save job without and id',\n        );\n    };\n\n    Job.prototype.frames.get.implementation = async function (frame) {\n        if (!Number.isInteger(frame) || frame < 0) {\n            throw new ArgumentError(\n                `Frame must be a positive integer. Got: \"${frame}\"`,\n            );\n        }\n\n        if (frame < this.startFrame || frame > this.stopFrame) {\n            throw new ArgumentError(\n                `The frame with number ${frame} is out of the job`,\n            );\n        }\n\n        const frameData = await getFrame(this.task.id, this.task.mode, frame);\n        return frameData;\n    };\n\n    // TODO: Check filter for annotations\n    Job.prototype.annotations.get.implementation = async function (frame, filter) {\n        if (frame < this.startFrame || frame > this.stopFrame) {\n            throw new ArgumentError(\n                `Frame ${frame} does not exist in the job`,\n            );\n        }\n\n        const annotationsData = await getAnnotations(this, frame, filter);\n        return annotationsData;\n    };\n\n    Job.prototype.annotations.save.implementation = async function (onUpdate) {\n        const result = await saveAnnotations(this, onUpdate);\n        return result;\n    };\n\n    Job.prototype.annotations.merge.implementation = async function (objectStates) {\n        const result = await mergeAnnotations(this, objectStates);\n        return result;\n    };\n\n    Job.prototype.annotations.split.implementation = async function (objectState, frame) {\n        const result = await splitAnnotations(this, objectState, frame);\n        return result;\n    };\n\n    Job.prototype.annotations.group.implementation = async function (objectStates, reset) {\n        const result = await groupAnnotations(this, objectStates, reset);\n        return result;\n    };\n\n    Job.prototype.annotations.hasUnsavedChanges.implementation = function () {\n        const result = hasUnsavedChanges(this);\n        return result;\n    };\n\n    Job.prototype.annotations.clear.implementation = async function (reload) {\n        const result = await clearAnnotations(this, reload);\n        return result;\n    };\n\n    Job.prototype.annotations.select.implementation = function (frame, x, y) {\n        const result = selectObject(this, frame, x, y);\n        return result;\n    };\n\n    Job.prototype.annotations.statistics.implementation = function () {\n        const result = annotationsStatistics(this);\n        return result;\n    };\n\n    Job.prototype.annotations.put.implementation = function (objectStates) {\n        const result = putAnnotations(this, objectStates);\n        return result;\n    };\n\n    Job.prototype.annotations.upload.implementation = async function (file, loader) {\n        const result = await uploadAnnotations(this, file, loader);\n        return result;\n    };\n\n    Job.prototype.annotations.dump.implementation = async function (name, dumper) {\n        const result = await dumpAnnotations(this, name, dumper);\n        return result;\n    };\n\n    Task.prototype.save.implementation = async function saveTaskImplementation(onUpdate) {\n        // TODO: Add ability to change an owner and an assignee\n        if (typeof (this.id) !== 'undefined') {\n            // If the task has been already created, we update it\n            const taskData = {\n                name: this.name,\n                bug_tracker: this.bugTracker,\n                z_order: this.zOrder,\n                labels: [...this.labels.map(el => el.toJSON())],\n            };\n\n            await serverProxy.tasks.saveTask(this.id, taskData);\n            return this;\n        }\n\n        const taskData = {\n            name: this.name,\n            labels: this.labels.map(el => el.toJSON()),\n            image_quality: this.imageQuality,\n            z_order: Boolean(this.zOrder),\n        };\n\n        if (this.bugTracker) {\n            taskData.bug_tracker = this.bugTracker;\n        }\n        if (this.segmentSize) {\n            taskData.segment_size = this.segmentSize;\n        }\n        if (this.overlap) {\n            taskData.overlap = this.overlap;\n        }\n        if (this.startFrame) {\n            taskData.start_frame = this.startFrame;\n        }\n        if (this.stopFrame) {\n            taskData.stop_frame = this.stopFrame;\n        }\n        if (this.frameFilter) {\n            taskData.frame_filter = this.frameFilter;\n        }\n\n        const taskFiles = {\n            client_files: this.clientFiles,\n            server_files: this.serverFiles,\n            remote_files: this.remoteFiles,\n        };\n\n        const task = await serverProxy.tasks.createTask(taskData, taskFiles, onUpdate);\n        return new Task(task);\n    };\n\n    Task.prototype.delete.implementation = async function () {\n        const result = await serverProxy.tasks.deleteTask(this.id);\n        return result;\n    };\n\n    Task.prototype.frames.get.implementation = async function (frame) {\n        if (!Number.isInteger(frame) || frame < 0) {\n            throw new ArgumentError(\n                `Frame must be a positive integer. Got: \"${frame}\"`,\n            );\n        }\n\n        if (frame >= this.size) {\n            throw new ArgumentError(\n                `The frame with number ${frame} is out of the task`,\n            );\n        }\n\n        const result = await getFrame(this.id, this.mode, frame);\n        return result;\n    };\n\n    // TODO: Check filter for annotations\n    Task.prototype.annotations.get.implementation = async function (frame, filter) {\n        if (!Number.isInteger(frame) || frame < 0) {\n            throw new ArgumentError(\n                `Frame must be a positive integer. Got: \"${frame}\"`,\n            );\n        }\n\n        if (frame >= this.size) {\n            throw new ArgumentError(\n                `Frame ${frame} does not exist in the task`,\n            );\n        }\n\n        const result = await getAnnotations(this, frame, filter);\n        return result;\n    };\n\n    Task.prototype.annotations.save.implementation = async function (onUpdate) {\n        const result = await saveAnnotations(this, onUpdate);\n        return result;\n    };\n\n    Task.prototype.annotations.merge.implementation = async function (objectStates) {\n        const result = await mergeAnnotations(this, objectStates);\n        return result;\n    };\n\n    Task.prototype.annotations.split.implementation = async function (objectState, frame) {\n        const result = await splitAnnotations(this, objectState, frame);\n        return result;\n    };\n\n    Task.prototype.annotations.group.implementation = async function (objectStates, reset) {\n        const result = await groupAnnotations(this, objectStates, reset);\n        return result;\n    };\n\n    Task.prototype.annotations.hasUnsavedChanges.implementation = function () {\n        const result = hasUnsavedChanges(this);\n        return result;\n    };\n\n    Task.prototype.annotations.clear.implementation = async function (reload) {\n        const result = await clearAnnotations(this, reload);\n        return result;\n    };\n\n    Task.prototype.annotations.select.implementation = function (frame, x, y) {\n        const result = selectObject(this, frame, x, y);\n        return result;\n    };\n\n    Task.prototype.annotations.statistics.implementation = function () {\n        const result = annotationsStatistics(this);\n        return result;\n    };\n\n    Task.prototype.annotations.put.implementation = function (objectStates) {\n        const result = putAnnotations(this, objectStates);\n        return result;\n    };\n\n    Task.prototype.annotations.upload.implementation = async function (file, loader) {\n        const result = await uploadAnnotations(this, file, loader);\n        return result;\n    };\n\n    Task.prototype.annotations.dump.implementation = async function (name, dumper) {\n        const result = await dumpAnnotations(this, name, dumper);\n        return result;\n    };\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const { AttributeType } = require('./enums');\n    const { ArgumentError } = require('./exceptions');\n\n    /**\n        * Class representing an attribute\n        * @memberof module:API.cvat.classes\n        * @hideconstructor\n    */\n    class Attribute {\n        constructor(initialData) {\n            const data = {\n                id: undefined,\n                default_value: undefined,\n                input_type: undefined,\n                mutable: undefined,\n                name: undefined,\n                values: undefined,\n            };\n\n            for (const key in data) {\n                if (Object.prototype.hasOwnProperty.call(data, key)) {\n                    if (Object.prototype.hasOwnProperty.call(initialData, key)) {\n                        if (Array.isArray(initialData[key])) {\n                            data[key] = [...initialData[key]];\n                        } else {\n                            data[key] = initialData[key];\n                        }\n                    }\n                }\n            }\n\n            if (!Object.values(AttributeType).includes(data.input_type)) {\n                throw new ArgumentError(\n                    `Got invalid attribute type ${data.input_type}`,\n                );\n            }\n\n            Object.defineProperties(this, Object.freeze({\n                /**\n                    * @name id\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Attribute\n                    * @readonly\n                    * @instance\n                */\n                id: {\n                    get: () => data.id,\n                },\n                /**\n                    * @name defaultValue\n                    * @type {(string|integer|boolean)}\n                    * @memberof module:API.cvat.classes.Attribute\n                    * @readonly\n                    * @instance\n                */\n                defaultValue: {\n                    get: () => data.default_value,\n                },\n                /**\n                    * @name inputType\n                    * @type {module:API.cvat.enums.AttributeType}\n                    * @memberof module:API.cvat.classes.Attribute\n                    * @readonly\n                    * @instance\n                */\n                inputType: {\n                    get: () => data.input_type,\n                },\n                /**\n                    * @name mutable\n                    * @type {boolean}\n                    * @memberof module:API.cvat.classes.Attribute\n                    * @readonly\n                    * @instance\n                */\n                mutable: {\n                    get: () => data.mutable,\n                },\n                /**\n                    * @name name\n                    * @type {string}\n                    * @memberof module:API.cvat.classes.Attribute\n                    * @readonly\n                    * @instance\n                */\n                name: {\n                    get: () => data.name,\n                },\n                /**\n                    * @name values\n                    * @type {(string[]|integer[]|boolean[])}\n                    * @memberof module:API.cvat.classes.Attribute\n                    * @readonly\n                    * @instance\n                */\n                values: {\n                    get: () => [...data.values],\n                },\n            }));\n        }\n\n        toJSON() {\n            const object = {\n                name: this.name,\n                mutable: this.mutable,\n                input_type: this.inputType,\n                default_value: this.defaultValue,\n                values: this.values,\n            };\n\n            if (typeof (this.id) !== 'undefined') {\n                object.id = this.id;\n            }\n\n            return object;\n        }\n    }\n\n    /**\n        * Class representing a label\n        * @memberof module:API.cvat.classes\n        * @hideconstructor\n    */\n    class Label {\n        constructor(initialData) {\n            const data = {\n                id: undefined,\n                name: undefined,\n            };\n\n            for (const key in data) {\n                if (Object.prototype.hasOwnProperty.call(data, key)) {\n                    if (Object.prototype.hasOwnProperty.call(initialData, key)) {\n                        data[key] = initialData[key];\n                    }\n                }\n            }\n\n            data.attributes = [];\n\n            if (Object.prototype.hasOwnProperty.call(initialData, 'attributes')\n                && Array.isArray(initialData.attributes)) {\n                for (const attrData of initialData.attributes) {\n                    data.attributes.push(new Attribute(attrData));\n                }\n            }\n\n            Object.defineProperties(this, Object.freeze({\n                /**\n                    * @name id\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.Label\n                    * @readonly\n                    * @instance\n                */\n                id: {\n                    get: () => data.id,\n                },\n                /**\n                    * @name name\n                    * @type {string}\n                    * @memberof module:API.cvat.classes.Label\n                    * @readonly\n                    * @instance\n                */\n                name: {\n                    get: () => data.name,\n                },\n                /**\n                    * @name attributes\n                    * @type {module:API.cvat.classes.Attribute[]}\n                    * @memberof module:API.cvat.classes.Label\n                    * @readonly\n                    * @instance\n                */\n                attributes: {\n                    get: () => [...data.attributes],\n                },\n            }));\n        }\n\n        toJSON() {\n            const object = {\n                name: this.name,\n                attributes: [...this.attributes.map(el => el.toJSON())],\n            };\n\n            if (typeof (this.id) !== 'undefined') {\n                object.id = this.id;\n            }\n\n            return object;\n        }\n    }\n\n    module.exports = {\n        Attribute,\n        Label,\n    };\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const { ArgumentError } = require('./exceptions');\n\n    function isBoolean(value) {\n        return typeof (value) === 'boolean';\n    }\n\n    function isInteger(value) {\n        return typeof (value) === 'number' && Number.isInteger(value);\n    }\n\n    // Called with specific Enum context\n    function isEnum(value) {\n        for (const key in this) {\n            if (Object.prototype.hasOwnProperty.call(this, key)) {\n                if (this[key] === value) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    function isString(value) {\n        return typeof (value) === 'string';\n    }\n\n    function checkFilter(filter, fields) {\n        for (const prop in filter) {\n            if (Object.prototype.hasOwnProperty.call(filter, prop)) {\n                if (!(prop in fields)) {\n                    throw new ArgumentError(\n                        `Unsupported filter property has been recieved: \"${prop}\"`,\n                    );\n                } else if (!fields[prop](filter[prop])) {\n                    throw new ArgumentError(\n                        `Received filter property \"${prop}\" is not satisfied for checker`,\n                    );\n                }\n            }\n        }\n    }\n\n    function checkObjectType(name, value, type, instance) {\n        if (type) {\n            if (typeof (value) !== type) {\n                // specific case for integers which aren't native type in JS\n                if (type === 'integer' && Number.isInteger(value)) {\n                    return;\n                }\n\n                throw new ArgumentError(\n                    `\"${name}\" is expected to be \"${type}\", but \"${typeof (value)}\" has been got.`,\n                );\n            }\n        } else if (instance) {\n            if (!(value instanceof instance)) {\n                if (value !== undefined) {\n                    throw new ArgumentError(\n                        `\"${name}\" is expected to be ${instance.name}, but `\n                            + `\"${value.constructor.name}\" has been got`,\n                    );\n                }\n\n                throw new ArgumentError(\n                    `\"${name}\" is expected to be ${instance.name}, but \"undefined\" has been got.`,\n                );\n            }\n        }\n    }\n\n    module.exports = {\n        isBoolean,\n        isInteger,\n        isEnum,\n        isString,\n        checkFilter,\n        checkObjectType,\n    };\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\nmodule.exports = {\n    backendAPI: 'http://localhost:7000/api/v1',\n    proxy: false,\n    taskID: undefined,\n    jobID: undefined,\n    clientID: +Date.now().toString().substr(-6),\n};\n","module.exports = require(\"stream\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"url\");","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const PluginRegistry = require('./plugins');\n    const { ArgumentError } = require('./exceptions');\n\n    /**\n        * Class representing a state of an object on a specific frame\n        * @memberof module:API.cvat.classes\n    */\n    class ObjectState {\n        /**\n            * @param {Object} serialized - is an dictionary which contains\n            * initial information about an ObjectState;\n            * Necessary fields: objectType, shapeType\n            * Necessary fields for objects which haven't been added to collection yet: frame\n            * Optional fields: points, group, zOrder, outside, occluded,\n            * attributes, lock, label, mode, color, keyframe, clientID, serverID\n            * These fields can be set later via setters\n        */\n        constructor(serialized) {\n            const data = {\n                label: null,\n                attributes: {},\n\n                points: null,\n                outside: null,\n                occluded: null,\n                keyframe: null,\n\n                group: null,\n                zOrder: null,\n                lock: null,\n                color: null,\n\n                clientID: serialized.clientID,\n                serverID: serialized.serverID,\n\n                frame: serialized.frame,\n                objectType: serialized.objectType,\n                shapeType: serialized.shapeType,\n                updateFlags: {},\n            };\n\n            // Shows whether any properties updated since last reset() or interpolation\n            Object.defineProperty(data.updateFlags, 'reset', {\n                value: function reset() {\n                    this.label = false;\n                    this.attributes = false;\n\n                    this.points = false;\n                    this.outside = false;\n                    this.occluded = false;\n                    this.keyframe = false;\n\n                    this.group = false;\n                    this.zOrder = false;\n                    this.lock = false;\n                    this.color = false;\n                },\n                writable: false,\n            });\n\n            Object.defineProperties(this, Object.freeze({\n                // Internal property. We don't need document it.\n                updateFlags: {\n                    get: () => data.updateFlags,\n                },\n                frame: {\n                    /**\n                        * @name frame\n                        * @type {integer}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.frame,\n                },\n                objectType: {\n                    /**\n                        * @name objectType\n                        * @type {module:API.cvat.enums.ObjectType}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.objectType,\n                },\n                shapeType: {\n                    /**\n                        * @name shapeType\n                        * @type {module:API.cvat.enums.ObjectShape}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.shapeType,\n                },\n                clientID: {\n                    /**\n                        * @name clientID\n                        * @type {integer}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.clientID,\n                },\n                serverID: {\n                    /**\n                        * @name serverID\n                        * @type {integer}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.serverID,\n                },\n                label: {\n                    /**\n                        * @name shape\n                        * @type {module:API.cvat.classes.Label}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @instance\n                    */\n                    get: () => data.label,\n                    set: (labelInstance) => {\n                        data.updateFlags.label = true;\n                        data.label = labelInstance;\n                    },\n                },\n                color: {\n                    /**\n                        * @name color\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @instance\n                    */\n                    get: () => data.color,\n                    set: (color) => {\n                        data.updateFlags.color = true;\n                        data.color = color;\n                    },\n                },\n                points: {\n                    /**\n                        * @name points\n                        * @type {number[]}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @throws {module:API.cvat.exceptions.ArgumentError}\n                        * @instance\n                    */\n                    get: () => data.points,\n                    set: (points) => {\n                        if (Array.isArray(points)) {\n                            data.updateFlags.points = true;\n                            data.points = [...points];\n                        } else {\n                            throw new ArgumentError(\n                                'Points are expected to be an array '\n                                    + `but got ${typeof (points) === 'object'\n                                        ? points.constructor.name : typeof (points)}`,\n                            );\n                        }\n                    },\n                },\n                group: {\n                    /**\n                        * @name group\n                        * @type {integer}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @instance\n                    */\n                    get: () => data.group,\n                    set: (group) => {\n                        data.updateFlags.group = true;\n                        data.group = group;\n                    },\n                },\n                zOrder: {\n                    /**\n                        * @name zOrder\n                        * @type {integer}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @instance\n                    */\n                    get: () => data.zOrder,\n                    set: (zOrder) => {\n                        data.updateFlags.zOrder = true;\n                        data.zOrder = zOrder;\n                    },\n                },\n                outside: {\n                    /**\n                        * @name outside\n                        * @type {boolean}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @instance\n                    */\n                    get: () => data.outside,\n                    set: (outside) => {\n                        data.updateFlags.outside = true;\n                        data.outside = outside;\n                    },\n                },\n                keyframe: {\n                    /**\n                        * @name keyframe\n                        * @type {boolean}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @instance\n                    */\n                    get: () => data.keyframe,\n                    set: (keyframe) => {\n                        data.updateFlags.keyframe = true;\n                        data.keyframe = keyframe;\n                    },\n                },\n                occluded: {\n                    /**\n                        * @name occluded\n                        * @type {boolean}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @instance\n                    */\n                    get: () => data.occluded,\n                    set: (occluded) => {\n                        data.updateFlags.occluded = true;\n                        data.occluded = occluded;\n                    },\n                },\n                lock: {\n                    /**\n                        * @name lock\n                        * @type {boolean}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @instance\n                    */\n                    get: () => data.lock,\n                    set: (lock) => {\n                        data.updateFlags.lock = true;\n                        data.lock = lock;\n                    },\n                },\n                attributes: {\n                    /**\n                        * Object is id:value pairs where \"id\" is an integer\n                        * attribute identifier and \"value\" is an attribute value\n                        * @name attributes\n                        * @type {Object}\n                        * @memberof module:API.cvat.classes.ObjectState\n                        * @throws {module:API.cvat.exceptions.ArgumentError}\n                        * @instance\n                    */\n                    get: () => data.attributes,\n                    set: (attributes) => {\n                        if (typeof (attributes) !== 'object') {\n                            throw new ArgumentError(\n                                'Attributes are expected to be an object '\n                                    + `but got ${typeof (attributes) === 'object'\n                                        ? attributes.constructor.name : typeof (attributes)}`,\n                            );\n                        }\n\n                        for (const attrID of Object.keys(attributes)) {\n                            data.updateFlags.attributes = true;\n                            data.attributes[attrID] = attributes[attrID];\n                        }\n                    },\n                },\n            }));\n\n            this.label = serialized.label;\n            this.group = serialized.group;\n            this.zOrder = serialized.zOrder;\n            this.outside = serialized.outside;\n            this.keyframe = serialized.keyframe;\n            this.occluded = serialized.occluded;\n            this.color = serialized.color;\n            this.lock = serialized.lock;\n\n            // It can be undefined in a constructor and it can be defined later\n            if (typeof (serialized.points) !== 'undefined') {\n                this.points = serialized.points;\n            }\n            if (typeof (serialized.attributes) !== 'undefined') {\n                this.attributes = serialized.attributes;\n            }\n\n            data.updateFlags.reset();\n        }\n\n        /**\n            * Method saves/updates an object state in a collection\n            * @method save\n            * @memberof module:API.cvat.classes.ObjectState\n            * @readonly\n            * @instance\n            * @async\n            * @throws {module:API.cvat.exceptions.PluginError}\n            * @throws {module:API.cvat.exceptions.ArgumentError}\n            * @returns {module:API.cvat.classes.ObjectState} updated state of an object\n        */\n        async save() {\n            const result = await PluginRegistry\n                .apiWrapper.call(this, ObjectState.prototype.save);\n            return result;\n        }\n\n        /**\n            * Method deletes an object from a collection\n            * @method delete\n            * @memberof module:API.cvat.classes.ObjectState\n            * @readonly\n            * @instance\n            * @param {boolean} [force=false] delete object even if it is locked\n            * @async\n            * @returns {boolean} true if object has been deleted\n            * @throws {module:API.cvat.exceptions.PluginError}\n        */\n        async delete(force = false) {\n            const result = await PluginRegistry\n                .apiWrapper.call(this, ObjectState.prototype.delete, force);\n            return result;\n        }\n\n        /**\n            * Set the highest ZOrder within a frame\n            * @method up\n            * @memberof module:API.cvat.classes.ObjectState\n            * @readonly\n            * @instance\n            * @async\n            * @throws {module:API.cvat.exceptions.PluginError}\n        */\n        async up() {\n            const result = await PluginRegistry\n                .apiWrapper.call(this, ObjectState.prototype.up);\n            return result;\n        }\n\n        /**\n            * Set the lowest ZOrder within a frame\n            * @method down\n            * @memberof module:API.cvat.classes.ObjectState\n            * @readonly\n            * @instance\n            * @async\n            * @throws {module:API.cvat.exceptions.PluginError}\n        */\n        async down() {\n            const result = await PluginRegistry\n                .apiWrapper.call(this, ObjectState.prototype.down);\n            return result;\n        }\n    }\n\n    // Default implementation saves element in collection\n    ObjectState.prototype.save.implementation = async function () {\n        if (this.hidden && this.hidden.save) {\n            return this.hidden.save();\n        }\n\n        return this;\n    };\n\n    // Default implementation do nothing\n    ObjectState.prototype.delete.implementation = async function (force) {\n        if (this.hidden && this.hidden.delete) {\n            return this.hidden.delete(force);\n        }\n\n        return false;\n    };\n\n    ObjectState.prototype.up.implementation = async function () {\n        if (this.hidden && this.hidden.up) {\n            return this.hidden.up();\n        }\n\n        return false;\n    };\n\n    ObjectState.prototype.down.implementation = async function () {\n        if (this.hidden && this.hidden.down) {\n            return this.hidden.down();\n        }\n\n        return false;\n    };\n\n\n    module.exports = ObjectState;\n})();\n","module.exports = require(\"path\");","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","var url = require(\"url\");\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar assert = require(\"assert\");\nvar Writable = require(\"stream\").Writable;\nvar debug = require(\"debug\")(\"follow-redirects\");\n\n// RFC72314.2.1: Of the request methods defined by this specification,\n// the GET, HEAD, OPTIONS, and TRACE methods are defined to be safe.\nvar SAFE_METHODS = { GET: true, HEAD: true, OPTIONS: true, TRACE: true };\n\n// Create handlers that pass events from native requests\nvar eventHandlers = Object.create(null);\n[\"abort\", \"aborted\", \"error\", \"socket\", \"timeout\"].forEach(function (event) {\n  eventHandlers[event] = function (arg) {\n    this._redirectable.emit(event, arg);\n  };\n});\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  options.headers = options.headers || {};\n  this._options = options;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    self._processResponse(response);\n  };\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Validate input and shift parameters if necessary\n  if (!(typeof data === \"string\" || typeof data === \"object\" && (\"length\" in data))) {\n    throw new Error(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new Error(\"Request body larger than maxBodyLength limit\"));\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (typeof data === \"function\") {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data and end\n  var currentRequest = this._currentRequest;\n  this.write(data || \"\", encoding, function () {\n    currentRequest.end(null, null, callback);\n  });\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"abort\", \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\", \"setTimeout\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    this.emit(\"error\", new Error(\"Unsupported protocol \" + protocol));\n    return;\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.substr(0, protocol.length - 1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  this._currentUrl = url.format(this._options);\n\n  // Set up event handlers\n  request._redirectable = this;\n  for (var event in eventHandlers) {\n    /* istanbul ignore else */\n    if (event) {\n      request.on(event, eventHandlers[event]);\n    }\n  }\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end.\n    var i = 0;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext() {\n      if (i < buffers.length) {\n        var buffer = buffers[i++];\n        request.write(buffer.data, buffer.encoding, writeNext);\n      }\n      else {\n        request.end();\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: response.statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n  var location = response.headers.location;\n  if (location && this._options.followRedirects !== false &&\n      response.statusCode >= 300 && response.statusCode < 400) {\n    // RFC72316.4: A client SHOULD detect and intervene\n    // in cyclical redirections (i.e., \"infinite\" redirection loops).\n    if (++this._redirectCount > this._options.maxRedirects) {\n      this.emit(\"error\", new Error(\"Max redirects exceeded.\"));\n      return;\n    }\n\n    // RFC72316.4: Automatic redirection needs to done with\n    // care for methods not known to be safe [],\n    // since the user might not wish to redirect an unsafe request.\n    // RFC72316.4.7: The 307 (Temporary Redirect) status code indicates\n    // that the target resource resides temporarily under a different URI\n    // and the user agent MUST NOT change the request method\n    // if it performs an automatic redirection to that URI.\n    var header;\n    var headers = this._options.headers;\n    if (response.statusCode !== 307 && !(this._options.method in SAFE_METHODS)) {\n      this._options.method = \"GET\";\n      // Drop a possible entity and headers related to it\n      this._requestBodyBuffers = [];\n      for (header in headers) {\n        if (/^content-/i.test(header)) {\n          delete headers[header];\n        }\n      }\n    }\n\n    // Drop the Host header, as the redirect might lead to a different host\n    if (!this._isRedirect) {\n      for (header in headers) {\n        if (/^host$/i.test(header)) {\n          delete headers[header];\n        }\n      }\n    }\n\n    // Perform the redirected request\n    var redirectUrl = url.resolve(this._currentUrl, location);\n    debug(\"redirecting to\", redirectUrl);\n    Object.assign(this._options, url.parse(redirectUrl));\n    this._isRedirect = true;\n    this._performRequest();\n\n    // Discard the remainder of the response to avoid waiting for data\n    response.destroy();\n  }\n  else {\n    // The response is not a redirect; return it as-is\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n  }\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    wrappedProtocol.request = function (options, callback) {\n      if (typeof options === \"string\") {\n        options = url.parse(options);\n        options.maxRedirects = exports.maxRedirects;\n      }\n      else {\n        options = Object.assign({\n          protocol: protocol,\n          maxRedirects: exports.maxRedirects,\n          maxBodyLength: exports.maxBodyLength,\n        }, options);\n      }\n      options.nativeProtocols = nativeProtocols;\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    };\n\n    // Executes a GET request, following redirects\n    wrappedProtocol.get = function (options, callback) {\n      var request = wrappedProtocol.request(options, callback);\n      request.end();\n      return request;\n    };\n  });\n  return exports;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n(() => {\n    /**\n        * Class representing a user\n        * @memberof module:API.cvat.classes\n        * @hideconstructor\n    */\n    class User {\n        constructor(initialData) {\n            const data = {\n                id: null,\n                username: null,\n                email: null,\n                first_name: null,\n                last_name: null,\n                groups: null,\n                last_login: null,\n                date_joined: null,\n                is_staff: null,\n                is_superuser: null,\n                is_active: null,\n            };\n\n            for (const property in data) {\n                if (Object.prototype.hasOwnProperty.call(data, property)\n                    && property in initialData) {\n                    data[property] = initialData[property];\n                }\n            }\n\n            Object.defineProperties(this, Object.freeze({\n                id: {\n                    /**\n                        * @name id\n                        * @type {integer}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.id,\n                },\n                username: {\n                    /**\n                        * @name username\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.username,\n                },\n                email: {\n                    /**\n                        * @name email\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.email,\n                },\n                firstName: {\n                    /**\n                        * @name firstName\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.first_name,\n                },\n                lastName: {\n                    /**\n                        * @name lastName\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.last_name,\n                },\n                groups: {\n                    /**\n                        * @name groups\n                        * @type {string[]}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => JSON.parse(JSON.stringify(data.groups)),\n                },\n                lastLogin: {\n                    /**\n                        * @name lastLogin\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.last_login,\n                },\n                dateJoined: {\n                    /**\n                        * @name dateJoined\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.date_joined,\n                },\n                isStaff: {\n                    /**\n                        * @name isStaff\n                        * @type {boolean}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.is_staff,\n                },\n                isSuperuser: {\n                    /**\n                        * @name isSuperuser\n                        * @type {boolean}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.is_superuser,\n                },\n                isActive: {\n                    /**\n                        * @name isActive\n                        * @type {boolean}\n                        * @memberof module:API.cvat.classes.User\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.is_active,\n                },\n            }));\n        }\n    }\n\n    module.exports = User;\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n\n(() => {\n    /**\n        * Class representing collection statistics\n        * @memberof module:API.cvat.classes\n        * @hideconstructor\n    */\n    class Statistics {\n        constructor(label, total) {\n            Object.defineProperties(this, Object.freeze({\n                /**\n                    * Statistics by labels with a structure:\n                    * @example\n                    * {\n                    *     label: {\n                    *         boxes: {\n                    *             tracks: 10,\n                    *             shapes: 11,\n                    *         },\n                    *         polygons: {\n                    *             tracks: 13,\n                    *             shapes: 14,\n                    *         },\n                    *         polylines: {\n                    *             tracks: 16,\n                    *             shapes: 17,\n                    *         },\n                    *         points: {\n                    *             tracks: 19,\n                    *             shapes: 20,\n                    *         },\n                    *         tags: 66,\n                    *         manually: 186,\n                    *         interpolated: 500,\n                    *         total: 608,\n                    *     }\n                    * }\n                    * @name label\n                    * @type {Object}\n                    * @memberof module:API.cvat.classes.Statistics\n                    * @readonly\n                    * @instance\n                */\n                label: {\n                    get: () => JSON.parse(JSON.stringify(label)),\n                },\n                /**\n                    * Total statistics (covers all labels) with a structure:\n                    * @example\n                    * {\n                    *     boxes: {\n                    *             tracks: 10,\n                    *             shapes: 11,\n                    *     },\n                    *     polygons: {\n                    *         tracks: 13,\n                    *         shapes: 14,\n                    *     },\n                    *     polylines: {\n                    *        tracks: 16,\n                    *        shapes: 17,\n                    *    },\n                    *    points: {\n                    *        tracks: 19,\n                    *        shapes: 20,\n                    *    },\n                    *    tags: 66,\n                    *    manually: 186,\n                    *    interpolated: 500,\n                    *    total: 608,\n                    * }\n                    * @name total\n                    * @type {Object}\n                    * @memberof module:API.cvat.classes.Statistics\n                    * @readonly\n                    * @instance\n                */\n                total: {\n                    get: () => JSON.parse(JSON.stringify(total)),\n                },\n            }));\n        }\n    }\n\n    module.exports = Statistics;\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n(() => {\n    /**\n        * Class representing an annotation loader\n        * @memberof module:API.cvat.classes\n        * @hideconstructor\n    */\n    class Loader {\n        constructor(initialData) {\n            const data = {\n                display_name: initialData.display_name,\n                format: initialData.format,\n                handler: initialData.handler,\n                version: initialData.version,\n            };\n\n            Object.defineProperties(this, {\n                name: {\n                    /**\n                        * @name name\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.Loader\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.display_name,\n                },\n                format: {\n                    /**\n                        * @name format\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.Loader\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.format,\n                },\n                handler: {\n                    /**\n                        * @name handler\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.Loader\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.handler,\n                },\n                version: {\n                    /**\n                        * @name version\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.Loader\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.version,\n                },\n            });\n        }\n    }\n\n    /**\n        * Class representing an annotation dumper\n        * @memberof module:API.cvat.classes\n        * @hideconstructor\n    */\n    class Dumper {\n        constructor(initialData) {\n            const data = {\n                display_name: initialData.display_name,\n                format: initialData.format,\n                handler: initialData.handler,\n                version: initialData.version,\n            };\n\n            Object.defineProperties(this, {\n                name: {\n                    /**\n                        * @name name\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.Dumper\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.display_name,\n                },\n                format: {\n                    /**\n                        * @name format\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.Dumper\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.format,\n                },\n                handler: {\n                    /**\n                        * @name handler\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.Dumper\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.handler,\n                },\n                version: {\n                    /**\n                        * @name version\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.Dumper\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.version,\n                },\n            });\n        }\n    }\n\n    /**\n        * Class representing an annotation format\n        * @memberof module:API.cvat.classes\n        * @hideconstructor\n    */\n    class AnnotationFormat {\n        constructor(initialData) {\n            const data = {\n                created_date: initialData.created_date,\n                updated_date: initialData.updated_date,\n                id: initialData.id,\n                owner: initialData.owner,\n                name: initialData.name,\n                handler_file: initialData.handler_file,\n            };\n\n            data.dumpers = initialData.dumpers.map(el => new Dumper(el));\n            data.loaders = initialData.loaders.map(el => new Loader(el));\n\n            // Now all fields are readonly\n            Object.defineProperties(this, {\n                id: {\n                    /**\n                        * @name id\n                        * @type {integer}\n                        * @memberof module:API.cvat.classes.AnnotationFormat\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.id,\n                },\n                owner: {\n                    /**\n                        * @name owner\n                        * @type {integer}\n                        * @memberof module:API.cvat.classes.AnnotationFormat\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.owner,\n                },\n                name: {\n                    /**\n                        * @name name\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.AnnotationFormat\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.name,\n                },\n                createdDate: {\n                    /**\n                        * @name createdDate\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.AnnotationFormat\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.created_date,\n                },\n                updatedDate: {\n                    /**\n                        * @name updatedDate\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.AnnotationFormat\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.updated_date,\n                },\n                handlerFile: {\n                    /**\n                        * @name handlerFile\n                        * @type {string}\n                        * @memberof module:API.cvat.classes.AnnotationFormat\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => data.handler_file,\n                },\n                loaders: {\n                    /**\n                        * @name loaders\n                        * @type {module:API.cvat.classes.Loader[]}\n                        * @memberof module:API.cvat.classes.AnnotationFormat\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => [...data.loaders],\n                },\n                dumpers: {\n                    /**\n                        * @name dumpers\n                        * @type {module:API.cvat.classes.Dumper[]}\n                        * @memberof module:API.cvat.classes.AnnotationFormat\n                        * @readonly\n                        * @instance\n                    */\n                    get: () => [...data.dumpers],\n                },\n            });\n        }\n    }\n\n    module.exports = {\n        AnnotationFormat,\n        Loader,\n        Dumper,\n    };\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n/**\n    * External API which should be used by for development\n    * @module API\n*/\n\nfunction build() {\n    const PluginRegistry = require('./plugins');\n    const User = require('./user');\n    const ObjectState = require('./object-state');\n    const Statistics = require('./statistics');\n    const { Job, Task } = require('./session');\n    const { Attribute, Label } = require('./labels');\n\n    const {\n        ShareFileType,\n        TaskStatus,\n        TaskMode,\n        AttributeType,\n        ObjectType,\n        ObjectShape,\n        LogType,\n        EventType,\n    } = require('./enums');\n\n    const {\n        Exception,\n        ArgumentError,\n        DataError,\n        ScriptingError,\n        PluginError,\n        ServerError,\n    } = require('./exceptions');\n\n    const pjson = require('../package.json');\n    const config = require('./config');\n\n    /**\n        * API entrypoint\n        * @namespace cvat\n        * @memberof module:API\n    */\n    const cvat = {\n        /**\n            * Namespace is used for an interaction with a server\n            * @namespace server\n            * @package\n            * @memberof module:API.cvat\n        */\n        server: {\n            /**\n                * @typedef {Object} ServerInfo\n                * @property {string} name A name of the tool\n                * @property {string} description A description of the tool\n                * @property {string} version A version of the tool\n                * @global\n            */\n\n            /**\n                * Method returns some information about the annotation tool\n                * @method about\n                * @async\n                * @memberof module:API.cvat.server\n                * @return {ServerInfo}\n                * @throws {module:API.cvat.exceptions.ServerError}\n                * @throws {module:API.cvat.exceptions.PluginError}\n            */\n            async about() {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.server.about);\n                return result;\n            },\n            /**\n                * @typedef {Object} FileInfo\n                * @property {string} name A name of a file\n                * @property {module:API.cvat.enums.ShareFileType} type\n                * A type of a file\n                * @global\n            */\n\n            /**\n                * Method returns a list of files in a specified directory on a share\n                * @method share\n                * @async\n                * @memberof module:API.cvat.server\n                * @param {string} [directory=/] - Share directory path\n                * @returns {FileInfo[]}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n            */\n            async share(directory = '/') {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.server.share, directory);\n                return result;\n            },\n            /**\n                * Method returns available annotation formats\n                * @method formats\n                * @async\n                * @memberof module:API.cvat.server\n                * @returns {module:API.cvat.classes.AnnotationFormat[]}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n            */\n            async formats() {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.server.formats);\n                return result;\n            },\n            /**\n                * Method allows to register on a server\n                * @method register\n                * @async\n                * @memberof module:API.cvat.server\n                * @param {string} username An username for the new account\n                * @param {string} firstName A first name for the new account\n                * @param {string} lastName A last name for the new account\n                * @param {string} email A email address for the new account\n                * @param {string} password1 A password for the new account\n                * @param {string} password2 The confirmation password for the new account\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n            */\n            async register(username, firstName, lastName, email, password1, password2) {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.server.register, username, firstName,\n                        lastName, email, password1, password2);\n                return result;\n            },\n            /**\n                * Method allows to login on a server\n                * @method login\n                * @async\n                * @memberof module:API.cvat.server\n                * @param {string} username An username of an account\n                * @param {string} password A password of an account\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n            */\n            async login(username, password) {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.server.login, username, password);\n                return result;\n            },\n            /**\n                * Method allows to logout from the server\n                * @method logout\n                * @async\n                * @memberof module:API.cvat.server\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n            */\n            async logout() {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.server.logout);\n                return result;\n            },\n            /**\n                * Method allows to know whether you are authorized on the server\n                * @method authorized\n                * @async\n                * @memberof module:API.cvat.server\n                * @returns {boolean}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n            */\n            async authorized() {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.server.authorized);\n                return result;\n            },\n        },\n        /**\n            * Namespace is used for getting tasks\n            * @namespace tasks\n            * @memberof module:API.cvat\n        */\n        tasks: {\n            /**\n                * @typedef {Object} TaskFilter\n                * @property {string} name Check if name contains this value\n                * @property {module:API.cvat.enums.TaskStatus} status\n                * Check if status contains this value\n                * @property {module:API.cvat.enums.TaskMode} mode\n                * Check if mode contains this value\n                * @property {integer} id Check if id equals this value\n                * @property {integer} page Get specific page\n                * (default REST API returns 20 tasks per request.\n                * In order to get more, it is need to specify next page)\n                * @property {string} owner Check if owner user contains this value\n                * @property {string} assignee Check if assigneed contains this value\n                * @property {string} search Combined search of contains among all fields\n                * @global\n            */\n\n            /**\n                * Method returns list of tasks corresponding to a filter\n                * @method get\n                * @async\n                * @memberof module:API.cvat.tasks\n                * @param {TaskFilter} [filter={}] task filter\n                * @returns {module:API.cvat.classes.Task[]}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n            */\n            async get(filter = {}) {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.tasks.get, filter);\n                return result;\n            },\n        },\n        /**\n            * Namespace is used for getting jobs\n            * @namespace jobs\n            * @memberof module:API.cvat\n        */\n        jobs: {\n            /**\n                * @typedef {Object} JobFilter\n                * Only one of fields is allowed simultaneously\n                * @property {integer} taskID filter all jobs of specific task\n                * @property {integer} jobID filter job with a specific id\n                * @global\n            */\n\n            /**\n                * Method returns list of jobs corresponding to a filter\n                * @method get\n                * @async\n                * @memberof module:API.cvat.jobs\n                * @param {JobFilter} filter job filter\n                * @returns {module:API.cvat.classes.Job[]}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n            */\n            async get(filter = {}) {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.jobs.get, filter);\n                return result;\n            },\n        },\n        /**\n            * Namespace is used for getting users\n            * @namespace users\n            * @memberof module:API.cvat\n        */\n        users: {\n            /**\n                * @typedef {Object} UserFilter\n                * @property {boolean} self get only self\n                * @global\n            */\n\n            /**\n                * Method returns list of users corresponding to a filter\n                * @method get\n                * @async\n                * @memberof module:API.cvat.users\n                * @param {UserFilter} [filter={}] user filter\n                * @returns {module:API.cvat.classes.User[]}\n                * @throws {module:API.cvat.exceptions.PluginError}\n                * @throws {module:API.cvat.exceptions.ServerError}\n            */\n            async get(filter = {}) {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.users.get, filter);\n                return result;\n            },\n        },\n        /**\n            * Namespace is used for plugin management\n            * @namespace plugins\n            * @memberof module:API.cvat\n        */\n        plugins: {\n            /**\n                * @typedef {Object} Plugin\n                * A plugin is a Javascript object. It must have properties are listed below. <br>\n                * It also mustn't have property 'functions' which is used internally. <br>\n                * You can expand any API method including class methods. <br>\n                * In order to expand class method just use a class name\n                * in a cvat space (example is listed below).\n                *\n                * @property {string} name A name of a plugin\n                * @property {string} description A description of a plugin\n                * Example plugin implementation listed below:\n                * @example\n                * plugin = {\n                *   name: 'Example Plugin',\n                *   description: 'This example plugin demonstrates how plugin system in CVAT works',\n                *   cvat: {\n                *     server: {\n                *       about: {\n                *         // Plugin adds some actions after executing the cvat.server.about()\n                *         // For example it adds a field with installed plugins to a result\n                *         // An argument \"self\" is a plugin itself\n                *         // An argument \"result\" is a return value of cvat.server.about()\n                *         // All next arguments are arguments of a wrapped function\n                *         // (in this case the wrapped function doesn't have any arguments)\n                *         async leave(self, result) {\n                *           result.plugins = await self.internal.getPlugins();\n                *           // Note that a method leave must return \"result\" (changed or not)\n                *           // Otherwise API won't work as expected\n                *           return result;\n                *         },\n                *       },\n                *     },\n                *     // In this example plugin also wraps a class method\n                *     classes: {\n                *       Job: {\n                *         prototype: {\n                *           annotations: {\n                *             put: {\n                *               // The first argument \"self\" is a plugin, like in a case above\n                *               // The second argument is an argument of the\n                *               // Job.annotations.put()\n                *               // It contains an array of objects to put\n                *               // In this sample we round objects coordinates and save them\n                *               enter(self, objects) {\n                *                 for (const obj of objects) {\n                *                   if (obj.type != 'tag') {\n                *                     const points = obj.position.map((point) => {\n                *                       const roundPoint = {\n                *                         x: Math.round(point.x),\n                *                         y: Math.round(point.y),\n                *                       };\n                *                       return roundPoint;\n                *                     });\n                *                   }\n                *                 }\n                *               },\n                *             },\n                *           },\n                *         },\n                *       },\n                *     },\n                *   },\n                *   // In general you can add any others members to your plugin\n                *   // Members below are only examples\n                *   internal: {\n                *     async getPlugins() {\n                *       // Collect information about installed plugins\n                *       const plugins = await cvat.plugins.list();\n                *       return plugins.map((el) => {\n                *         return {\n                *           name: el.name,\n                *           description: el.description,\n                *         };\n                *       });\n                *     },\n                *   },\n                * };\n                * @global\n            */\n\n            /**\n                * Method returns list of installed plugins\n                * @method list\n                * @async\n                * @memberof module:API.cvat.plugins\n                * @returns {Plugin[]}\n                * @throws {module:API.cvat.exceptions.PluginError}\n            */\n            async list() {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.plugins.list);\n                return result;\n            },\n            /**\n                * Install plugin to CVAT\n                * @method register\n                * @async\n                * @memberof module:API.cvat.plugins\n                * @param {Plugin} [plugin] plugin for registration\n                * @throws {module:API.cvat.exceptions.PluginError}\n            */\n            async register(plugin) {\n                const result = await PluginRegistry\n                    .apiWrapper(cvat.plugins.register, plugin);\n                return result;\n            },\n        },\n        /**\n            * Namespace contains some changeable configurations\n            * @namespace config\n            * @memberof module:API.cvat\n        */\n        config: {\n            /**\n                * @memberof module:API.cvat.config\n                * @property {string} backendAPI host with a backend api\n                * @memberof module:API.cvat.config\n                * @property {string} proxy Axios proxy settings.\n                * For more details please read <a href=\"https://github.com/axios/axios\"> here </a>\n                * @memberof module:API.cvat.config\n                * @property {integer} taskID this value is displayed in a logs if available\n                * @memberof module:API.cvat.config\n                * @property {integer} jobID this value is displayed in a logs if available\n                * @memberof module:API.cvat.config\n                * @property {integer} clientID read only auto-generated\n                * value which is displayed in a logs\n                * @memberof module:API.cvat.config\n            */\n            get backendAPI() {\n                return config.backendAPI;\n            },\n            set backendAPI(value) {\n                config.backendAPI = value;\n            },\n            get proxy() {\n                return config.proxy;\n            },\n            set proxy(value) {\n                config.proxy = value;\n            },\n            get taskID() {\n                return config.taskID;\n            },\n            set taskID(value) {\n                config.taskID = value;\n            },\n            get jobID() {\n                return config.jobID;\n            },\n            set jobID(value) {\n                config.jobID = value;\n            },\n            get clientID() {\n                return config.clientID;\n            },\n        },\n        /**\n            * Namespace contains some library information e.g. api version\n            * @namespace client\n            * @memberof module:API.cvat\n        */\n        client: {\n            /**\n                * @property {string} version Client version.\n                * Format: <b>{major}.{minor}.{patch}</b>\n                * <li style=\"margin-left: 10px;\"> A major number is changed after an API becomes\n                * incompatible with a previous version\n                * <li style=\"margin-left: 10px;\"> A minor number is changed after an API expands\n                * <li style=\"margin-left: 10px;\"> A patch number is changed after an each build\n                * @memberof module:API.cvat.client\n                * @readonly\n            */\n            version: `${pjson.version}`,\n        },\n        /**\n            * Namespace is used for access to enums\n            * @namespace enums\n            * @memberof module:API.cvat\n        */\n        enums: {\n            ShareFileType,\n            TaskStatus,\n            TaskMode,\n            AttributeType,\n            ObjectType,\n            ObjectShape,\n            LogType,\n            EventType,\n        },\n        /**\n            * Namespace is used for access to exceptions\n            * @namespace exceptions\n            * @memberof module:API.cvat\n        */\n        exceptions: {\n            Exception,\n            ArgumentError,\n            DataError,\n            ScriptingError,\n            PluginError,\n            ServerError,\n        },\n        /**\n            * Namespace is used for access to classes\n            * @namespace classes\n            * @memberof module:API.cvat\n        */\n        classes: {\n            Task,\n            User,\n            Job,\n            Attribute,\n            Label,\n            Statistics,\n            ObjectState,\n        },\n    };\n\n    cvat.server = Object.freeze(cvat.server);\n    cvat.tasks = Object.freeze(cvat.tasks);\n    cvat.jobs = Object.freeze(cvat.jobs);\n    cvat.users = Object.freeze(cvat.users);\n    cvat.plugins = Object.freeze(cvat.plugins);\n    cvat.client = Object.freeze(cvat.client);\n    cvat.enums = Object.freeze(cvat.enums);\n\n    const implementAPI = require('./api-implementation');\n\n    Math.clamp = function (value, min, max) {\n        return Math.min(Math.max(value, min), max);\n    };\n\n    const implemented = Object.freeze(implementAPI(cvat));\n    return implemented;\n}\n\nmodule.exports = build();\n","/*!\n * Platform.js <https://mths.be/platform>\n * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>\n * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>\n * Available under MIT license <https://mths.be/mit>\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object. */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object. */\n  var oldRoot = root;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Regular expression to detect Opera. */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object. */\n  var thisBinding = this;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values. */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // Platform tokens are defined at:\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '10.0': '10',\n      '6.4':  '10 Technical Preview',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // Detect Windows version from platform tokens.\n    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) &&\n        (data = data[/[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // Correct character case and cleanup string.\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object. */\n    var context = root;\n\n    /** Used to flag when a custom context is provided. */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // Juggle arguments.\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object. */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string. */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope]. */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome. */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts. */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environments. */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino. */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha. */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta. */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object. */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based).\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]`. */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime. */\n    var data;\n\n    /** The CPU architecture. */\n    var arch = ua;\n\n    /** Platform description array. */\n    var description = [];\n\n    /** Platform alpha/beta indicator. */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform. */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version. */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important). */\n    var layout = getLayout([\n      { 'label': 'EdgeHTML', 'pattern': 'Edge' },\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important). */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Electron',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      { 'label': 'Microsoft Edge', 'pattern': 'Edge' },\n      'Midori',\n      'Nook Browser',\n      'PaleMoon',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      { 'label': 'Samsung Internet', 'pattern': 'SamsungBrowser' },\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'Sunrise',\n      'Swiftfox',\n      'Waterfox',\n      'WebPositive',\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chrome',\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'Firefox for iOS', 'pattern': 'FxiOS' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important). */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      { 'label': 'Galaxy S5', 'pattern': 'SM-G900' },\n      { 'label': 'Galaxy S6', 'pattern': 'SM-G920' },\n      { 'label': 'Galaxy S6 Edge', 'pattern': 'SM-G925' },\n      { 'label': 'Galaxy S7', 'pattern': 'SM-G930' },\n      { 'label': 'Galaxy S7 Edge', 'pattern': 'SM-G935' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nexus',\n      'Nook',\n      'PlayBook',\n      'PlayStation Vita',\n      'PlayStation',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers. */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Archos': {},\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1, 'Nexus': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 }\n    });\n\n    /* Detectable operating systems (order is important). */\n    var os = getOS([\n      'Windows Phone',\n      'Android',\n      'CentOS',\n      { 'label': 'Chrome OS', 'pattern': 'CrOS' },\n      'Debian',\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'OpenBSD',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Tizen',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // Lookup the manufacturer by product or scan the UA for the manufacturer.\n        return result || (\n          value[product] ||\n          value[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + ' *\\\\w+-[\\\\w]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // Split by forward slash and append product version if needed.\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // Correct character case and cleanup string.\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Convert layout to an array so we can add extra details.\n    layout && (layout = [layout]);\n\n    // Detect product names that contain their manufacturer's name.\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    }\n    // Clean up Google TV.\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // Detect simulators.\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // Detect IE Mobile 11.\n    if (name == 'IE' && /\\blike iPhone OS\\b/.test(ua)) {\n      data = parse(ua.replace(/like iPhone OS/, ''));\n      manufacturer = data.manufacturer;\n      product = data.product;\n    }\n    // Detect iOS.\n    else if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // Detect Kubuntu.\n    else if (name == 'Konqueror' && !/buntu/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // Detect Android browsers.\n    else if ((manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) ||\n        (/\\bAndroid\\b/.test(os) && /^Chrome/.test(name) && /\\bVersion\\//i.test(ua))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // Detect Silk desktop/accelerated modes.\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // Detect PaleMoon identifying as Firefox.\n    else if (name == 'PaleMoon' && (data = /\\bFirefox\\/([\\d.]+)\\b/.exec(ua))) {\n      description.push('identifying as Firefox ' + data[1]);\n    }\n    // Detect Firefox OS and products running Firefox.\n    else if (name == 'Firefox' && (data = /\\b(Mobile|Tablet|TV)\\b/i.exec(ua))) {\n      os || (os = 'Firefox OS');\n      product || (product = data[1]);\n    }\n    // Detect false positives for Firefox/Safari.\n    else if (!name || (data = !/\\bMinefield\\b/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // Escape the `/` for Firefox 1.\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // Clear name of false positives.\n        name = null;\n      }\n      // Reassign a generic name.\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // Add Chrome version to description for Electron.\n    else if (name == 'Electron' && (data = (/\\bChrome\\/([\\d.]+)\\b/.exec(ua) || 0)[1])) {\n      description.push('Chromium ' + data);\n    }\n    // Detect non-Opera (Presto-based) versions (order is important).\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$))',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // Detect stubborn layout engines.\n    if ((data =\n          layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' ||\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') ||\n          layout == 'WebKit' && /\\bPlayStation\\b(?! Vita\\b)/i.test(name) && 'NetFront'\n        )) {\n      layout = [data];\n    }\n    // Detect Windows Phone 7 desktop mode.\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // Detect Windows Phone 8.x desktop mode.\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8.x';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // Detect IE 11 identifying as other browsers.\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (name) {\n        description.push('identifying as ' + name + (version ? ' ' + version : ''));\n      }\n      name = 'IE';\n      version = data[1];\n    }\n    // Leverage environment features.\n    if (useFeatures) {\n      // Detect server-side environments.\n      // Rhino has a global function while others have a global object.\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (rhino) {\n          try {\n            version = context.require('ringo/engine').version.join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if ((data = context.system) && data.global.system == context.system) {\n              name = 'Narwhal';\n              os || (os = data[0].os || null);\n            }\n          }\n          if (!name) {\n            name = 'Rhino';\n          }\n        }\n        else if (\n          typeof context.process == 'object' && !context.process.browser &&\n          (data = context.process)\n        ) {\n          if (typeof data.versions == 'object') {\n            if (typeof data.versions.electron == 'string') {\n              description.push('Node ' + data.versions.node);\n              name = 'Electron';\n              version = data.versions.electron;\n            } else if (typeof data.versions.nw == 'string') {\n              description.push('Chromium ' + version, 'Node ' + data.versions.node);\n              name = 'NW.js';\n              version = data.versions.nw;\n            }\n          }\n          if (!name) {\n            name = 'Node.js';\n            arch = data.arch;\n            os = data.platform;\n            version = /[\\d.]+/.exec(data.version);\n            version = version ? version[0] : null;\n          }\n        }\n      }\n      // Detect Adobe AIR.\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // Detect PhantomJS.\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // Detect IE compatibility modes.\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // We're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode.\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      // Detect IE 11 masking as other browsers.\n      else if (typeof doc.documentMode == 'number' && /^(?:Chrome|Firefox)\\b/.test(name)) {\n        description.push('masking as ' + name + ' ' + version);\n        name = 'IE';\n        version = '11.0';\n        layout = ['Trident'];\n        os = 'Windows';\n      }\n      os = os && format(os);\n    }\n    // Detect prerelease phases.\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // Detect Firefox Mobile.\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // Obscure Maxthon's unreliable version.\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // Detect Xbox 360 and Xbox One.\n    else if (/\\bXbox\\b/i.test(product)) {\n      if (product == 'Xbox 360') {\n        os = null;\n      }\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // Add mobile postfix.\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // Detect IE platform preview.\n    else if (name == 'IE' && useFeatures) {\n      try {\n        if (context.external === null) {\n          description.unshift('platform preview');\n        }\n      } catch(e) {\n        description.unshift('embedded');\n      }\n    }\n    // Detect BlackBerry OS version.\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // Detect Opera identifying/masking itself as another browser.\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && product != 'Wii' && (\n          (useFeatures && opera) ||\n          (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n          (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n          (name == 'IE' && (\n            (os && !/^Win/.test(os) && version > 5.5) ||\n            /\\bWindows XP\\b/.test(os) && version > 8 ||\n            version == 8 && !/\\bTrident\\b/.test(ua)\n          ))\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n      // When \"identifying\", the UA contains both Opera and the other browser's name.\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // When \"masking\", the UA contains only the other browser's name.\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // Detect WebKit Nightly and approximate Chrome/Safari versions.\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // Correct build number for numeric comparison.\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // Nightly builds are postfixed with a \"+\".\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // Clear incorrect browser versions.\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // Use the full Chrome version when available.\n      data[1] = (/\\bChrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // Detect Blink layout engine.\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {\n        layout = ['Blink'];\n      }\n      // Detect JavaScriptCore.\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : '8');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // Add the postfix of \".x\" or \"+\" for approximate versions.\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // Obscure version for some Safari 1-2 releases.\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      }\n    }\n    // Detect Opera desktop modes.\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // Detect Chrome desktop mode.\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // Strip incorrect OS versions.\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // Add layout engine.\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        name != 'Safari' && /^iOS/.test(os) && /\\bSafari\\b/.test(layout[1]) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(name) && layout[1])) {\n      // Don't add layout details to description if they are falsey.\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // Combine contextual information.\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // Append manufacturer to description.\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // Append product to description.\n    if (product) {\n      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);\n    }\n    // Parse the OS into an object.\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // Add browser/OS architecture.\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n    // Chrome 39 and above on OS X is always 64-bit.\n    else if (\n        os && /^OS X/.test(os.family) &&\n        name == 'Chrome' && parseFloat(version) >= 39\n    ) {\n      os.architecture = 64;\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * The list of common layout engines include:\n     * \"Blink\", \"EdgeHTML\", \"Gecko\", \"Trident\" and \"WebKit\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * The list of manufacturers include:\n     * \"Apple\", \"Archos\", \"Amazon\", \"Asus\", \"Barnes & Noble\", \"BlackBerry\",\n     * \"Google\", \"HP\", \"HTC\", \"LG\", \"Microsoft\", \"Motorola\", \"Nintendo\",\n     * \"Nokia\", \"Samsung\" and \"Sony\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * The list of common browser names include:\n     * \"Chrome\", \"Electron\", \"Firefox\", \"Firefox for iOS\", \"IE\",\n     * \"Microsoft Edge\", \"PhantomJS\", \"Safari\", \"SeaMonkey\", \"Silk\",\n     * \"Opera Mini\" and \"Opera\"\n     *\n     * Mobile versions of some browsers have \"Mobile\" appended to their name:\n     * eg. \"Chrome Mobile\", \"Firefox Mobile\", \"IE Mobile\" and \"Opera Mobile\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * The list of common products include:\n     *\n     * \"BlackBerry\", \"Galaxy S4\", \"Lumia\", \"iPad\", \"iPod\", \"iPhone\", \"Kindle\",\n     * \"Kindle Fire\", \"Nexus\", \"Nook\", \"PlayBook\", \"TouchPad\" and \"Transformer\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\", \"SuSE\",\n       * \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export platform.\n  var platform = parse();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose platform on the global object to prevent errors when platform is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    root.platform = platform;\n\n    // Define as an anonymous module so platform can be aliased through path mapping.\n    define(function() {\n      return platform;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for CommonJS support.\n    forOwn(platform, function(value, key) {\n      freeExports[key] = value;\n    });\n  }\n  else {\n    // Export to the global object.\n    root.platform = platform;\n  }\n}.call(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData();\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (util.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) )) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity > read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err) {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    request.setHeader('Content-Length', length);\n\n    this.pipe(request);\n    if (cb) {\n      request.on('error', cb);\n      request.on('response', cb.bind(this, null));\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","module.exports = require(\"fs\");","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","var engine = require('../src/store-engine')\n\nvar storages = require('../storages/all')\nvar plugins = [require('../plugins/json2')]\n\nmodule.exports = engine.createStore(storages, plugins)\n","var util = require('./util')\nvar slice = util.slice\nvar pluck = util.pluck\nvar each = util.each\nvar bind = util.bind\nvar create = util.create\nvar isList = util.isList\nvar isFunction = util.isFunction\nvar isObject = util.isObject\n\nmodule.exports = {\n\tcreateStore: createStore\n}\n\nvar storeAPI = {\n\tversion: '2.0.12',\n\tenabled: false,\n\t\n\t// get returns the value of the given key. If that value\n\t// is undefined, it returns optionalDefaultValue instead.\n\tget: function(key, optionalDefaultValue) {\n\t\tvar data = this.storage.read(this._namespacePrefix + key)\n\t\treturn this._deserialize(data, optionalDefaultValue)\n\t},\n\n\t// set will store the given value at key and returns value.\n\t// Calling set with value === undefined is equivalent to calling remove.\n\tset: function(key, value) {\n\t\tif (value === undefined) {\n\t\t\treturn this.remove(key)\n\t\t}\n\t\tthis.storage.write(this._namespacePrefix + key, this._serialize(value))\n\t\treturn value\n\t},\n\n\t// remove deletes the key and value stored at the given key.\n\tremove: function(key) {\n\t\tthis.storage.remove(this._namespacePrefix + key)\n\t},\n\n\t// each will call the given callback once for each key-value pair\n\t// in this store.\n\teach: function(callback) {\n\t\tvar self = this\n\t\tthis.storage.each(function(val, namespacedKey) {\n\t\t\tcallback.call(self, self._deserialize(val), (namespacedKey || '').replace(self._namespaceRegexp, ''))\n\t\t})\n\t},\n\n\t// clearAll will remove all the stored key-value pairs in this store.\n\tclearAll: function() {\n\t\tthis.storage.clearAll()\n\t},\n\n\t// additional functionality that can't live in plugins\n\t// ---------------------------------------------------\n\n\t// hasNamespace returns true if this store instance has the given namespace.\n\thasNamespace: function(namespace) {\n\t\treturn (this._namespacePrefix == '__storejs_'+namespace+'_')\n\t},\n\n\t// createStore creates a store.js instance with the first\n\t// functioning storage in the list of storage candidates,\n\t// and applies the the given mixins to the instance.\n\tcreateStore: function() {\n\t\treturn createStore.apply(this, arguments)\n\t},\n\t\n\taddPlugin: function(plugin) {\n\t\tthis._addPlugin(plugin)\n\t},\n\t\n\tnamespace: function(namespace) {\n\t\treturn createStore(this.storage, this.plugins, namespace)\n\t}\n}\n\nfunction _warn() {\n\tvar _console = (typeof console == 'undefined' ? null : console)\n\tif (!_console) { return }\n\tvar fn = (_console.warn ? _console.warn : _console.log)\n\tfn.apply(_console, arguments)\n}\n\nfunction createStore(storages, plugins, namespace) {\n\tif (!namespace) {\n\t\tnamespace = ''\n\t}\n\tif (storages && !isList(storages)) {\n\t\tstorages = [storages]\n\t}\n\tif (plugins && !isList(plugins)) {\n\t\tplugins = [plugins]\n\t}\n\n\tvar namespacePrefix = (namespace ? '__storejs_'+namespace+'_' : '')\n\tvar namespaceRegexp = (namespace ? new RegExp('^'+namespacePrefix) : null)\n\tvar legalNamespaces = /^[a-zA-Z0-9_\\-]*$/ // alpha-numeric + underscore and dash\n\tif (!legalNamespaces.test(namespace)) {\n\t\tthrow new Error('store.js namespaces can only have alphanumerics + underscores and dashes')\n\t}\n\t\n\tvar _privateStoreProps = {\n\t\t_namespacePrefix: namespacePrefix,\n\t\t_namespaceRegexp: namespaceRegexp,\n\n\t\t_testStorage: function(storage) {\n\t\t\ttry {\n\t\t\t\tvar testStr = '__storejs__test__'\n\t\t\t\tstorage.write(testStr, testStr)\n\t\t\t\tvar ok = (storage.read(testStr) === testStr)\n\t\t\t\tstorage.remove(testStr)\n\t\t\t\treturn ok\n\t\t\t} catch(e) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\n\t\t_assignPluginFnProp: function(pluginFnProp, propName) {\n\t\t\tvar oldFn = this[propName]\n\t\t\tthis[propName] = function pluginFn() {\n\t\t\t\tvar args = slice(arguments, 0)\n\t\t\t\tvar self = this\n\n\t\t\t\t// super_fn calls the old function which was overwritten by\n\t\t\t\t// this mixin.\n\t\t\t\tfunction super_fn() {\n\t\t\t\t\tif (!oldFn) { return }\n\t\t\t\t\teach(arguments, function(arg, i) {\n\t\t\t\t\t\targs[i] = arg\n\t\t\t\t\t})\n\t\t\t\t\treturn oldFn.apply(self, args)\n\t\t\t\t}\n\n\t\t\t\t// Give mixing function access to super_fn by prefixing all mixin function\n\t\t\t\t// arguments with super_fn.\n\t\t\t\tvar newFnArgs = [super_fn].concat(args)\n\n\t\t\t\treturn pluginFnProp.apply(self, newFnArgs)\n\t\t\t}\n\t\t},\n\n\t\t_serialize: function(obj) {\n\t\t\treturn JSON.stringify(obj)\n\t\t},\n\n\t\t_deserialize: function(strVal, defaultVal) {\n\t\t\tif (!strVal) { return defaultVal }\n\t\t\t// It is possible that a raw string value has been previously stored\n\t\t\t// in a storage without using store.js, meaning it will be a raw\n\t\t\t// string value instead of a JSON serialized string. By defaulting\n\t\t\t// to the raw string value in case of a JSON parse error, we allow\n\t\t\t// for past stored values to be forwards-compatible with store.js\n\t\t\tvar val = ''\n\t\t\ttry { val = JSON.parse(strVal) }\n\t\t\tcatch(e) { val = strVal }\n\n\t\t\treturn (val !== undefined ? val : defaultVal)\n\t\t},\n\t\t\n\t\t_addStorage: function(storage) {\n\t\t\tif (this.enabled) { return }\n\t\t\tif (this._testStorage(storage)) {\n\t\t\t\tthis.storage = storage\n\t\t\t\tthis.enabled = true\n\t\t\t}\n\t\t},\n\n\t\t_addPlugin: function(plugin) {\n\t\t\tvar self = this\n\n\t\t\t// If the plugin is an array, then add all plugins in the array.\n\t\t\t// This allows for a plugin to depend on other plugins.\n\t\t\tif (isList(plugin)) {\n\t\t\t\teach(plugin, function(plugin) {\n\t\t\t\t\tself._addPlugin(plugin)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Keep track of all plugins we've seen so far, so that we\n\t\t\t// don't add any of them twice.\n\t\t\tvar seenPlugin = pluck(this.plugins, function(seenPlugin) {\n\t\t\t\treturn (plugin === seenPlugin)\n\t\t\t})\n\t\t\tif (seenPlugin) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.plugins.push(plugin)\n\n\t\t\t// Check that the plugin is properly formed\n\t\t\tif (!isFunction(plugin)) {\n\t\t\t\tthrow new Error('Plugins must be function values that return objects')\n\t\t\t}\n\n\t\t\tvar pluginProperties = plugin.call(this)\n\t\t\tif (!isObject(pluginProperties)) {\n\t\t\t\tthrow new Error('Plugins must return an object of function properties')\n\t\t\t}\n\n\t\t\t// Add the plugin function properties to this store instance.\n\t\t\teach(pluginProperties, function(pluginFnProp, propName) {\n\t\t\t\tif (!isFunction(pluginFnProp)) {\n\t\t\t\t\tthrow new Error('Bad plugin property: '+propName+' from plugin '+plugin.name+'. Plugins should only return functions.')\n\t\t\t\t}\n\t\t\t\tself._assignPluginFnProp(pluginFnProp, propName)\n\t\t\t})\n\t\t},\n\t\t\n\t\t// Put deprecated properties in the private API, so as to not expose it to accidential\n\t\t// discovery through inspection of the store object.\n\t\t\n\t\t// Deprecated: addStorage\n\t\taddStorage: function(storage) {\n\t\t\t_warn('store.addStorage(storage) is deprecated. Use createStore([storages])')\n\t\t\tthis._addStorage(storage)\n\t\t}\n\t}\n\n\tvar store = create(_privateStoreProps, storeAPI, {\n\t\tplugins: []\n\t})\n\tstore.raw = {}\n\teach(store, function(prop, propName) {\n\t\tif (isFunction(prop)) {\n\t\t\tstore.raw[propName] = bind(store, prop)\t\t\t\n\t\t}\n\t})\n\teach(storages, function(storage) {\n\t\tstore._addStorage(storage)\n\t})\n\teach(plugins, function(plugin) {\n\t\tstore._addPlugin(plugin)\n\t})\n\treturn store\n}\n","module.exports = [\n\t// Listed in order of usage preference\n\trequire('./localStorage'),\n\trequire('./oldFF-globalStorage'),\n\trequire('./oldIE-userDataStorage'),\n\trequire('./cookieStorage'),\n\trequire('./sessionStorage'),\n\trequire('./memoryStorage')\n]\n","var util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'localStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nfunction localStorage() {\n\treturn Global.localStorage\n}\n\nfunction read(key) {\n\treturn localStorage().getItem(key)\n}\n\nfunction write(key, data) {\n\treturn localStorage().setItem(key, data)\n}\n\nfunction each(fn) {\n\tfor (var i = localStorage().length - 1; i >= 0; i--) {\n\t\tvar key = localStorage().key(i)\n\t\tfn(read(key), key)\n\t}\n}\n\nfunction remove(key) {\n\treturn localStorage().removeItem(key)\n}\n\nfunction clearAll() {\n\treturn localStorage().clear()\n}\n","// oldFF-globalStorage provides storage for Firefox\n// versions 6 and 7, where no localStorage, etc\n// is available.\n\nvar util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'oldFF-globalStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar globalStorage = Global.globalStorage\n\nfunction read(key) {\n\treturn globalStorage[key]\n}\n\nfunction write(key, data) {\n\tglobalStorage[key] = data\n}\n\nfunction each(fn) {\n\tfor (var i = globalStorage.length - 1; i >= 0; i--) {\n\t\tvar key = globalStorage.key(i)\n\t\tfn(globalStorage[key], key)\n\t}\n}\n\nfunction remove(key) {\n\treturn globalStorage.removeItem(key)\n}\n\nfunction clearAll() {\n\teach(function(key, _) {\n\t\tdelete globalStorage[key]\n\t})\n}\n","// oldIE-userDataStorage provides storage for Internet Explorer\n// versions 6 and 7, where no localStorage, sessionStorage, etc\n// is available.\n\nvar util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'oldIE-userDataStorage',\n\twrite: write,\n\tread: read,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar storageName = 'storejs'\nvar doc = Global.document\nvar _withStorageEl = _makeIEStorageElFunction()\nvar disable = (Global.navigator ? Global.navigator.userAgent : '').match(/ (MSIE 8|MSIE 9|MSIE 10)\\./) // MSIE 9.x, MSIE 10.x\n\nfunction write(unfixedKey, data) {\n\tif (disable) { return }\n\tvar fixedKey = fixKey(unfixedKey)\n\t_withStorageEl(function(storageEl) {\n\t\tstorageEl.setAttribute(fixedKey, data)\n\t\tstorageEl.save(storageName)\n\t})\n}\n\nfunction read(unfixedKey) {\n\tif (disable) { return }\n\tvar fixedKey = fixKey(unfixedKey)\n\tvar res = null\n\t_withStorageEl(function(storageEl) {\n\t\tres = storageEl.getAttribute(fixedKey)\n\t})\n\treturn res\n}\n\nfunction each(callback) {\n\t_withStorageEl(function(storageEl) {\n\t\tvar attributes = storageEl.XMLDocument.documentElement.attributes\n\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\tvar attr = attributes[i]\n\t\t\tcallback(storageEl.getAttribute(attr.name), attr.name)\n\t\t}\n\t})\n}\n\nfunction remove(unfixedKey) {\n\tvar fixedKey = fixKey(unfixedKey)\n\t_withStorageEl(function(storageEl) {\n\t\tstorageEl.removeAttribute(fixedKey)\n\t\tstorageEl.save(storageName)\n\t})\n}\n\nfunction clearAll() {\n\t_withStorageEl(function(storageEl) {\n\t\tvar attributes = storageEl.XMLDocument.documentElement.attributes\n\t\tstorageEl.load(storageName)\n\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\tstorageEl.removeAttribute(attributes[i].name)\n\t\t}\n\t\tstorageEl.save(storageName)\n\t})\n}\n\n// Helpers\n//////////\n\n// In IE7, keys cannot start with a digit or contain certain chars.\n// See https://github.com/marcuswestin/store.js/issues/40\n// See https://github.com/marcuswestin/store.js/issues/83\nvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\nfunction fixKey(key) {\n\treturn key.replace(/^\\d/, '___$&').replace(forbiddenCharsRegex, '___')\n}\n\nfunction _makeIEStorageElFunction() {\n\tif (!doc || !doc.documentElement || !doc.documentElement.addBehavior) {\n\t\treturn null\n\t}\n\tvar scriptTag = 'script',\n\t\tstorageOwner,\n\t\tstorageContainer,\n\t\tstorageEl\n\n\t// Since #userData storage applies only to specific paths, we need to\n\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t// as a pretty safe option, since all browsers already make a request to\n\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t// since the iframe access rules appear to allow direct access and\n\t// manipulation of the document element, even for a 404 page.  This\n\t// document can be used instead of the current document (which would\n\t// have been limited to the current path) to perform #userData storage.\n\ttry {\n\t\t/* global ActiveXObject */\n\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\tstorageContainer.open()\n\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\tstorageContainer.close()\n\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\tstorageEl = storageOwner.createElement('div')\n\t} catch(e) {\n\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t// security settings or otherwse), fall back to per-path storage\n\t\tstorageEl = doc.createElement('div')\n\t\tstorageOwner = doc.body\n\t}\n\n\treturn function(storeFunction) {\n\t\tvar args = [].slice.call(arguments, 0)\n\t\targs.unshift(storageEl)\n\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\tstorageOwner.appendChild(storageEl)\n\t\tstorageEl.addBehavior('#default#userData')\n\t\tstorageEl.load(storageName)\n\t\tstoreFunction.apply(this, args)\n\t\tstorageOwner.removeChild(storageEl)\n\t\treturn\n\t}\n}\n","// cookieStorage is useful Safari private browser mode, where localStorage\n// doesn't work but cookies do. This implementation is adopted from\n// https://developer.mozilla.org/en-US/docs/Web/API/Storage/LocalStorage\n\nvar util = require('../src/util')\nvar Global = util.Global\nvar trim = util.trim\n\nmodule.exports = {\n\tname: 'cookieStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar doc = Global.document\n\nfunction read(key) {\n\tif (!key || !_has(key)) { return null }\n\tvar regexpStr = \"(?:^|.*;\\\\s*)\" +\n\t\tescape(key).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") +\n\t\t\"\\\\s*\\\\=\\\\s*((?:[^;](?!;))*[^;]?).*\"\n\treturn unescape(doc.cookie.replace(new RegExp(regexpStr), \"$1\"))\n}\n\nfunction each(callback) {\n\tvar cookies = doc.cookie.split(/; ?/g)\n\tfor (var i = cookies.length - 1; i >= 0; i--) {\n\t\tif (!trim(cookies[i])) {\n\t\t\tcontinue\n\t\t}\n\t\tvar kvp = cookies[i].split('=')\n\t\tvar key = unescape(kvp[0])\n\t\tvar val = unescape(kvp[1])\n\t\tcallback(val, key)\n\t}\n}\n\nfunction write(key, data) {\n\tif(!key) { return }\n\tdoc.cookie = escape(key) + \"=\" + escape(data) + \"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/\"\n}\n\nfunction remove(key) {\n\tif (!key || !_has(key)) {\n\t\treturn\n\t}\n\tdoc.cookie = escape(key) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/\"\n}\n\nfunction clearAll() {\n\teach(function(_, key) {\n\t\tremove(key)\n\t})\n}\n\nfunction _has(key) {\n\treturn (new RegExp(\"(?:^|;\\\\s*)\" + escape(key).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(doc.cookie)\n}\n","var util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'sessionStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll\n}\n\nfunction sessionStorage() {\n\treturn Global.sessionStorage\n}\n\nfunction read(key) {\n\treturn sessionStorage().getItem(key)\n}\n\nfunction write(key, data) {\n\treturn sessionStorage().setItem(key, data)\n}\n\nfunction each(fn) {\n\tfor (var i = sessionStorage().length - 1; i >= 0; i--) {\n\t\tvar key = sessionStorage().key(i)\n\t\tfn(read(key), key)\n\t}\n}\n\nfunction remove(key) {\n\treturn sessionStorage().removeItem(key)\n}\n\nfunction clearAll() {\n\treturn sessionStorage().clear()\n}\n","// memoryStorage is a useful last fallback to ensure that the store\n// is functions (meaning store.get(), store.set(), etc will all function).\n// However, stored values will not persist when the browser navigates to\n// a new page or reloads the current page.\n\nmodule.exports = {\n\tname: 'memoryStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar memoryStorage = {}\n\nfunction read(key) {\n\treturn memoryStorage[key]\n}\n\nfunction write(key, data) {\n\tmemoryStorage[key] = data\n}\n\nfunction each(callback) {\n\tfor (var key in memoryStorage) {\n\t\tif (memoryStorage.hasOwnProperty(key)) {\n\t\t\tcallback(memoryStorage[key], key)\n\t\t}\n\t}\n}\n\nfunction remove(key) {\n\tdelete memoryStorage[key]\n}\n\nfunction clearAll(key) {\n\tmemoryStorage = {}\n}\n","module.exports = json2Plugin\n\nfunction json2Plugin() {\n\trequire('./lib/json2')\n\treturn {}\n}\n","/* eslint-disable */\n\n//  json2.js\n//  2016-10-28\n//  Public Domain.\n//  NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n//  See http://www.JSON.org/js.html\n//  This code should be minified before deployment.\n//  See http://javascript.crockford.com/jsmin.html\n\n//  USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n//  NOT CONTROL.\n\n//  This file creates a global JSON object containing two methods: stringify\n//  and parse. This file provides the ES5 JSON capability to ES3 systems.\n//  If a project might run on IE8 or earlier, then this file should be included.\n//  This file does nothing on ES5 systems.\n\n//      JSON.stringify(value, replacer, space)\n//          value       any JavaScript value, usually an object or array.\n//          replacer    an optional parameter that determines how object\n//                      values are stringified for objects. It can be a\n//                      function or an array of strings.\n//          space       an optional parameter that specifies the indentation\n//                      of nested structures. If it is omitted, the text will\n//                      be packed without extra whitespace. If it is a number,\n//                      it will specify the number of spaces to indent at each\n//                      level. If it is a string (such as \"\\t\" or \"&nbsp;\"),\n//                      it contains the characters used to indent at each level.\n//          This method produces a JSON text from a JavaScript value.\n//          When an object value is found, if the object contains a toJSON\n//          method, its toJSON method will be called and the result will be\n//          stringified. A toJSON method does not serialize: it returns the\n//          value represented by the name/value pair that should be serialized,\n//          or undefined if nothing should be serialized. The toJSON method\n//          will be passed the key associated with the value, and this will be\n//          bound to the value.\n\n//          For example, this would serialize Dates as ISO strings.\n\n//              Date.prototype.toJSON = function (key) {\n//                  function f(n) {\n//                      // Format integers to have at least two digits.\n//                      return (n < 10)\n//                          ? \"0\" + n\n//                          : n;\n//                  }\n//                  return this.getUTCFullYear()   + \"-\" +\n//                       f(this.getUTCMonth() + 1) + \"-\" +\n//                       f(this.getUTCDate())      + \"T\" +\n//                       f(this.getUTCHours())     + \":\" +\n//                       f(this.getUTCMinutes())   + \":\" +\n//                       f(this.getUTCSeconds())   + \"Z\";\n//              };\n\n//          You can provide an optional replacer method. It will be passed the\n//          key and value of each member, with this bound to the containing\n//          object. The value that is returned from your method will be\n//          serialized. If your method returns undefined, then the member will\n//          be excluded from the serialization.\n\n//          If the replacer parameter is an array of strings, then it will be\n//          used to select the members to be serialized. It filters the results\n//          such that only members with keys listed in the replacer array are\n//          stringified.\n\n//          Values that do not have JSON representations, such as undefined or\n//          functions, will not be serialized. Such values in objects will be\n//          dropped; in arrays they will be replaced with null. You can use\n//          a replacer function to replace those with JSON values.\n\n//          JSON.stringify(undefined) returns undefined.\n\n//          The optional space parameter produces a stringification of the\n//          value that is filled with line breaks and indentation to make it\n//          easier to read.\n\n//          If the space parameter is a non-empty string, then that string will\n//          be used for indentation. If the space parameter is a number, then\n//          the indentation will be that many spaces.\n\n//          Example:\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}]);\n//          // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}], null, \"\\t\");\n//          // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n//          text = JSON.stringify([new Date()], function (key, value) {\n//              return this[key] instanceof Date\n//                  ? \"Date(\" + this[key] + \")\"\n//                  : value;\n//          });\n//          // text is '[\"Date(---current time---)\"]'\n\n//      JSON.parse(text, reviver)\n//          This method parses a JSON text to produce an object or array.\n//          It can throw a SyntaxError exception.\n\n//          The optional reviver parameter is a function that can filter and\n//          transform the results. It receives each of the keys and values,\n//          and its return value is used instead of the original value.\n//          If it returns what it received, then the structure is not modified.\n//          If it returns undefined then the member is deleted.\n\n//          Example:\n\n//          // Parse the text. Values that look like ISO date strings will\n//          // be converted to Date objects.\n\n//          myData = JSON.parse(text, function (key, value) {\n//              var a;\n//              if (typeof value === \"string\") {\n//                  a =\n//   /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n//                  if (a) {\n//                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n//                          +a[5], +a[6]));\n//                  }\n//              }\n//              return value;\n//          });\n\n//          myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n//              var d;\n//              if (typeof value === \"string\" &&\n//                      value.slice(0, 5) === \"Date(\" &&\n//                      value.slice(-1) === \")\") {\n//                  d = new Date(value.slice(5, -1));\n//                  if (d) {\n//                      return d;\n//                  }\n//              }\n//              return value;\n//          });\n\n//  This is a reference implementation. You are free to copy, modify, or\n//  redistribute.\n\n/*jslint\n    eval, for, this\n*/\n\n/*property\n    JSON, apply, call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\n\n\n// Create a JSON object only if one does not already exist. We create the\n// methods in a closure to avoid creating global variables.\n\nif (typeof JSON !== \"object\") {\n    JSON = {};\n}\n\n(function () {\n    \"use strict\";\n\n    var rx_one = /^[\\],:{}\\s]*$/;\n    var rx_two = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n    var rx_three = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n    var rx_four = /(?:^|:|,)(?:\\s*\\[)+/g;\n    var rx_escapable = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n    var rx_dangerous = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n    function f(n) {\n        // Format integers to have at least two digits.\n        return n < 10\n            ? \"0\" + n\n            : n;\n    }\n\n    function this_value() {\n        return this.valueOf();\n    }\n\n    if (typeof Date.prototype.toJSON !== \"function\") {\n\n        Date.prototype.toJSON = function () {\n\n            return isFinite(this.valueOf())\n                ? this.getUTCFullYear() + \"-\" +\n                        f(this.getUTCMonth() + 1) + \"-\" +\n                        f(this.getUTCDate()) + \"T\" +\n                        f(this.getUTCHours()) + \":\" +\n                        f(this.getUTCMinutes()) + \":\" +\n                        f(this.getUTCSeconds()) + \"Z\"\n                : null;\n        };\n\n        Boolean.prototype.toJSON = this_value;\n        Number.prototype.toJSON = this_value;\n        String.prototype.toJSON = this_value;\n    }\n\n    var gap;\n    var indent;\n    var meta;\n    var rep;\n\n\n    function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n        rx_escapable.lastIndex = 0;\n        return rx_escapable.test(string)\n            ? \"\\\"\" + string.replace(rx_escapable, function (a) {\n                var c = meta[a];\n                return typeof c === \"string\"\n                    ? c\n                    : \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + \"\\\"\"\n            : \"\\\"\" + string + \"\\\"\";\n    }\n\n\n    function str(key, holder) {\n\n// Produce a string from holder[key].\n\n        var i;          // The loop counter.\n        var k;          // The member key.\n        var v;          // The member value.\n        var length;\n        var mind = gap;\n        var partial;\n        var value = holder[key];\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n        if (value && typeof value === \"object\" &&\n                typeof value.toJSON === \"function\") {\n            value = value.toJSON(key);\n        }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n        if (typeof rep === \"function\") {\n            value = rep.call(holder, key, value);\n        }\n\n// What happens next depends on the value's type.\n\n        switch (typeof value) {\n        case \"string\":\n            return quote(value);\n\n        case \"number\":\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n            return isFinite(value)\n                ? String(value)\n                : \"null\";\n\n        case \"boolean\":\n        case \"null\":\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce \"null\". The case is included here in\n// the remote chance that this gets fixed someday.\n\n            return String(value);\n\n// If the type is \"object\", we might be dealing with an object or an array or\n// null.\n\n        case \"object\":\n\n// Due to a specification blunder in ECMAScript, typeof null is \"object\",\n// so watch out for that case.\n\n            if (!value) {\n                return \"null\";\n            }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n            gap += indent;\n            partial = [];\n\n// Is the value an array?\n\n            if (Object.prototype.toString.apply(value) === \"[object Array]\") {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || \"null\";\n                }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n                v = partial.length === 0\n                    ? \"[]\"\n                    : gap\n                        ? \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\"\n                        : \"[\" + partial.join(\",\") + \"]\";\n                gap = mind;\n                return v;\n            }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n            if (rep && typeof rep === \"object\") {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    if (typeof rep[i] === \"string\") {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (\n                                gap\n                                    ? \": \"\n                                    : \":\"\n                            ) + v);\n                        }\n                    }\n                }\n            } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (\n                                gap\n                                    ? \": \"\n                                    : \":\"\n                            ) + v);\n                        }\n                    }\n                }\n            }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n            v = partial.length === 0\n                ? \"{}\"\n                : gap\n                    ? \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\"\n                    : \"{\" + partial.join(\",\") + \"}\";\n            gap = mind;\n            return v;\n        }\n    }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n    if (typeof JSON.stringify !== \"function\") {\n        meta = {    // table of character substitutions\n            \"\\b\": \"\\\\b\",\n            \"\\t\": \"\\\\t\",\n            \"\\n\": \"\\\\n\",\n            \"\\f\": \"\\\\f\",\n            \"\\r\": \"\\\\r\",\n            \"\\\"\": \"\\\\\\\"\",\n            \"\\\\\": \"\\\\\\\\\"\n        };\n        JSON.stringify = function (value, replacer, space) {\n\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n            var i;\n            gap = \"\";\n            indent = \"\";\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n            if (typeof space === \"number\") {\n                for (i = 0; i < space; i += 1) {\n                    indent += \" \";\n                }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n            } else if (typeof space === \"string\") {\n                indent = space;\n            }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n            rep = replacer;\n            if (replacer && typeof replacer !== \"function\" &&\n                    (typeof replacer !== \"object\" ||\n                    typeof replacer.length !== \"number\")) {\n                throw new Error(\"JSON.stringify\");\n            }\n\n// Make a fake root object containing our value under the key of \"\".\n// Return the result of stringifying the value.\n\n            return str(\"\", {\"\": value});\n        };\n    }\n\n\n// If the JSON object does not yet have a parse method, give it one.\n\n    if (typeof JSON.parse !== \"function\") {\n        JSON.parse = function (text, reviver) {\n\n// The parse method takes a text and an optional reviver function, and returns\n// a JavaScript value if the text is a valid JSON text.\n\n            var j;\n\n            function walk(holder, key) {\n\n// The walk method is used to recursively walk the resulting structure so\n// that modifications can be made.\n\n                var k;\n                var v;\n                var value = holder[key];\n                if (value && typeof value === \"object\") {\n                    for (k in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, k)) {\n                            v = walk(value, k);\n                            if (v !== undefined) {\n                                value[k] = v;\n                            } else {\n                                delete value[k];\n                            }\n                        }\n                    }\n                }\n                return reviver.call(holder, key, value);\n            }\n\n\n// Parsing happens in four stages. In the first stage, we replace certain\n// Unicode characters with escape sequences. JavaScript handles many characters\n// incorrectly, either silently deleting them, or treating them as line endings.\n\n            text = String(text);\n            rx_dangerous.lastIndex = 0;\n            if (rx_dangerous.test(text)) {\n                text = text.replace(rx_dangerous, function (a) {\n                    return \"\\\\u\" +\n                            (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n                });\n            }\n\n// In the second stage, we run the text against regular expressions that look\n// for non-JSON patterns. We are especially concerned with \"()\" and \"new\"\n// because they can cause invocation, and \"=\" because it can cause mutation.\n// But just to be safe, we want to reject all unexpected forms.\n\n// We split the second stage into 4 regexp operations in order to work around\n// crippling inefficiencies in IE's and Safari's regexp engines. First we\n// replace the JSON backslash pairs with \"@\" (a non-JSON character). Second, we\n// replace all simple value tokens with \"]\" characters. Third, we delete all\n// open brackets that follow a colon or comma or that begin the text. Finally,\n// we look to see that the remaining characters are only whitespace or \"]\" or\n// \",\" or \":\" or \"{\" or \"}\". If that is so, then the text is safe for eval.\n\n            if (\n                rx_one.test(\n                    text\n                        .replace(rx_two, \"@\")\n                        .replace(rx_three, \"]\")\n                        .replace(rx_four, \"\")\n                )\n            ) {\n\n// In the third stage we use the eval function to compile the text into a\n// JavaScript structure. The \"{\" operator is subject to a syntactic ambiguity\n// in JavaScript: it can begin a block or an object literal. We wrap the text\n// in parens to eliminate the ambiguity.\n\n                j = eval(\"(\" + text + \")\");\n\n// In the optional fourth stage, we recursively walk the new structure, passing\n// each name/value pair to a reviver function for possible transformation.\n\n                return (typeof reviver === \"function\")\n                    ? walk({\"\": j}, \"\")\n                    : j;\n            }\n\n// If the text is not JSON parseable, then a SyntaxError is thrown.\n\n            throw new SyntaxError(\"JSON.parse\");\n        };\n    }\n}());","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar pkg = require('./../../package.json');\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolve, reject) {\n    var data = config.data;\n    var headers = config.headers;\n    var timer;\n\n    // Set User-Agent (required by some servers)\n    // Only set header if it hasn't been set in config\n    // See https://github.com/axios/axios/issues/69\n    if (!headers['User-Agent'] && !headers['user-agent']) {\n      headers['User-Agent'] = 'axios/' + pkg.version;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = new Buffer(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = new Buffer(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers['Content-Length'] = data.length;\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var parsed = url.parse(config.url);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth) {\n      delete headers.Authorization;\n    }\n\n    var isHttps = protocol === 'https:';\n    var agent = isHttps ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method,\n      headers: headers,\n      agent: agent,\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        proxy = {\n          host: parsedProxyUrl.hostname,\n          port: parsedProxyUrl.port\n        };\n\n        if (parsedProxyUrl.auth) {\n          var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n          proxy.auth = {\n            username: proxyUrlAuth[0],\n            password: proxyUrlAuth[1]\n          };\n        }\n      }\n    }\n\n    if (proxy) {\n      options.hostname = proxy.host;\n      options.host = proxy.host;\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      options.port = proxy.port;\n      options.path = protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path;\n\n      // Basic proxy authorization\n      if (proxy.auth) {\n        var base64 = new Buffer(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n        options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n      }\n    }\n\n    var transport;\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttps ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttps ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxContentLength && config.maxContentLength > -1) {\n      options.maxBodyLength = config.maxContentLength;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // Response has been received so kill timer that handles request timeout\n      clearTimeout(timer);\n      timer = null;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n      switch (res.headers['content-encoding']) {\n      /*eslint default-case:0*/\n      case 'gzip':\n      case 'compress':\n      case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n        stream = stream.pipe(zlib.createUnzip());\n\n        // remove the content-encoding in order to not confuse downstream operations\n        delete res.headers['content-encoding'];\n        break;\n      }\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && Buffer.concat(responseBuffer).length > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString('utf8');\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted) return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout && !timer) {\n      timer = setTimeout(function handleRequestTimeout() {\n        req.abort();\n        reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED', req));\n      }, config.timeout);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(cancel);\n      });\n    }\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","module.exports = require(\"assert\");","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [ 6, 2, 3, 4, 5, 1 ];\n\ntry {\n  var supportsColor = require('supports-color');\n  if (supportsColor && supportsColor.level >= 2) {\n    exports.colors = [\n      20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68,\n      69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134,\n      135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171,\n      172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204,\n      205, 206, 207, 208, 209, 214, 215, 220, 221\n    ];\n  }\n} catch (err) {\n  // swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(process.stderr.fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = '\\u001b[3' + (c < 8 ? c : '8;5;' + c);\n    var prefix = '  ' + colorCode + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  } else {\n    return new Date().toISOString() + ' ';\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","module.exports = require(\"tty\");","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","module.exports = require(\"os\");","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","module.exports = require(\"zlib\");","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n    global:false\n*/\n\n(() => {\n    const PluginRegistry = require('./plugins');\n    const serverProxy = require('./server-proxy');\n    const { ArgumentError } = require('./exceptions');\n    const { isBrowser, isNode } = require('browser-or-node');\n\n    // This is the frames storage\n    const frameDataCache = {};\n    const frameCache = {};\n\n    /**\n        * Class provides meta information about specific frame and frame itself\n        * @memberof module:API.cvat.classes\n        * @hideconstructor\n    */\n    class FrameData {\n        constructor(width, height, tid, number) {\n            Object.defineProperties(this, Object.freeze({\n                /**\n                    * @name width\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.FrameData\n                    * @readonly\n                    * @instance\n                */\n                width: {\n                    value: width,\n                    writable: false,\n                },\n                /**\n                    * @name height\n                    * @type {integer}\n                    * @memberof module:API.cvat.classes.FrameData\n                    * @readonly\n                    * @instance\n                */\n                height: {\n                    value: height,\n                    writable: false,\n                },\n                tid: {\n                    value: tid,\n                    writable: false,\n                },\n                number: {\n                    value: number,\n                    writable: false,\n                },\n            }));\n        }\n\n        /**\n            * Method returns URL encoded image which can be placed in the img tag\n            * @method data\n            * @returns {string}\n            * @memberof module:API.cvat.classes.FrameData\n            * @instance\n            * @async\n            * @param {function} [onServerRequest = () => {}]\n            * callback which will be called if data absences local\n            * @throws {module:API.cvat.exception.ServerError}\n            * @throws {module:API.cvat.exception.PluginError}\n        */\n        async data(onServerRequest = () => {}) {\n            const result = await PluginRegistry\n                .apiWrapper.call(this, FrameData.prototype.data, onServerRequest);\n            return result;\n        }\n    }\n\n    FrameData.prototype.data.implementation = async function (onServerRequest) {\n        return new Promise(async (resolve, reject) => {\n            try {\n                if (this.number in frameCache[this.tid]) {\n                    resolve(frameCache[this.tid][this.number]);\n                } else {\n                    onServerRequest();\n                    const frame = await serverProxy.frames.getData(this.tid, this.number);\n\n                    if (isNode) {\n                        frameCache[this.tid][this.number] = global.Buffer.from(frame, 'binary').toString('base64');\n                        resolve(frameCache[this.tid][this.number]);\n                    } else if (isBrowser) {\n                        const reader = new FileReader();\n                        reader.onload = () => {\n                            frameCache[this.tid][this.number] = reader.result;\n                            resolve(frameCache[this.tid][this.number]);\n                        };\n                        reader.readAsDataURL(frame);\n                    }\n                }\n            } catch (exception) {\n                reject(exception);\n            }\n        });\n    };\n\n    async function getFrame(taskID, mode, frame) {\n        if (!(taskID in frameDataCache)) {\n            frameDataCache[taskID] = {};\n            frameDataCache[taskID].meta = await serverProxy.frames.getMeta(taskID);\n\n            frameCache[taskID] = {};\n        }\n\n        if (!(frame in frameDataCache[taskID])) {\n            let size = null;\n            if (mode === 'interpolation') {\n                [size] = frameDataCache[taskID].meta;\n            } else if (mode === 'annotation') {\n                if (frame >= frameDataCache[taskID].meta.length) {\n                    throw new ArgumentError(\n                        `Meta information about frame ${frame} can't be received from the server`,\n                    );\n                } else {\n                    size = frameDataCache[taskID].meta[frame];\n                }\n            } else {\n                throw new ArgumentError(\n                    `Invalid mode is specified ${mode}`,\n                );\n            }\n\n            frameDataCache[taskID][frame] = new FrameData(size.width, size.height, taskID, frame);\n        }\n\n        return frameDataCache[taskID][frame];\n    }\n\n    module.exports = {\n        FrameData,\n        getFrame,\n    };\n})();\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* global window self */\n\nvar isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n/* eslint-disable no-restricted-globals */\nvar isWebWorker = (typeof self === 'undefined' ? 'undefined' : _typeof(self)) === 'object' && self.constructor && self.constructor.name === 'DedicatedWorkerGlobalScope';\n/* eslint-enable no-restricted-globals */\n\nvar isNode = typeof process !== 'undefined' && process.versions != null && process.versions.node != null;\n\nexports.isBrowser = isBrowser;\nexports.isWebWorker = isWebWorker;\nexports.isNode = isNode;","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const serverProxy = require('./server-proxy');\n    const Collection = require('./annotations-collection');\n    const AnnotationsSaver = require('./annotations-saver');\n    const { checkObjectType } = require('./common');\n    const { Task } = require('./session');\n    const {\n        Loader,\n        Dumper,\n    } = require('./annotation-format.js');\n    const {\n        ScriptingError,\n        DataError,\n        ArgumentError,\n    } = require('./exceptions');\n\n    const jobCache = new WeakMap();\n    const taskCache = new WeakMap();\n\n    function getCache(sessionType) {\n        if (sessionType === 'task') {\n            return taskCache;\n        }\n\n        if (sessionType === 'job') {\n            return jobCache;\n        }\n\n        throw new ScriptingError(\n            `Unknown session type was received ${sessionType}`,\n        );\n    }\n\n    async function getAnnotationsFromServer(session) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (!cache.has(session)) {\n            const rawAnnotations = await serverProxy.annotations\n                .getAnnotations(sessionType, session.id);\n\n            // Get meta information about frames\n            const startFrame = sessionType === 'job' ? session.startFrame : 0;\n            const stopFrame = sessionType === 'job' ? session.stopFrame : session.size - 1;\n            const frameMeta = {};\n            for (let i = startFrame; i <= stopFrame; i++) {\n                frameMeta[i] = await session.frames.get(i);\n            }\n\n            const collection = new Collection({\n                labels: session.labels || session.task.labels,\n                startFrame,\n                stopFrame,\n                frameMeta,\n            }).import(rawAnnotations);\n\n            const saver = new AnnotationsSaver(rawAnnotations.version, collection, session);\n\n            cache.set(session, {\n                collection,\n                saver,\n\n            });\n        }\n    }\n\n    async function getAnnotations(session, frame, filter) {\n        await getAnnotationsFromServer(session);\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n        return cache.get(session).collection.get(frame, filter);\n    }\n\n    async function saveAnnotations(session, onUpdate) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (cache.has(session)) {\n            await cache.get(session).saver.save(onUpdate);\n        }\n\n        // If a collection wasn't uploaded, than it wasn't changed, finally we shouldn't save it\n    }\n\n    function mergeAnnotations(session, objectStates) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (cache.has(session)) {\n            return cache.get(session).collection.merge(objectStates);\n        }\n\n        throw new DataError(\n            'Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before',\n        );\n    }\n\n    function splitAnnotations(session, objectState, frame) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (cache.has(session)) {\n            return cache.get(session).collection.split(objectState, frame);\n        }\n\n        throw new DataError(\n            'Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before',\n        );\n    }\n\n    function groupAnnotations(session, objectStates, reset) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (cache.has(session)) {\n            return cache.get(session).collection.group(objectStates, reset);\n        }\n\n        throw new DataError(\n            'Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before',\n        );\n    }\n\n    function hasUnsavedChanges(session) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (cache.has(session)) {\n            return cache.get(session).saver.hasUnsavedChanges();\n        }\n\n        return false;\n    }\n\n    async function clearAnnotations(session, reload) {\n        checkObjectType('reload', reload, 'boolean', null);\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (cache.has(session)) {\n            cache.get(session).collection.clear();\n        }\n\n        if (reload) {\n            cache.delete(session);\n            await getAnnotationsFromServer(session);\n        }\n    }\n\n    function annotationsStatistics(session) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (cache.has(session)) {\n            return cache.get(session).collection.statistics();\n        }\n\n        throw new DataError(\n            'Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before',\n        );\n    }\n\n    function putAnnotations(session, objectStates) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (cache.has(session)) {\n            return cache.get(session).collection.put(objectStates);\n        }\n\n        throw new DataError(\n            'Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before',\n        );\n    }\n\n    function selectObject(session, objectStates, x, y) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        const cache = getCache(sessionType);\n\n        if (cache.has(session)) {\n            return cache.get(session).collection.select(objectStates, x, y);\n        }\n\n        throw new DataError(\n            'Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before',\n        );\n    }\n\n    async function uploadAnnotations(session, file, loader) {\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        if (!(loader instanceof Loader)) {\n            throw new ArgumentError(\n                'A loader must be instance of Loader class',\n            );\n        }\n        await serverProxy.annotations.uploadAnnotations(sessionType, session.id, file, loader.name);\n    }\n\n    async function dumpAnnotations(session, name, dumper) {\n        if (!(dumper instanceof Dumper)) {\n            throw new ArgumentError(\n                'A dumper must be instance of Dumper class',\n            );\n        }\n\n        let result = null;\n        const sessionType = session instanceof Task ? 'task' : 'job';\n        if (sessionType === 'job') {\n            result = await serverProxy.annotations\n                .dumpAnnotations(session.task.id, name, dumper.name);\n        } else {\n            result = await serverProxy.annotations\n                .dumpAnnotations(session.id, name, dumper.name);\n        }\n\n        return result;\n    }\n\n    module.exports = {\n        getAnnotations,\n        putAnnotations,\n        saveAnnotations,\n        hasUnsavedChanges,\n        mergeAnnotations,\n        splitAnnotations,\n        groupAnnotations,\n        clearAnnotations,\n        annotationsStatistics,\n        selectObject,\n        uploadAnnotations,\n        dumpAnnotations,\n    };\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const {\n        RectangleShape,\n        PolygonShape,\n        PolylineShape,\n        PointsShape,\n        RectangleTrack,\n        PolygonTrack,\n        PolylineTrack,\n        PointsTrack,\n        Track,\n        Shape,\n        Tag,\n        objectStateFactory,\n    } = require('./annotations-objects');\n    const { checkObjectType } = require('./common');\n    const Statistics = require('./statistics');\n    const { Label } = require('./labels');\n    const {\n        DataError,\n        ArgumentError,\n        ScriptingError,\n    } = require('./exceptions');\n\n    const {\n        ObjectShape,\n        ObjectType,\n    } = require('./enums');\n    const ObjectState = require('./object-state');\n\n    const colors = [\n        '#0066FF', '#AF593E', '#01A368', '#FF861F', '#ED0A3F', '#FF3F34', '#76D7EA',\n        '#8359A3', '#FBE870', '#C5E17A', '#03BB85', '#FFDF00', '#8B8680', '#0A6B0D',\n        '#8FD8D8', '#A36F40', '#F653A6', '#CA3435', '#FFCBA4', '#FF99CC', '#FA9D5A',\n        '#FFAE42', '#A78B00', '#788193', '#514E49', '#1164B4', '#F4FA9F', '#FED8B1',\n        '#C32148', '#01796F', '#E90067', '#FF91A4', '#404E5A', '#6CDAE7', '#FFC1CC',\n        '#006A93', '#867200', '#E2B631', '#6EEB6E', '#FFC800', '#CC99BA', '#FF007C',\n        '#BC6CAC', '#DCCCD7', '#EBE1C2', '#A6AAAE', '#B99685', '#0086A7', '#5E4330',\n        '#C8A2C8', '#708EB3', '#BC8777', '#B2592D', '#497E48', '#6A2963', '#E6335F',\n        '#00755E', '#B5A895', '#0048ba', '#EED9C4', '#C88A65', '#FF6E4A', '#87421F',\n        '#B2BEB5', '#926F5B', '#00B9FB', '#6456B7', '#DB5079', '#C62D42', '#FA9C44',\n        '#DA8A67', '#FD7C6E', '#93CCEA', '#FCF686', '#503E32', '#FF5470', '#9DE093',\n        '#FF7A00', '#4F69C6', '#A50B5E', '#F0E68C', '#FDFF00', '#F091A9', '#FFFF66',\n        '#6F9940', '#FC74FD', '#652DC1', '#D6AEDD', '#EE34D2', '#BB3385', '#6B3FA0',\n        '#33CC99', '#FFDB00', '#87FF2A', '#6EEB6E', '#FFC800', '#CC99BA', '#7A89B8',\n        '#006A93', '#867200', '#E2B631', '#D9D6CF',\n    ];\n\n    function shapeFactory(shapeData, clientID, injection) {\n        const { type } = shapeData;\n        const color = colors[clientID % colors.length];\n\n        let shapeModel = null;\n        switch (type) {\n        case 'rectangle':\n            shapeModel = new RectangleShape(shapeData, clientID, color, injection);\n            break;\n        case 'polygon':\n            shapeModel = new PolygonShape(shapeData, clientID, color, injection);\n            break;\n        case 'polyline':\n            shapeModel = new PolylineShape(shapeData, clientID, color, injection);\n            break;\n        case 'points':\n            shapeModel = new PointsShape(shapeData, clientID, color, injection);\n            break;\n        default:\n            throw new DataError(\n                `An unexpected type of shape \"${type}\"`,\n            );\n        }\n\n        return shapeModel;\n    }\n\n\n    function trackFactory(trackData, clientID, injection) {\n        if (trackData.shapes.length) {\n            const { type } = trackData.shapes[0];\n            const color = colors[clientID % colors.length];\n\n            let trackModel = null;\n            switch (type) {\n            case 'rectangle':\n                trackModel = new RectangleTrack(trackData, clientID, color, injection);\n                break;\n            case 'polygon':\n                trackModel = new PolygonTrack(trackData, clientID, color, injection);\n                break;\n            case 'polyline':\n                trackModel = new PolylineTrack(trackData, clientID, color, injection);\n                break;\n            case 'points':\n                trackModel = new PointsTrack(trackData, clientID, color, injection);\n                break;\n            default:\n                throw new DataError(\n                    `An unexpected type of track \"${type}\"`,\n                );\n            }\n\n            return trackModel;\n        }\n\n        console.warn('The track without any shapes had been found. It was ignored.');\n        return null;\n    }\n\n    class Collection {\n        constructor(data) {\n            this.startFrame = data.startFrame;\n            this.stopFrame = data.stopFrame;\n            this.frameMeta = data.frameMeta;\n\n            this.labels = data.labels.reduce((labelAccumulator, label) => {\n                labelAccumulator[label.id] = label;\n                return labelAccumulator;\n            }, {});\n\n            this.shapes = {}; // key is a frame\n            this.tags = {}; // key is a frame\n            this.tracks = [];\n            this.objects = {}; // key is a client id\n            this.count = 0;\n            this.flush = false;\n            this.collectionZ = {}; // key is a frame, {max, min} are values\n            this.groups = {\n                max: 0,\n            }; // it is an object to we can pass it as an argument by a reference\n            this.injection = {\n                labels: this.labels,\n                collectionZ: this.collectionZ,\n                groups: this.groups,\n                frameMeta: this.frameMeta,\n            };\n        }\n\n        import(data) {\n            for (const tag of data.tags) {\n                const clientID = ++this.count;\n                const tagModel = new Tag(tag, clientID, this.injection);\n                this.tags[tagModel.frame] = this.tags[tagModel.frame] || [];\n                this.tags[tagModel.frame].push(tagModel);\n                this.objects[clientID] = tagModel;\n            }\n\n            for (const shape of data.shapes) {\n                const clientID = ++this.count;\n                const shapeModel = shapeFactory(shape, clientID, this.injection);\n                this.shapes[shapeModel.frame] = this.shapes[shapeModel.frame] || [];\n                this.shapes[shapeModel.frame].push(shapeModel);\n                this.objects[clientID] = shapeModel;\n            }\n\n            for (const track of data.tracks) {\n                const clientID = ++this.count;\n                const trackModel = trackFactory(track, clientID, this.injection);\n                // The function can return null if track doesn't have any shapes.\n                // In this case a corresponded message will be sent to the console\n                if (trackModel) {\n                    this.tracks.push(trackModel);\n                    this.objects[clientID] = trackModel;\n                }\n            }\n\n            return this;\n        }\n\n        export() {\n            const data = {\n                tracks: this.tracks.filter(track => !track.removed)\n                    .map(track => track.toJSON()),\n                shapes: Object.values(this.shapes)\n                    .reduce((accumulator, value) => {\n                        accumulator.push(...value);\n                        return accumulator;\n                    }, []).filter(shape => !shape.removed)\n                    .map(shape => shape.toJSON()),\n                tags: Object.values(this.tags).reduce((accumulator, value) => {\n                    accumulator.push(...value);\n                    return accumulator;\n                }, []).filter(tag => !tag.removed)\n                    .map(tag => tag.toJSON()),\n            };\n\n            return data;\n        }\n\n        get(frame) {\n            const { tracks } = this;\n            const shapes = this.shapes[frame] || [];\n            const tags = this.tags[frame] || [];\n\n            const objects = tracks.concat(shapes).concat(tags).filter(object => !object.removed);\n            // filtering here\n\n            const objectStates = [];\n            for (const object of objects) {\n                const stateData = object.get(frame);\n                if (stateData.outside && !stateData.keyframe) {\n                    continue;\n                }\n\n                const objectState = objectStateFactory.call(object, frame, stateData);\n                objectStates.push(objectState);\n            }\n\n            return objectStates;\n        }\n\n        merge(objectStates) {\n            checkObjectType('shapes for merge', objectStates, null, Array);\n            if (!objectStates.length) return;\n            const objectsForMerge = objectStates.map((state) => {\n                checkObjectType('object state', state, null, ObjectState);\n                const object = this.objects[state.clientID];\n                if (typeof (object) === 'undefined') {\n                    throw new ArgumentError(\n                        'The object has not been saved yet. Call ObjectState.put([state]) before you can merge it',\n                    );\n                }\n                return object;\n            });\n\n            const keyframes = {}; // frame: position\n            const { label, shapeType } = objectStates[0];\n            if (!(label.id in this.labels)) {\n                throw new ArgumentError(\n                    `Unknown label for the task: ${label.id}`,\n                );\n            }\n\n            if (!Object.values(ObjectShape).includes(shapeType)) {\n                throw new ArgumentError(\n                    `Got unknown shapeType \"${shapeType}\"`,\n                );\n            }\n\n            const labelAttributes = label.attributes.reduce((accumulator, attribute) => {\n                accumulator[attribute.id] = attribute;\n                return accumulator;\n            }, {});\n\n            for (let i = 0; i < objectsForMerge.length; i++) {\n                // For each state get corresponding object\n                const object = objectsForMerge[i];\n                const state = objectStates[i];\n                if (state.label.id !== label.id) {\n                    throw new ArgumentError(\n                        `All shape labels are expected to be ${label.name}, but got ${state.label.name}`,\n                    );\n                }\n\n                if (state.shapeType !== shapeType) {\n                    throw new ArgumentError(\n                        `All shapes are expected to be ${shapeType}, but got ${state.shapeType}`,\n                    );\n                }\n\n                // If this object is shape, get it position and save as a keyframe\n                if (object instanceof Shape) {\n                    // Frame already saved and it is not outside\n                    if (object.frame in keyframes && !keyframes[object.frame].outside) {\n                        throw new ArgumentError(\n                            'Expected only one visible shape per frame',\n                        );\n                    }\n\n                    keyframes[object.frame] = {\n                        type: shapeType,\n                        frame: object.frame,\n                        points: [...object.points],\n                        occluded: object.occluded,\n                        zOrder: object.zOrder,\n                        outside: false,\n                        attributes: Object.keys(object.attributes).reduce((accumulator, attrID) => {\n                            // We save only mutable attributes inside a keyframe\n                            if (attrID in labelAttributes && labelAttributes[attrID].mutable) {\n                                accumulator.push({\n                                    spec_id: +attrID,\n                                    value: object.attributes[attrID],\n                                });\n                            }\n                            return accumulator;\n                        }, []),\n                    };\n\n                    // Push outside shape after each annotation shape\n                    // Any not outside shape rewrites it\n                    if (!((object.frame + 1) in keyframes)) {\n                        keyframes[object.frame + 1] = JSON\n                            .parse(JSON.stringify(keyframes[object.frame]));\n                        keyframes[object.frame + 1].outside = true;\n                        keyframes[object.frame + 1].frame++;\n                    }\n                } else if (object instanceof Track) {\n                    // If this object is track, iterate through all its\n                    // keyframes and push copies to new keyframes\n                    const attributes = {}; // id:value\n                    for (const keyframe of Object.keys(object.shapes)) {\n                        const shape = object.shapes[keyframe];\n                        // Frame already saved and it is not outside\n                        if (keyframe in keyframes && !keyframes[keyframe].outside) {\n                            // This shape is outside and non-outside shape already exists\n                            if (shape.outside) {\n                                continue;\n                            }\n\n                            throw new ArgumentError(\n                                'Expected only one visible shape per frame',\n                            );\n                        }\n\n                        // We do not save an attribute if it has the same value\n                        // We save only updates\n                        let updatedAttributes = false;\n                        for (const attrID in shape.attributes) {\n                            if (!(attrID in attributes)\n                                || attributes[attrID] !== shape.attributes[attrID]) {\n                                updatedAttributes = true;\n                                attributes[attrID] = shape.attributes[attrID];\n                            }\n                        }\n\n                        keyframes[keyframe] = {\n                            type: shapeType,\n                            frame: +keyframe,\n                            points: [...shape.points],\n                            occluded: shape.occluded,\n                            outside: shape.outside,\n                            zOrder: shape.zOrder,\n                            attributes: updatedAttributes ? Object.keys(attributes)\n                                .reduce((accumulator, attrID) => {\n                                    accumulator.push({\n                                        spec_id: +attrID,\n                                        value: attributes[attrID],\n                                    });\n\n                                    return accumulator;\n                                }, []) : [],\n                        };\n                    }\n                } else {\n                    throw new ArgumentError(\n                        `Trying to merge unknown object type: ${object.constructor.name}. `\n                            + 'Only shapes and tracks are expected.',\n                    );\n                }\n            }\n\n            let firstNonOutside = false;\n            for (const frame of Object.keys(keyframes).sort((a, b) => +a - +b)) {\n                // Remove all outside frames at the begin\n                firstNonOutside = firstNonOutside || keyframes[frame].outside;\n                if (!firstNonOutside && keyframes[frame].outside) {\n                    delete keyframes[frame];\n                } else {\n                    break;\n                }\n            }\n\n            const clientID = ++this.count;\n            const track = {\n                frame: Math.min.apply(null, Object.keys(keyframes).map(frame => +frame)),\n                shapes: Object.values(keyframes),\n                group: 0,\n                label_id: label.id,\n                attributes: Object.keys(objectStates[0].attributes)\n                    .reduce((accumulator, attrID) => {\n                        if (!labelAttributes[attrID].mutable) {\n                            accumulator.push({\n                                spec_id: +attrID,\n                                value: objectStates[0].attributes[attrID],\n                            });\n                        }\n\n                        return accumulator;\n                    }, []),\n            };\n\n            const trackModel = trackFactory(track, clientID, this.injection);\n            this.tracks.push(trackModel);\n            this.objects[clientID] = trackModel;\n\n            // Remove other shapes\n            for (const object of objectsForMerge) {\n                object.removed = true;\n                if (typeof (object.resetCache) === 'function') {\n                    object.resetCache();\n                }\n            }\n        }\n\n        split(objectState, frame) {\n            checkObjectType('object state', objectState, null, ObjectState);\n            checkObjectType('frame', frame, 'integer', null);\n\n            const object = this.objects[objectState.clientID];\n            if (typeof (object) === 'undefined') {\n                throw new ArgumentError(\n                    'The object has not been saved yet. Call annotations.put([state]) before',\n                );\n            }\n\n            if (objectState.objectType !== ObjectType.TRACK) {\n                return;\n            }\n\n            const keyframes = Object.keys(object.shapes).sort((a, b) => +a - +b);\n            if (frame <= +keyframes[0] || frame > keyframes[keyframes.length - 1]) {\n                return;\n            }\n\n            const labelAttributes = object.label.attributes.reduce((accumulator, attribute) => {\n                accumulator[attribute.id] = attribute;\n                return accumulator;\n            }, {});\n\n            const exported = object.toJSON();\n            const position = {\n                type: objectState.shapeType,\n                points: [...objectState.points],\n                occluded: objectState.occluded,\n                outside: objectState.outside,\n                zOrder: 0,\n                attributes: Object.keys(objectState.attributes)\n                    .reduce((accumulator, attrID) => {\n                        if (!labelAttributes[attrID].mutable) {\n                            accumulator.push({\n                                spec_id: +attrID,\n                                value: objectState.attributes[attrID],\n                            });\n                        }\n\n                        return accumulator;\n                    }, []),\n                frame,\n            };\n\n            const prev = {\n                frame: exported.frame,\n                group: 0,\n                label_id: exported.label_id,\n                attributes: exported.attributes,\n                shapes: [],\n            };\n\n            const next = JSON.parse(JSON.stringify(prev));\n            next.frame = frame;\n\n            next.shapes.push(JSON.parse(JSON.stringify(position)));\n            exported.shapes.map((shape) => {\n                delete shape.id;\n                if (shape.frame < frame) {\n                    prev.shapes.push(JSON.parse(JSON.stringify(shape)));\n                } else if (shape.frame > frame) {\n                    next.shapes.push(JSON.parse(JSON.stringify(shape)));\n                }\n\n                return shape;\n            });\n            prev.shapes.push(position);\n            prev.shapes[prev.shapes.length - 1].outside = true;\n\n            let clientID = ++this.count;\n            const prevTrack = trackFactory(prev, clientID, this.injection);\n            this.tracks.push(prevTrack);\n            this.objects[clientID] = prevTrack;\n\n            clientID = ++this.count;\n            const nextTrack = trackFactory(next, clientID, this.injection);\n            this.tracks.push(nextTrack);\n            this.objects[clientID] = nextTrack;\n\n            // Remove source object\n            object.removed = true;\n            object.resetCache();\n        }\n\n        group(objectStates, reset) {\n            checkObjectType('shapes for group', objectStates, null, Array);\n\n            const objectsForGroup = objectStates.map((state) => {\n                checkObjectType('object state', state, null, ObjectState);\n                const object = this.objects[state.clientID];\n                if (typeof (object) === 'undefined') {\n                    throw new ArgumentError(\n                        'The object has not been saved yet. Call annotations.put([state]) before',\n                    );\n                }\n                return object;\n            });\n\n            const groupIdx = reset ? 0 : ++this.groups.max;\n            for (const object of objectsForGroup) {\n                object.group = groupIdx;\n                if (typeof (object.resetCache) === 'function') {\n                    object.resetCache();\n                }\n            }\n\n            return groupIdx;\n        }\n\n        clear() {\n            this.shapes = {};\n            this.tags = {};\n            this.tracks = [];\n            this.objects = {}; // by id\n            this.count = 0;\n\n            this.flush = true;\n        }\n\n        statistics() {\n            const labels = {};\n            const skeleton = {\n                rectangle: {\n                    shape: 0,\n                    track: 0,\n                },\n                polygon: {\n                    shape: 0,\n                    track: 0,\n                },\n                polyline: {\n                    shape: 0,\n                    track: 0,\n                },\n                points: {\n                    shape: 0,\n                    track: 0,\n                },\n                tags: 0,\n                manually: 0,\n                interpolated: 0,\n                total: 0,\n            };\n\n            const total = JSON.parse(JSON.stringify(skeleton));\n            for (const label of Object.values(this.labels)) {\n                const { name } = label;\n                labels[name] = JSON.parse(JSON.stringify(skeleton));\n            }\n\n            for (const object of Object.values(this.objects)) {\n                let objectType = null;\n                if (object instanceof Shape) {\n                    objectType = 'shape';\n                } else if (object instanceof Track) {\n                    objectType = 'track';\n                } else if (object instanceof Tag) {\n                    objectType = 'tag';\n                } else {\n                    throw new ScriptingError(\n                        `Unexpected object type: \"${objectType}\"`,\n                    );\n                }\n\n                const label = object.label.name;\n                if (objectType === 'tag') {\n                    labels[label].tags++;\n                    labels[label].manually++;\n                    labels[label].total++;\n                } else {\n                    const { shapeType } = object;\n                    labels[label][shapeType][objectType]++;\n\n                    if (objectType === 'track') {\n                        const keyframes = Object.keys(object.shapes)\n                            .sort((a, b) => +a - +b).map(el => +el);\n\n                        let prevKeyframe = keyframes[0];\n                        let visible = false;\n\n                        for (const keyframe of keyframes) {\n                            if (visible) {\n                                const interpolated = keyframe - prevKeyframe - 1;\n                                labels[label].interpolated += interpolated;\n                                labels[label].total += interpolated;\n                            }\n                            visible = !object.shapes[keyframe].outside;\n                            prevKeyframe = keyframe;\n\n                            if (visible) {\n                                labels[label].manually++;\n                                labels[label].total++;\n                            }\n                        }\n\n                        const lastKey = keyframes[keyframes.length - 1];\n                        if (lastKey !== this.stopFrame && !object.shapes[lastKey].outside) {\n                            const interpolated = this.stopFrame - lastKey;\n                            labels[label].interpolated += interpolated;\n                            labels[label].total += interpolated;\n                        }\n                    } else {\n                        labels[label].manually++;\n                        labels[label].total++;\n                    }\n                }\n            }\n\n            for (const label of Object.keys(labels)) {\n                for (const key of Object.keys(labels[label])) {\n                    if (typeof (labels[label][key]) === 'object') {\n                        for (const objectType of Object.keys(labels[label][key])) {\n                            total[key][objectType] += labels[label][key][objectType];\n                        }\n                    } else {\n                        total[key] += labels[label][key];\n                    }\n                }\n            }\n\n            return new Statistics(labels, total);\n        }\n\n        put(objectStates) {\n            checkObjectType('shapes for put', objectStates, null, Array);\n            const constructed = {\n                shapes: [],\n                tracks: [],\n                tags: [],\n            };\n\n            function convertAttributes(accumulator, attrID) {\n                const specID = +attrID;\n                const value = this.attributes[attrID];\n\n                checkObjectType('attribute id', specID, 'integer', null);\n                checkObjectType('attribute value', value, 'string', null);\n\n                accumulator.push({\n                    spec_id: specID,\n                    value,\n                });\n\n                return accumulator;\n            }\n\n            for (const state of objectStates) {\n                checkObjectType('object state', state, null, ObjectState);\n                checkObjectType('state client ID', state.clientID, 'undefined', null);\n                checkObjectType('state frame', state.frame, 'integer', null);\n                checkObjectType('state attributes', state.attributes, null, Object);\n                checkObjectType('state label', state.label, null, Label);\n\n                const attributes = Object.keys(state.attributes)\n                    .reduce(convertAttributes.bind(state), []);\n                const labelAttributes = state.label.attributes.reduce((accumulator, attribute) => {\n                    accumulator[attribute.id] = attribute;\n                    return accumulator;\n                }, {});\n\n                // Construct whole objects from states\n                if (state.objectType === 'tag') {\n                    constructed.tags.push({\n                        attributes,\n                        frame: state.frame,\n                        label_id: state.label.id,\n                        group: 0,\n                    });\n                } else {\n                    checkObjectType('state occluded', state.occluded, 'boolean', null);\n                    checkObjectType('state points', state.points, null, Array);\n\n                    for (const coord of state.points) {\n                        checkObjectType('point coordinate', coord, 'number', null);\n                    }\n\n                    if (!Object.values(ObjectShape).includes(state.shapeType)) {\n                        throw new ArgumentError(\n                            'Object shape must be one of: '\n                                + `${JSON.stringify(Object.values(ObjectShape))}`,\n                        );\n                    }\n\n                    if (state.objectType === 'shape') {\n                        constructed.shapes.push({\n                            attributes,\n                            frame: state.frame,\n                            group: 0,\n                            label_id: state.label.id,\n                            occluded: state.occluded || false,\n                            points: [...state.points],\n                            type: state.shapeType,\n                            z_order: 0,\n                        });\n                    } else if (state.objectType === 'track') {\n                        constructed.tracks.push({\n                            attributes: attributes\n                                .filter(attr => !labelAttributes[attr.spec_id].mutable),\n                            frame: state.frame,\n                            group: 0,\n                            label_id: state.label.id,\n                            shapes: [{\n                                attributes: attributes\n                                    .filter(attr => labelAttributes[attr.spec_id].mutable),\n                                frame: state.frame,\n                                occluded: state.occluded || false,\n                                outside: false,\n                                points: [...state.points],\n                                type: state.shapeType,\n                                z_order: 0,\n                            }],\n                        });\n                    } else {\n                        throw new ArgumentError(\n                            'Object type must be one of: '\n                                + `${JSON.stringify(Object.values(ObjectType))}`,\n                        );\n                    }\n                }\n            }\n\n            // Add constructed objects to a collection\n            this.import(constructed);\n        }\n\n        select(objectStates, x, y) {\n            checkObjectType('shapes for select', objectStates, null, Array);\n            checkObjectType('x coordinate', x, 'number', null);\n            checkObjectType('y coordinate', y, 'number', null);\n\n            let minimumDistance = null;\n            let minimumState = null;\n            for (const state of objectStates) {\n                checkObjectType('object state', state, null, ObjectState);\n                if (state.outside) continue;\n\n                const object = this.objects[state.clientID];\n                if (typeof (object) === 'undefined') {\n                    throw new ArgumentError(\n                        'The object has not been saved yet. Call annotations.put([state]) before',\n                    );\n                }\n\n                const distance = object.constructor.distance(state.points, x, y);\n                if (distance !== null && (minimumDistance === null || distance < minimumDistance)) {\n                    minimumDistance = distance;\n                    minimumState = state;\n                }\n            }\n\n            return {\n                state: minimumState,\n                distance: minimumDistance,\n            };\n        }\n    }\n\n    module.exports = Collection;\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const ObjectState = require('./object-state');\n    const { checkObjectType } = require('./common');\n    const {\n        ObjectShape,\n        ObjectType,\n        AttributeType,\n    } = require('./enums');\n\n    const {\n        DataError,\n        ArgumentError,\n        ScriptingError,\n    } = require('./exceptions');\n\n    const { Label } = require('./labels');\n\n    // Called with the Annotation context\n    function objectStateFactory(frame, data) {\n        const objectState = new ObjectState(data);\n\n        objectState.hidden = {\n            save: this.save.bind(this, frame, objectState),\n            delete: this.delete.bind(this),\n            up: this.up.bind(this, frame, objectState),\n            down: this.down.bind(this, frame, objectState),\n        };\n\n        return objectState;\n    }\n\n    function checkNumberOfPoints(shapeType, points) {\n        if (shapeType === ObjectShape.RECTANGLE) {\n            if (points.length / 2 !== 2) {\n                throw new DataError(\n                    `Rectangle must have 2 points, but got ${points.length / 2}`,\n                );\n            }\n        } else if (shapeType === ObjectShape.POLYGON) {\n            if (points.length / 2 < 3) {\n                throw new DataError(\n                    `Polygon must have at least 3 points, but got ${points.length / 2}`,\n                );\n            }\n        } else if (shapeType === ObjectShape.POLYLINE) {\n            if (points.length / 2 < 2) {\n                throw new DataError(\n                    `Polyline must have at least 2 points, but got ${points.length / 2}`,\n                );\n            }\n        } else if (shapeType === ObjectShape.POINTS) {\n            if (points.length / 2 < 1) {\n                throw new DataError(\n                    `Points must have at least 1 points, but got ${points.length / 2}`,\n                );\n            }\n        } else {\n            throw new ArgumentError(\n                `Unknown value of shapeType has been recieved ${shapeType}`,\n            );\n        }\n    }\n\n    function checkShapeArea(shapeType, points) {\n        const MIN_SHAPE_LENGTH = 3;\n        const MIN_SHAPE_AREA = 9;\n\n        if (shapeType === ObjectShape.POINTS) {\n            return true;\n        }\n\n        let xmin = Number.MAX_SAFE_INTEGER;\n        let xmax = Number.MIN_SAFE_INTEGER;\n        let ymin = Number.MAX_SAFE_INTEGER;\n        let ymax = Number.MIN_SAFE_INTEGER;\n\n        for (let i = 0; i < points.length - 1; i += 2) {\n            xmin = Math.min(xmin, points[i]);\n            xmax = Math.max(xmax, points[i]);\n            ymin = Math.min(ymin, points[i + 1]);\n            ymax = Math.max(ymax, points[i + 1]);\n        }\n\n        if (shapeType === ObjectShape.POLYLINE) {\n            const length = Math.max(\n                xmax - xmin,\n                ymax - ymin,\n            );\n\n            return length >= MIN_SHAPE_LENGTH;\n        }\n\n        const area = (xmax - xmin) * (ymax - ymin);\n        return area >= MIN_SHAPE_AREA;\n    }\n\n    function validateAttributeValue(value, attr) {\n        const { values } = attr;\n        const type = attr.inputType;\n\n        if (typeof (value) !== 'string') {\n            throw new ArgumentError(\n                `Attribute value is expected to be string, but got ${typeof (value)}`,\n            );\n        }\n\n        if (type === AttributeType.NUMBER) {\n            return +value >= +values[0]\n                && +value <= +values[1]\n                && !((+value - +values[0]) % +values[2]);\n        }\n\n        if (type === AttributeType.CHECKBOX) {\n            return ['true', 'false'].includes(value.toLowerCase());\n        }\n\n        return values.includes(value);\n    }\n\n    class Annotation {\n        constructor(data, clientID, injection) {\n            this.taskLabels = injection.labels;\n            this.clientID = clientID;\n            this.serverID = data.id;\n            this.group = data.group;\n            this.label = this.taskLabels[data.label_id];\n            this.frame = data.frame;\n            this.removed = false;\n            this.lock = false;\n            this.attributes = data.attributes.reduce((attributeAccumulator, attr) => {\n                attributeAccumulator[attr.spec_id] = attr.value;\n                return attributeAccumulator;\n            }, {});\n            this.appendDefaultAttributes(this.label);\n\n            injection.groups.max = Math.max(injection.groups.max, this.group);\n        }\n\n        appendDefaultAttributes(label) {\n            const labelAttributes = label.attributes;\n            for (const attribute of labelAttributes) {\n                if (!(attribute.id in this.attributes)) {\n                    this.attributes[attribute.id] = attribute.defaultValue;\n                }\n            }\n        }\n\n        delete(force) {\n            if (!this.lock || force) {\n                this.removed = true;\n            }\n\n            return true;\n        }\n    }\n\n    class Drawn extends Annotation {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, injection);\n\n            this.frameMeta = injection.frameMeta;\n            this.collectionZ = injection.collectionZ;\n\n            this.color = color;\n            this.shapeType = null;\n        }\n\n        _getZ(frame) {\n            this.collectionZ[frame] = this.collectionZ[frame] || {\n                max: 0,\n                min: 0,\n            };\n\n            return this.collectionZ[frame];\n        }\n\n        save() {\n            throw new ScriptingError(\n                'Is not implemented',\n            );\n        }\n\n        get() {\n            throw new ScriptingError(\n                'Is not implemented',\n            );\n        }\n\n        toJSON() {\n            throw new ScriptingError(\n                'Is not implemented',\n            );\n        }\n\n        // Increase ZOrder within frame\n        up(frame, objectState) {\n            const z = this._getZ(frame);\n            z.max++;\n            objectState.zOrder = z.max;\n        }\n\n        // Decrease ZOrder within frame\n        down(frame, objectState) {\n            const z = this._getZ(frame);\n            z.min--;\n            objectState.zOrder = z.min;\n        }\n    }\n\n    class Shape extends Drawn {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.points = data.points;\n            this.occluded = data.occluded;\n            this.zOrder = data.z_order;\n\n            const z = this._getZ(this.frame);\n            z.max = Math.max(z.max, this.zOrder || 0);\n            z.min = Math.min(z.min, this.zOrder || 0);\n        }\n\n        // Method is used to export data to the server\n        toJSON() {\n            return {\n                type: this.shapeType,\n                clientID: this.clientID,\n                occluded: this.occluded,\n                z_order: this.zOrder,\n                points: [...this.points],\n                attributes: Object.keys(this.attributes).reduce((attributeAccumulator, attrId) => {\n                    attributeAccumulator.push({\n                        spec_id: attrId,\n                        value: this.attributes[attrId],\n                    });\n\n                    return attributeAccumulator;\n                }, []),\n                id: this.serverID,\n                frame: this.frame,\n                label_id: this.label.id,\n                group: this.group,\n            };\n        }\n\n        // Method is used to construct ObjectState objects\n        get(frame) {\n            if (frame !== this.frame) {\n                throw new ScriptingError(\n                    'Got frame is not equal to the frame of the shape',\n                );\n            }\n\n            return {\n                objectType: ObjectType.SHAPE,\n                shapeType: this.shapeType,\n                clientID: this.clientID,\n                serverID: this.serverID,\n                occluded: this.occluded,\n                lock: this.lock,\n                zOrder: this.zOrder,\n                points: [...this.points],\n                attributes: Object.assign({}, this.attributes),\n                label: this.label,\n                group: this.group,\n                color: this.color,\n            };\n        }\n\n        save(frame, data) {\n            if (frame !== this.frame) {\n                throw new ScriptingError(\n                    'Got frame is not equal to the frame of the shape',\n                );\n            }\n\n            if (this.lock && data.lock) {\n                return objectStateFactory.call(this, frame, this.get(frame));\n            }\n\n            // All changes are done in this temporary object\n            const copy = this.get(frame);\n            const updated = data.updateFlags;\n\n            if (updated.label) {\n                checkObjectType('label', data.label, null, Label);\n                copy.label = data.label;\n                copy.attributes = {};\n                this.appendDefaultAttributes.call(copy, copy.label);\n            }\n\n            if (updated.attributes) {\n                const labelAttributes = copy.label.attributes\n                    .reduce((accumulator, value) => {\n                        accumulator[value.id] = value;\n                        return accumulator;\n                    }, {});\n\n                for (const attrID of Object.keys(data.attributes)) {\n                    const value = data.attributes[attrID];\n                    if (attrID in labelAttributes\n                        && validateAttributeValue(value, labelAttributes[attrID])) {\n                        copy.attributes[attrID] = value;\n                    } else {\n                        throw new ArgumentError(\n                            `Trying to save unknown attribute with id ${attrID} and value ${value}`,\n                        );\n                    }\n                }\n            }\n\n            if (updated.points) {\n                checkObjectType('points', data.points, null, Array);\n                checkNumberOfPoints(this.shapeType, data.points);\n\n                // cut points\n                const { width, height } = this.frameMeta[frame];\n                const cutPoints = [];\n                for (let i = 0; i < data.points.length - 1; i += 2) {\n                    const x = data.points[i];\n                    const y = data.points[i + 1];\n\n                    checkObjectType('coordinate', x, 'number', null);\n                    checkObjectType('coordinate', y, 'number', null);\n\n                    cutPoints.push(\n                        Math.clamp(x, 0, width),\n                        Math.clamp(y, 0, height),\n                    );\n                }\n\n                if (checkShapeArea(this.shapeType, cutPoints)) {\n                    copy.points = cutPoints;\n                }\n            }\n\n            if (updated.occluded) {\n                checkObjectType('occluded', data.occluded, 'boolean', null);\n                copy.occluded = data.occluded;\n            }\n\n            if (updated.group) {\n                checkObjectType('group', data.group, 'integer', null);\n                copy.group = data.group;\n            }\n\n            if (updated.zOrder) {\n                checkObjectType('zOrder', data.zOrder, 'integer', null);\n                copy.zOrder = data.zOrder;\n            }\n\n            if (updated.lock) {\n                checkObjectType('lock', data.lock, 'boolean', null);\n                copy.lock = data.lock;\n            }\n\n            if (updated.color) {\n                checkObjectType('color', data.color, 'string', null);\n                if (/^#[0-9A-F]{6}$/i.test(data.color)) {\n                    throw new ArgumentError(\n                        `Got invalid color value: \"${data.color}\"`,\n                    );\n                }\n\n                copy.color = data.color;\n            }\n\n            // Reset flags and commit all changes\n            updated.reset();\n            for (const prop of Object.keys(copy)) {\n                if (prop in this) {\n                    this[prop] = copy[prop];\n                }\n            }\n\n            return objectStateFactory.call(this, frame, this.get(frame));\n        }\n    }\n\n    class Track extends Drawn {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.shapes = data.shapes.reduce((shapeAccumulator, value) => {\n                shapeAccumulator[value.frame] = {\n                    serverID: value.id,\n                    occluded: value.occluded,\n                    zOrder: value.z_order,\n                    points: value.points,\n                    outside: value.outside,\n                    attributes: value.attributes.reduce((attributeAccumulator, attr) => {\n                        attributeAccumulator[attr.spec_id] = attr.value;\n                        return attributeAccumulator;\n                    }, {}),\n                };\n\n                const z = this._getZ(value.frame);\n                z.max = Math.max(z.max, value.z_order);\n                z.min = Math.min(z.min, value.z_order);\n\n                return shapeAccumulator;\n            }, {});\n\n            this.cache = {};\n        }\n\n        // Method is used to export data to the server\n        toJSON() {\n            const labelAttributes = this.label.attributes.reduce((accumulator, attribute) => {\n                accumulator[attribute.id] = attribute;\n                return accumulator;\n            }, {});\n\n            return {\n                clientID: this.clientID,\n                id: this.serverID,\n                frame: this.frame,\n                label_id: this.label.id,\n                group: this.group,\n                attributes: Object.keys(this.attributes).reduce((attributeAccumulator, attrId) => {\n                    if (!labelAttributes[attrId].mutable) {\n                        attributeAccumulator.push({\n                            spec_id: attrId,\n                            value: this.attributes[attrId],\n                        });\n                    }\n\n                    return attributeAccumulator;\n                }, []),\n                shapes: Object.keys(this.shapes).reduce((shapesAccumulator, frame) => {\n                    shapesAccumulator.push({\n                        type: this.shapeType,\n                        occluded: this.shapes[frame].occluded,\n                        z_order: this.shapes[frame].zOrder,\n                        points: [...this.shapes[frame].points],\n                        outside: this.shapes[frame].outside,\n                        attributes: Object.keys(this.shapes[frame].attributes)\n                            .reduce((attributeAccumulator, attrId) => {\n                                if (labelAttributes[attrId].mutable) {\n                                    attributeAccumulator.push({\n                                        spec_id: attrId,\n                                        value: this.shapes[frame].attributes[attrId],\n                                    });\n                                }\n\n                                return attributeAccumulator;\n                            }, []),\n                        id: this.shapes[frame].serverID,\n                        frame: +frame,\n                    });\n\n                    return shapesAccumulator;\n                }, []),\n            };\n        }\n\n        // Method is used to construct ObjectState objects\n        get(frame) {\n            if (!(frame in this.cache)) {\n                const interpolation = Object.assign(\n                    {}, this.getPosition(frame),\n                    {\n                        attributes: this.getAttributes(frame),\n                        group: this.group,\n                        objectType: ObjectType.TRACK,\n                        shapeType: this.shapeType,\n                        clientID: this.clientID,\n                        serverID: this.serverID,\n                        lock: this.lock,\n                        color: this.color,\n                    },\n                );\n\n                this.cache[frame] = interpolation;\n            }\n\n            const result = JSON.parse(JSON.stringify(this.cache[frame]));\n            result.label = this.label;\n            return result;\n        }\n\n        neighborsFrames(targetFrame) {\n            const frames = Object.keys(this.shapes).map(frame => +frame);\n            let lDiff = Number.MAX_SAFE_INTEGER;\n            let rDiff = Number.MAX_SAFE_INTEGER;\n\n            for (const frame of frames) {\n                const diff = Math.abs(targetFrame - frame);\n                if (frame <= targetFrame && diff < lDiff) {\n                    lDiff = diff;\n                } else if (diff < rDiff) {\n                    rDiff = diff;\n                }\n            }\n\n            const leftFrame = lDiff === Number.MAX_SAFE_INTEGER ? null : targetFrame - lDiff;\n            const rightFrame = rDiff === Number.MAX_SAFE_INTEGER ? null : targetFrame + rDiff;\n\n            return {\n                leftFrame,\n                rightFrame,\n            };\n        }\n\n        getAttributes(targetFrame) {\n            const result = {};\n\n            // First of all copy all unmutable attributes\n            for (const attrID in this.attributes) {\n                if (Object.prototype.hasOwnProperty.call(this.attributes, attrID)) {\n                    result[attrID] = this.attributes[attrID];\n                }\n            }\n\n            // Secondly get latest mutable attributes up to target frame\n            const frames = Object.keys(this.shapes).sort((a, b) => +a - +b);\n            for (const frame of frames) {\n                if (frame <= targetFrame) {\n                    const { attributes } = this.shapes[frame];\n\n                    for (const attrID in attributes) {\n                        if (Object.prototype.hasOwnProperty.call(attributes, attrID)) {\n                            result[attrID] = attributes[attrID];\n                        }\n                    }\n                }\n            }\n\n            return result;\n        }\n\n        save(frame, data) {\n            if (this.lock && data.lock) {\n                return objectStateFactory.call(this, frame, this.get(frame));\n            }\n\n            // All changes are done in this temporary object\n            const copy = Object.assign(this.get(frame));\n            copy.attributes = Object.assign(copy.attributes);\n            copy.points = [...copy.points];\n\n            const updated = data.updateFlags;\n            let positionUpdated = false;\n\n            if (updated.label) {\n                checkObjectType('label', data.label, null, Label);\n                copy.label = data.label;\n                copy.attributes = {};\n\n                // Shape attributes will be removed later after all checks\n                this.appendDefaultAttributes.call(copy, copy.label);\n            }\n\n            const labelAttributes = copy.label.attributes\n                .reduce((accumulator, value) => {\n                    accumulator[value.id] = value;\n                    return accumulator;\n                }, {});\n\n            if (updated.attributes) {\n                for (const attrID of Object.keys(data.attributes)) {\n                    const value = data.attributes[attrID];\n                    if (attrID in labelAttributes\n                        && validateAttributeValue(value, labelAttributes[attrID])) {\n                        copy.attributes[attrID] = value;\n                    } else {\n                        throw new ArgumentError(\n                            `Trying to save unknown attribute with id ${attrID} and value ${value}`,\n                        );\n                    }\n                }\n            }\n\n            if (updated.points) {\n                checkObjectType('points', data.points, null, Array);\n                checkNumberOfPoints(this.shapeType, data.points);\n\n                // cut points\n                const { width, height } = this.frameMeta[frame];\n                const cutPoints = [];\n                for (let i = 0; i < data.points.length - 1; i += 2) {\n                    const x = data.points[i];\n                    const y = data.points[i + 1];\n\n                    checkObjectType('coordinate', x, 'number', null);\n                    checkObjectType('coordinate', y, 'number', null);\n\n                    cutPoints.push(\n                        Math.clamp(x, 0, width),\n                        Math.clamp(y, 0, height),\n                    );\n                }\n\n                if (checkShapeArea(this.shapeType, cutPoints)) {\n                    copy.points = cutPoints;\n                    positionUpdated = true;\n                }\n            }\n\n            if (updated.occluded) {\n                checkObjectType('occluded', data.occluded, 'boolean', null);\n                copy.occluded = data.occluded;\n                positionUpdated = true;\n            }\n\n            if (updated.outside) {\n                checkObjectType('outside', data.outside, 'boolean', null);\n                copy.outside = data.outside;\n                positionUpdated = true;\n            }\n\n            if (updated.group) {\n                checkObjectType('group', data.group, 'integer', null);\n                copy.group = data.group;\n            }\n\n            if (updated.zOrder) {\n                checkObjectType('zOrder', data.zOrder, 'integer', null);\n                copy.zOrder = data.zOrder;\n                positionUpdated = true;\n            }\n\n            if (updated.lock) {\n                checkObjectType('lock', data.lock, 'boolean', null);\n                copy.lock = data.lock;\n            }\n\n            if (updated.color) {\n                checkObjectType('color', data.color, 'string', null);\n                if (/^#[0-9A-F]{6}$/i.test(data.color)) {\n                    throw new ArgumentError(\n                        `Got invalid color value: \"${data.color}\"`,\n                    );\n                }\n\n                copy.color = data.color;\n            }\n\n            if (updated.keyframe) {\n                // Just check here\n                checkObjectType('keyframe', data.keyframe, 'boolean', null);\n            }\n\n            // Commit all changes\n            for (const prop of Object.keys(copy)) {\n                if (prop in this) {\n                    this[prop] = copy[prop];\n                }\n\n                this.cache[frame][prop] = copy[prop];\n            }\n\n            if (updated.attributes) {\n                // Mutable attributes will be updated below\n                for (const attrID of Object.keys(copy.attributes)) {\n                    if (!labelAttributes[attrID].mutable) {\n                        this.shapes[frame].attributes[attrID] = data.attributes[attrID];\n                        this.shapes[frame].attributes[attrID] = data.attributes[attrID];\n                    }\n                }\n            }\n\n            if (updated.label) {\n                for (const shape of Object.values(this.shapes)) {\n                    shape.attributes = {};\n                }\n            }\n\n            // Remove keyframe\n            if (updated.keyframe && !data.keyframe) {\n                // Remove all cache after this keyframe because it have just become outdated\n                for (const cacheFrame in this.cache) {\n                    if (+cacheFrame > frame) {\n                        delete this.cache[cacheFrame];\n                    }\n                }\n\n                this.cache[frame].keyframe = false;\n                delete this.shapes[frame];\n                updated.reset();\n\n                return objectStateFactory.call(this, frame, this.get(frame));\n            }\n\n            // Add/update keyframe\n            if (positionUpdated || (updated.keyframe && data.keyframe)) {\n                // Remove all cache after this keyframe because it have just become outdated\n                for (const cacheFrame in this.cache) {\n                    if (+cacheFrame > frame) {\n                        delete this.cache[cacheFrame];\n                    }\n                }\n\n                this.cache[frame].keyframe = true;\n                data.keyframe = true;\n\n                this.shapes[frame] = {\n                    frame,\n                    zOrder: copy.zOrder,\n                    points: copy.points,\n                    outside: copy.outside,\n                    occluded: copy.occluded,\n                    attributes: {},\n                };\n\n                if (updated.attributes) {\n                    // Unmutable attributes were updated above\n                    for (const attrID of Object.keys(copy.attributes)) {\n                        if (labelAttributes[attrID].mutable) {\n                            this.shapes[frame].attributes[attrID] = data.attributes[attrID];\n                            this.shapes[frame].attributes[attrID] = data.attributes[attrID];\n                        }\n                    }\n                }\n            }\n\n            updated.reset();\n\n            return objectStateFactory.call(this, frame, this.get(frame));\n        }\n\n        getPosition(targetFrame) {\n            const {\n                leftFrame,\n                rightFrame,\n            } = this.neighborsFrames(targetFrame);\n\n            const rightPosition = Number.isInteger(rightFrame) ? this.shapes[rightFrame] : null;\n            const leftPosition = Number.isInteger(leftFrame) ? this.shapes[leftFrame] : null;\n\n            if (leftPosition && leftFrame === targetFrame) {\n                return {\n                    points: [...leftPosition.points],\n                    occluded: leftPosition.occluded,\n                    outside: leftPosition.outside,\n                    zOrder: leftPosition.zOrder,\n                    keyframe: true,\n                };\n            }\n\n            if (rightPosition && leftPosition) {\n                return Object.assign({}, this.interpolatePosition(\n                    leftPosition,\n                    rightPosition,\n                    (targetFrame - leftFrame) / (rightFrame - leftFrame),\n                ), {\n                    keyframe: false,\n                });\n            }\n\n            if (rightPosition) {\n                return {\n                    points: [...rightPosition.points],\n                    occluded: rightPosition.occluded,\n                    outside: true,\n                    zOrder: 0,\n                    keyframe: false,\n                };\n            }\n\n            if (leftPosition) {\n                return {\n                    points: [...leftPosition.points],\n                    occluded: leftPosition.occluded,\n                    outside: leftPosition.outside,\n                    zOrder: 0,\n                    keyframe: false,\n                };\n            }\n\n            throw new ScriptingError(\n                `No one neightbour frame found for the track with client ID: \"${this.id}\"`,\n            );\n        }\n\n        delete(force) {\n            if (!this.lock || force) {\n                this.removed = true;\n                this.resetCache();\n            }\n\n            return true;\n        }\n\n        resetCache() {\n            this.cache = {};\n        }\n    }\n\n    class Tag extends Annotation {\n        constructor(data, clientID, injection) {\n            super(data, clientID, injection);\n        }\n\n        // Method is used to export data to the server\n        toJSON() {\n            return {\n                clientID: this.clientID,\n                id: this.serverID,\n                frame: this.frame,\n                label_id: this.label.id,\n                group: this.group,\n                attributes: Object.keys(this.attributes).reduce((attributeAccumulator, attrId) => {\n                    attributeAccumulator.push({\n                        spec_id: attrId,\n                        value: this.attributes[attrId],\n                    });\n\n                    return attributeAccumulator;\n                }, []),\n            };\n        }\n\n        // Method is used to construct ObjectState objects\n        get(frame) {\n            if (frame !== this.frame) {\n                throw new ScriptingError(\n                    'Got frame is not equal to the frame of the shape',\n                );\n            }\n\n            return {\n                objectType: ObjectType.TAG,\n                clientID: this.clientID,\n                serverID: this.serverID,\n                lock: this.lock,\n                attributes: Object.assign({}, this.attributes),\n                label: this.label,\n                group: this.group,\n            };\n        }\n\n        save(frame, data) {\n            if (frame !== this.frame) {\n                throw new ScriptingError(\n                    'Got frame is not equal to the frame of the shape',\n                );\n            }\n\n            if (this.lock && data.lock) {\n                return objectStateFactory.call(this, frame, this.get(frame));\n            }\n\n            // All changes are done in this temporary object\n            const copy = this.get(frame);\n            const updated = data.updateFlags;\n\n            if (updated.label) {\n                checkObjectType('label', data.label, null, Label);\n                copy.label = data.label;\n                copy.attributes = {};\n                this.appendDefaultAttributes.call(copy, copy.label);\n            }\n\n            if (updated.attributes) {\n                const labelAttributes = copy.label\n                    .attributes.map(attr => `${attr.id}`);\n\n                for (const attrID of Object.keys(data.attributes)) {\n                    if (labelAttributes.includes(attrID)) {\n                        copy.attributes[attrID] = data.attributes[attrID];\n                    }\n                }\n            }\n\n            if (updated.group) {\n                checkObjectType('group', data.group, 'integer', null);\n                copy.group = data.group;\n            }\n\n            if (updated.lock) {\n                checkObjectType('lock', data.lock, 'boolean', null);\n                copy.lock = data.lock;\n            }\n\n            // Reset flags and commit all changes\n            updated.reset();\n            for (const prop of Object.keys(copy)) {\n                if (prop in this) {\n                    this[prop] = copy[prop];\n                }\n            }\n\n            return objectStateFactory.call(this, frame, this.get(frame));\n        }\n    }\n\n    class RectangleShape extends Shape {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.shapeType = ObjectShape.RECTANGLE;\n            checkNumberOfPoints(this.shapeType, this.points);\n        }\n\n        static distance(points, x, y) {\n            const [xtl, ytl, xbr, ybr] = points;\n\n            if (!(x >= xtl && x <= xbr && y >= ytl && y <= ybr)) {\n                // Cursor is outside of a box\n                return null;\n            }\n\n            // The shortest distance from point to an edge\n            return Math.min.apply(null, [x - xtl, y - ytl, xbr - x, ybr - y]);\n        }\n    }\n\n    class PolyShape extends Shape {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n        }\n    }\n\n    class PolygonShape extends PolyShape {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.shapeType = ObjectShape.POLYGON;\n            checkNumberOfPoints(this.shapeType, this.points);\n        }\n\n        static distance(points, x, y) {\n            function position(x1, y1, x2, y2) {\n                return ((x2 - x1) * (y - y1) - (x - x1) * (y2 - y1));\n            }\n\n            let wn = 0;\n            const distances = [];\n\n            for (let i = 0, j = points.length - 2; i < points.length - 1; j = i, i += 2) {\n                // Current point\n                const x1 = points[j];\n                const y1 = points[j + 1];\n\n                // Next point\n                const x2 = points[i];\n                const y2 = points[i + 1];\n\n                // Check if a point is inside a polygon\n                // with a winding numbers algorithm\n                // https://en.wikipedia.org/wiki/Point_in_polygon#Winding_number_algorithm\n                if (y1 <= y) {\n                    if (y2 > y) {\n                        if (position(x1, y1, x2, y2) > 0) {\n                            wn++;\n                        }\n                    }\n                } else if (y2 <= y) {\n                    if (position(x1, y1, x2, y2) < 0) {\n                        wn--;\n                    }\n                }\n\n                // Find the shortest distance from point to an edge\n                // Get an equation of a line in general\n                const aCoef = (y1 - y2);\n                const bCoef = (x2 - x1);\n\n                // Vector (aCoef, bCoef) is a perpendicular to line\n                // Now find the point where two lines\n                // (edge and its perpendicular through the point (x,y)) are cross\n                const xCross = x - aCoef;\n                const yCross = y - bCoef;\n\n                if (((xCross - x1) * (x2 - xCross)) >= 0\n                    && ((yCross - y1) * (y2 - yCross)) >= 0) {\n                    // Cross point is on segment between p1(x1,y1) and p2(x2,y2)\n                    distances.push(Math.sqrt(\n                        Math.pow(x - xCross, 2)\n                        + Math.pow(y - yCross, 2),\n                    ));\n                } else {\n                    distances.push(\n                        Math.min(\n                            Math.sqrt(Math.pow(x1 - x, 2) + Math.pow(y1 - y, 2)),\n                            Math.sqrt(Math.pow(x2 - x, 2) + Math.pow(y2 - y, 2)),\n                        ),\n                    );\n                }\n            }\n\n            if (wn !== 0) {\n                return Math.min.apply(null, distances);\n            }\n\n            return null;\n        }\n    }\n\n    class PolylineShape extends PolyShape {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.shapeType = ObjectShape.POLYLINE;\n            checkNumberOfPoints(this.shapeType, this.points);\n        }\n\n        static distance(points, x, y) {\n            const distances = [];\n            for (let i = 0; i < points.length - 2; i += 2) {\n                // Current point\n                const x1 = points[i];\n                const y1 = points[i + 1];\n\n                // Next point\n                const x2 = points[i + 2];\n                const y2 = points[i + 3];\n\n                // Find the shortest distance from point to an edge\n                if (((x - x1) * (x2 - x)) >= 0 && ((y - y1) * (y2 - y)) >= 0) {\n                    // Find the length of a perpendicular\n                    // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n                    distances.push(\n                        Math.abs((y2 - y1) * x - (x2 - x1) * y + x2 * y1 - y2 * x1) / Math\n                            .sqrt(Math.pow(y2 - y1, 2) + Math.pow(x2 - x1, 2)),\n                    );\n                } else {\n                    // The link below works for lines (which have infinit length)\n                    // There is a case when perpendicular doesn't cross the edge\n                    // In this case we don't use the computed distance\n                    // Instead we use just distance to the nearest point\n                    distances.push(\n                        Math.min(\n                            Math.sqrt(Math.pow(x1 - x, 2) + Math.pow(y1 - y, 2)),\n                            Math.sqrt(Math.pow(x2 - x, 2) + Math.pow(y2 - y, 2)),\n                        ),\n                    );\n                }\n            }\n\n            return Math.min.apply(null, distances);\n        }\n    }\n\n    class PointsShape extends PolyShape {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.shapeType = ObjectShape.POINTS;\n            checkNumberOfPoints(this.shapeType, this.points);\n        }\n\n        static distance(points, x, y) {\n            const distances = [];\n            for (let i = 0; i < points.length; i += 2) {\n                const x1 = points[i];\n                const y1 = points[i + 1];\n\n                distances.push(\n                    Math.sqrt(Math.pow(x1 - x, 2) + Math.pow(y1 - y, 2)),\n                );\n            }\n\n            return Math.min.apply(null, distances);\n        }\n    }\n\n    class RectangleTrack extends Track {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.shapeType = ObjectShape.RECTANGLE;\n            for (const shape of Object.values(this.shapes)) {\n                checkNumberOfPoints(this.shapeType, shape.points);\n            }\n        }\n\n        interpolatePosition(leftPosition, rightPosition, offset) {\n            const positionOffset = [\n                rightPosition.points[0] - leftPosition.points[0],\n                rightPosition.points[1] - leftPosition.points[1],\n                rightPosition.points[2] - leftPosition.points[2],\n                rightPosition.points[3] - leftPosition.points[3],\n            ];\n\n            return { // xtl, ytl, xbr, ybr\n                points: [\n                    leftPosition.points[0] + positionOffset[0] * offset,\n                    leftPosition.points[1] + positionOffset[1] * offset,\n                    leftPosition.points[2] + positionOffset[2] * offset,\n                    leftPosition.points[3] + positionOffset[3] * offset,\n                ],\n                occluded: leftPosition.occluded,\n                outside: leftPosition.outside,\n                zOrder: leftPosition.zOrder,\n            };\n        }\n    }\n\n    class PolyTrack extends Track {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n        }\n\n        interpolatePosition(leftPosition, rightPosition, offset) {\n            function findBox(points) {\n                let xmin = Number.MAX_SAFE_INTEGER;\n                let ymin = Number.MAX_SAFE_INTEGER;\n                let xmax = Number.MIN_SAFE_INTEGER;\n                let ymax = Number.MIN_SAFE_INTEGER;\n\n                for (let i = 0; i < points.length; i += 2) {\n                    if (points[i] < xmin) xmin = points[i];\n                    if (points[i + 1] < ymin) ymin = points[i + 1];\n                    if (points[i] > xmax) xmax = points[i];\n                    if (points[i + 1] > ymax) ymax = points[i + 1];\n                }\n\n                return {\n                    xmin,\n                    ymin,\n                    xmax,\n                    ymax,\n                };\n            }\n\n            function normalize(points, box) {\n                const normalized = [];\n                const width = box.xmax - box.xmin;\n                const height = box.ymax - box.ymin;\n\n                for (let i = 0; i < points.length; i += 2) {\n                    normalized.push(\n                        (points[i] - box.xmin) / width,\n                        (points[i + 1] - box.ymin) / height,\n                    );\n                }\n\n                return normalized;\n            }\n\n            function denormalize(points, box) {\n                const denormalized = [];\n                const width = box.xmax - box.xmin;\n                const height = box.ymax - box.ymin;\n\n                for (let i = 0; i < points.length; i += 2) {\n                    denormalized.push(\n                        points[i] * width + box.xmin,\n                        points[i + 1] * height + box.ymin,\n                    );\n                }\n\n                return denormalized;\n            }\n\n            function toPoints(array) {\n                const points = [];\n                for (let i = 0; i < array.length; i += 2) {\n                    points.push({\n                        x: array[i],\n                        y: array[i + 1],\n                    });\n                }\n\n                return points;\n            }\n\n            function toArray(points) {\n                const array = [];\n                for (const point of points) {\n                    array.push(point.x, point.y);\n                }\n\n                return array;\n            }\n\n            function computeDistances(source, target) {\n                const distances = {};\n                for (let i = 0; i < source.length; i++) {\n                    distances[i] = distances[i] || {};\n                    for (let j = 0; j < target.length; j++) {\n                        const dx = source[i].x - target[j].x;\n                        const dy = source[i].y - target[j].y;\n\n                        distances[i][j] = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n                    }\n                }\n\n                return distances;\n            }\n\n            function truncateByThreshold(mapping, threshold) {\n                for (const key of Object.keys(mapping)) {\n                    if (mapping[key].distance > threshold) {\n                        delete mapping[key];\n                    }\n                }\n            }\n\n            // https://en.wikipedia.org/wiki/Stable_marriage_problem\n            // TODO: One of important part of the algorithm is to correctly match\n            // \"corner\" points. Thus it is possible for each of such point calculate\n            // a descriptor (d) and use (x, y, d) to calculate the distance. One more\n            // idea is to be sure that order or matched points is preserved. For example,\n            // if p1 matches q1 and p2 matches q2 and between p1 and p2 we don't have any\n            // points thus we should not have points between q1 and q2 as well.\n            function stableMarriageProblem(men, women, distances) {\n                const menPreferences = {};\n                for (const man of men) {\n                    menPreferences[man] = women.concat()\n                        .sort((w1, w2) => distances[man][w1] - distances[man][w2]);\n                }\n\n                // Start alghoritm with max N^2 complexity\n                const womenMaybe = {}; // id woman:id man,distance\n                const menBusy = {}; // id man:boolean\n                let prefIndex = 0;\n\n                // While there is at least one free man\n                while (Object.values(menBusy).length !== men.length) {\n                    // Every man makes offer to the best woman\n                    for (const man of men) {\n                        // The man have already found a woman\n                        if (menBusy[man]) {\n                            continue;\n                        }\n\n                        const woman = menPreferences[man][prefIndex];\n                        const distance = distances[man][woman];\n\n                        // A women chooses the best offer and says \"maybe\"\n                        if (woman in womenMaybe && womenMaybe[woman].distance > distance) {\n                            // A woman got better offer\n                            const prevChoice = womenMaybe[woman].value;\n                            delete womenMaybe[woman];\n                            delete menBusy[prevChoice];\n                        }\n\n                        if (!(woman in womenMaybe)) {\n                            womenMaybe[woman] = {\n                                value: man,\n                                distance,\n                            };\n\n                            menBusy[man] = true;\n                        }\n                    }\n\n                    prefIndex++;\n                }\n\n                const result = {};\n                for (const woman of Object.keys(womenMaybe)) {\n                    result[womenMaybe[woman].value] = {\n                        value: woman,\n                        distance: womenMaybe[woman].distance,\n                    };\n                }\n\n                return result;\n            }\n\n            function getMapping(source, target) {\n                function sumEdges(points) {\n                    let result = 0;\n                    for (let i = 1; i < points.length; i += 2) {\n                        const distance = Math.sqrt(Math.pow(points[i].x - points[i - 1].x, 2)\n                            + Math.pow(points[i].y - points[i - 1].y, 2));\n                        result += distance;\n                    }\n\n                    // Corner case when work with one point\n                    // Mapping in this case can't be wrong\n                    if (!result) {\n                        return Number.MAX_SAFE_INTEGER;\n                    }\n\n                    return result;\n                }\n\n                function computeDeviation(points, average) {\n                    let result = 0;\n                    for (let i = 1; i < points.length; i += 2) {\n                        const distance = Math.sqrt(Math.pow(points[i].x - points[i - 1].x, 2)\n                            + Math.pow(points[i].y - points[i - 1].y, 2));\n                        result += Math.pow(distance - average, 2);\n                    }\n\n                    return result;\n                }\n\n                const processedSource = [];\n                const processedTarget = [];\n\n                const distances = computeDistances(source, target);\n                const mapping = stableMarriageProblem(Array.from(source.keys()),\n                    Array.from(target.keys()), distances);\n\n                const average = (sumEdges(target)\n                    + sumEdges(source)) / (target.length + source.length);\n                const meanSquareDeviation = Math.sqrt((computeDeviation(source, average)\n                    + computeDeviation(target, average)) / (source.length + target.length));\n                const threshold = average + 3 * meanSquareDeviation; // 3 sigma rule\n                truncateByThreshold(mapping, threshold);\n                for (const key of Object.keys(mapping)) {\n                    mapping[key] = mapping[key].value;\n                }\n\n                // const receivingOrder = Object.keys(mapping).map(x => +x).sort((a,b) => a - b);\n                const receivingOrder = this.appendMapping(mapping, source, target);\n\n                for (const pointIdx of receivingOrder) {\n                    processedSource.push(source[pointIdx]);\n                    processedTarget.push(target[mapping[pointIdx]]);\n                }\n\n                return [processedSource, processedTarget];\n            }\n\n            let leftBox = findBox(leftPosition.points);\n            let rightBox = findBox(rightPosition.points);\n\n            // Sometimes (if shape has one point or shape is line),\n            // We can get box with zero area\n            // Next computation will be with NaN in this case\n            // We have to prevent it\n            const delta = 1;\n            if (leftBox.xmax - leftBox.xmin < delta || rightBox.ymax - rightBox.ymin < delta) {\n                leftBox = {\n                    xmin: 0,\n                    xmax: 1024, // TODO: Get actual image size\n                    ymin: 0,\n                    ymax: 768,\n                };\n\n                rightBox = leftBox;\n            }\n\n            const leftPoints = toPoints(normalize(leftPosition.points, leftBox));\n            const rightPoints = toPoints(normalize(rightPosition.points, rightBox));\n\n            let newLeftPoints = [];\n            let newRightPoints = [];\n            if (leftPoints.length > rightPoints.length) {\n                const [\n                    processedRight,\n                    processedLeft,\n                ] = getMapping.call(this, rightPoints, leftPoints);\n                newLeftPoints = processedLeft;\n                newRightPoints = processedRight;\n            } else {\n                const [\n                    processedLeft,\n                    processedRight,\n                ] = getMapping.call(this, leftPoints, rightPoints);\n                newLeftPoints = processedLeft;\n                newRightPoints = processedRight;\n            }\n\n            const absoluteLeftPoints = denormalize(toArray(newLeftPoints), leftBox);\n            const absoluteRightPoints = denormalize(toArray(newRightPoints), rightBox);\n\n            const interpolation = [];\n            for (let i = 0; i < absoluteLeftPoints.length; i++) {\n                interpolation.push(absoluteLeftPoints[i] + (\n                    absoluteRightPoints[i] - absoluteLeftPoints[i]) * offset);\n            }\n\n            return {\n                points: interpolation,\n                occluded: leftPosition.occluded,\n                outside: leftPosition.outside,\n                zOrder: leftPosition.zOrder,\n            };\n        }\n\n        // mapping is predicted order of points sourse_idx:target_idx\n        // some points from source and target can absent in mapping\n        // source, target - arrays of points. Target array size >= sourse array size\n        appendMapping(mapping, source, target) {\n            const targetMatched = Object.values(mapping).map(x => +x);\n            const sourceMatched = Object.keys(mapping).map(x => +x);\n            const orderForReceive = [];\n\n            function findNeighbors(point) {\n                let prev = point;\n                let next = point;\n\n                if (!targetMatched.length) {\n                    // Prevent infinity loop\n                    throw new ScriptingError('Interpolation mapping is empty');\n                }\n\n                while (!targetMatched.includes(prev)) {\n                    prev--;\n                    if (prev < 0) {\n                        prev = target.length - 1;\n                    }\n                }\n\n                while (!targetMatched.includes(next)) {\n                    next++;\n                    if (next >= target.length) {\n                        next = 0;\n                    }\n                }\n\n                return [prev, next];\n            }\n\n            function computeOffset(point, prev, next) {\n                const pathPoints = [];\n\n                while (prev !== next) {\n                    pathPoints.push(target[prev]);\n                    prev++;\n                    if (prev >= target.length) {\n                        prev = 0;\n                    }\n                }\n                pathPoints.push(target[next]);\n\n                let curveLength = 0;\n                let offset = 0;\n                let iCrossed = false;\n                for (let k = 1; k < pathPoints.length; k++) {\n                    const p1 = pathPoints[k];\n                    const p2 = pathPoints[k - 1];\n                    const distance = Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n\n                    if (!iCrossed) {\n                        offset += distance;\n                    }\n                    curveLength += distance;\n                    if (target[point] === pathPoints[k]) {\n                        iCrossed = true;\n                    }\n                }\n\n                if (!curveLength) {\n                    return 0;\n                }\n\n                return offset / curveLength;\n            }\n\n            for (let i = 0; i < target.length; i++) {\n                const index = targetMatched.indexOf(i);\n                if (index === -1) {\n                    // We have to find a neighbours which have been mapped\n                    const [prev, next] = findNeighbors(i);\n\n                    // Now compute edge offset\n                    const offset = computeOffset(i, prev, next);\n\n                    // Get point between two neighbors points\n                    const prevPoint = target[prev];\n                    const nextPoint = target[next];\n                    const autoPoint = {\n                        x: prevPoint.x + (nextPoint.x - prevPoint.x) * offset,\n                        y: prevPoint.y + (nextPoint.y - prevPoint.y) * offset,\n                    };\n\n                    // Put it into matched\n                    source.push(autoPoint);\n                    mapping[source.length - 1] = i;\n                    orderForReceive.push(source.length - 1);\n                } else {\n                    orderForReceive.push(sourceMatched[index]);\n                }\n            }\n\n            return orderForReceive;\n        }\n    }\n\n    class PolygonTrack extends PolyTrack {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.shapeType = ObjectShape.POLYGON;\n            for (const shape of Object.values(this.shapes)) {\n                checkNumberOfPoints(this.shapeType, shape.points);\n            }\n        }\n    }\n\n    class PolylineTrack extends PolyTrack {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.shapeType = ObjectShape.POLYLINE;\n            for (const shape of Object.values(this.shapes)) {\n                checkNumberOfPoints(this.shapeType, shape.points);\n            }\n        }\n    }\n\n    class PointsTrack extends PolyTrack {\n        constructor(data, clientID, color, injection) {\n            super(data, clientID, color, injection);\n            this.shapeType = ObjectShape.POINTS;\n            for (const shape of Object.values(this.shapes)) {\n                checkNumberOfPoints(this.shapeType, shape.points);\n            }\n        }\n    }\n\n    RectangleTrack.distance = RectangleShape.distance;\n    PolygonTrack.distance = PolygonShape.distance;\n    PolylineTrack.distance = PolylineShape.distance;\n    PointsTrack.distance = PointsShape.distance;\n\n    module.exports = {\n        RectangleShape,\n        PolygonShape,\n        PolylineShape,\n        PointsShape,\n        RectangleTrack,\n        PolygonTrack,\n        PolylineTrack,\n        PointsTrack,\n        Track,\n        Shape,\n        Tag,\n        objectStateFactory,\n    };\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* global\n    require:false\n*/\n\n(() => {\n    const serverProxy = require('./server-proxy');\n    const { Task } = require('./session');\n    const { ScriptingError } = ('./exceptions');\n\n    class AnnotationsSaver {\n        constructor(version, collection, session) {\n            this.sessionType = session instanceof Task ? 'task' : 'job';\n            this.id = session.id;\n            this.version = version;\n            this.collection = collection;\n            this.initialObjects = [];\n            this.hash = this._getHash();\n\n            // We need use data from export instead of initialData\n            // Otherwise we have differ keys order and JSON comparison code incorrect\n            const exported = this.collection.export();\n            for (const shape of exported.shapes) {\n                this.initialObjects[shape.id] = shape;\n            }\n\n            for (const track of exported.tracks) {\n                this.initialObjects[track.id] = track;\n            }\n\n            for (const tag of exported.tags) {\n                this.initialObjects[tag.id] = tag;\n            }\n        }\n\n        _getHash() {\n            const exported = this.collection.export();\n            return JSON.stringify(exported);\n        }\n\n        async _request(data, action) {\n            const result = await serverProxy.annotations.updateAnnotations(\n                this.sessionType,\n                this.id,\n                data,\n                action,\n            );\n\n            return result;\n        }\n\n        async _put(data) {\n            const result = await this._request(data, 'put');\n            return result;\n        }\n\n        async _create(created) {\n            const result = await this._request(created, 'create');\n            return result;\n        }\n\n        async _update(updated) {\n            const result = await this._request(updated, 'update');\n            return result;\n        }\n\n        async _delete(deleted) {\n            const result = await this._request(deleted, 'delete');\n            return result;\n        }\n\n        _split(exported) {\n            const splitted = {\n                created: {\n                    shapes: [],\n                    tracks: [],\n                    tags: [],\n                },\n                updated: {\n                    shapes: [],\n                    tracks: [],\n                    tags: [],\n                },\n                deleted: {\n                    shapes: [],\n                    tracks: [],\n                    tags: [],\n                },\n            };\n\n            // Find created and updated objects\n            for (const type of Object.keys(exported)) {\n                for (const object of exported[type]) {\n                    if (object.id in this.initialObjects) {\n                        const exportedHash = JSON.stringify(object);\n                        const initialHash = JSON.stringify(this.initialObjects[object.id]);\n                        if (exportedHash !== initialHash) {\n                            splitted.updated[type].push(object);\n                        }\n                    } else if (typeof (object.id) === 'undefined') {\n                        splitted.created[type].push(object);\n                    } else {\n                        throw new ScriptingError(\n                            `Id of object is defined \"${object.id}\"`\n                            + 'but it absents in initial state',\n                        );\n                    }\n                }\n            }\n\n            // Now find deleted objects\n            const indexes = exported.tracks.concat(exported.shapes)\n                .concat(exported.tags).map(object => object.id);\n\n            for (const id of Object.keys(this.initialObjects)) {\n                if (!indexes.includes(+id)) {\n                    const object = this.initialObjects[id];\n                    let type = null;\n                    if ('shapes' in object) {\n                        type = 'tracks';\n                    } else if ('points' in object) {\n                        type = 'shapes';\n                    } else {\n                        type = 'tags';\n                    }\n                    splitted.deleted[type].push(object);\n                }\n            }\n\n            return splitted;\n        }\n\n        _updateCreatedObjects(saved, indexes) {\n            const savedLength = saved.tracks.length\n                + saved.shapes.length + saved.tags.length;\n\n            const indexesLength = indexes.tracks.length\n                + indexes.shapes.length + indexes.tags.length;\n\n            if (indexesLength !== savedLength) {\n                throw new ScriptingError(\n                    'Number of indexes is differed by number of saved objects'\n                        + `${indexesLength} vs ${savedLength}`,\n                );\n            }\n\n            // Updated IDs of created objects\n            for (const type of Object.keys(indexes)) {\n                for (let i = 0; i < indexes[type].length; i++) {\n                    const clientID = indexes[type][i];\n                    this.collection.objects[clientID].serverID = saved[type][i].id;\n                    if (type === 'tracks') {\n                        // We have to reset cache because of old value of serverID was saved there\n                        this.collection.objects[clientID].resetCache();\n                    }\n                }\n            }\n        }\n\n        _receiveIndexes(exported) {\n            // Receive client indexes before saving\n            const indexes = {\n                tracks: exported.tracks.map(track => track.clientID),\n                shapes: exported.shapes.map(shape => shape.clientID),\n                tags: exported.tags.map(tag => tag.clientID),\n            };\n\n            // Remove them from the request body\n            exported.tracks.concat(exported.shapes).concat(exported.tags)\n                .map((value) => {\n                    delete value.clientID;\n                    return value;\n                });\n\n            return indexes;\n        }\n\n        async save(onUpdate) {\n            if (typeof onUpdate !== 'function') {\n                onUpdate = (message) => {\n                    console.log(message);\n                };\n            }\n\n            try {\n                const exported = this.collection.export();\n                const { flush } = this.collection;\n                if (flush) {\n                    onUpdate('New objects are being saved..');\n                    const indexes = this._receiveIndexes(exported);\n                    const savedData = await this._put(Object.assign({}, exported, {\n                        version: this.version,\n                    }));\n                    this.version = savedData.version;\n                    this.collection.flush = false;\n\n                    onUpdate('Saved objects are being updated in the client');\n                    this._updateCreatedObjects(savedData, indexes);\n\n                    onUpdate('Initial state is being updated');\n                    for (const object of savedData.shapes\n                        .concat(savedData.tracks).concat(savedData.tags)) {\n                        this.initialObjects[object.id] = object;\n                    }\n                } else {\n                    const {\n                        created,\n                        updated,\n                        deleted,\n                    } = this._split(exported);\n\n                    onUpdate('New objects are being saved..');\n                    const indexes = this._receiveIndexes(created);\n                    const createdData = await this._create(Object.assign({}, created, {\n                        version: this.version,\n                    }));\n                    this.version = createdData.version;\n\n                    onUpdate('Saved objects are being updated in the client');\n                    this._updateCreatedObjects(createdData, indexes);\n\n                    onUpdate('Initial state is being updated');\n                    for (const object of createdData.shapes\n                        .concat(createdData.tracks).concat(createdData.tags)) {\n                        this.initialObjects[object.id] = object;\n                    }\n\n                    onUpdate('Changed objects are being saved..');\n                    this._receiveIndexes(updated);\n                    const updatedData = await this._update(Object.assign({}, updated, {\n                        version: this.version,\n                    }));\n                    this.version = createdData.version;\n\n                    onUpdate('Initial state is being updated');\n                    for (const object of updatedData.shapes\n                        .concat(updatedData.tracks).concat(updatedData.tags)) {\n                        this.initialObjects[object.id] = object;\n                    }\n\n                    onUpdate('Changed objects are being saved..');\n                    this._receiveIndexes(deleted);\n                    const deletedData = await this._delete(Object.assign({}, deleted, {\n                        version: this.version,\n                    }));\n                    this._version = deletedData.version;\n\n                    onUpdate('Initial state is being updated');\n                    for (const object of deletedData.shapes\n                        .concat(deletedData.tracks).concat(deletedData.tags)) {\n                        delete this.initialObjects[object.id];\n                    }\n                }\n\n                this.hash = this._getHash();\n                onUpdate('Saving is done');\n            } catch (error) {\n                onUpdate(`Can not save annotations: ${error.message}`);\n                throw error;\n            }\n        }\n\n        hasUnsavedChanges() {\n            return this._getHash() !== this.hash;\n        }\n    }\n\n    module.exports = AnnotationsSaver;\n})();\n","/*\n* Copyright (C) 2019 Intel Corporation\n* SPDX-License-Identifier: MIT\n*/\n\n/* eslint prefer-arrow-callback: [ \"error\", { \"allowNamedFunctions\": true } ] */\n\n/* global\n    require:false\n*/\n\n\n(() => {\n    const PluginRegistry = require('./plugins');\n    const serverProxy = require('./server-proxy');\n    const {\n        isBoolean,\n        isInteger,\n        isEnum,\n        isString,\n        checkFilter,\n    } = require('./common');\n\n    const {\n        TaskStatus,\n        TaskMode,\n    } = require('./enums');\n\n    const User = require('./user');\n    const { AnnotationFormat } = require('./annotation-format.js');\n    const { ArgumentError } = require('./exceptions');\n    const { Task } = require('./session');\n\n    function implementAPI(cvat) {\n        cvat.plugins.list.implementation = PluginRegistry.list;\n        cvat.plugins.register.implementation = PluginRegistry.register.bind(cvat);\n\n        cvat.server.about.implementation = async () => {\n            const result = await serverProxy.server.about();\n            return result;\n        };\n\n        cvat.server.share.implementation = async (directory) => {\n            const result = await serverProxy.server.share(directory);\n            return result;\n        };\n\n        cvat.server.formats.implementation = async () => {\n            const result = await serverProxy.server.formats();\n            return result.map(el => new AnnotationFormat(el));\n        };\n\n        cvat.server.register.implementation = async (username, firstName, lastName,\n            email, password1, password2) => {\n            await serverProxy.server.register(username, firstName, lastName, email,\n                password1, password2);\n        };\n\n        cvat.server.login.implementation = async (username, password) => {\n            await serverProxy.server.login(username, password);\n        };\n\n        cvat.server.logout.implementation = async () => {\n            await serverProxy.server.logout();\n        };\n\n        cvat.server.authorized.implementation = async () => {\n            const result = await serverProxy.server.authorized();\n            return result;\n        };\n\n        cvat.users.get.implementation = async (filter) => {\n            checkFilter(filter, {\n                self: isBoolean,\n            });\n\n            let users = null;\n            if ('self' in filter && filter.self) {\n                users = await serverProxy.users.getSelf();\n                users = [users];\n            } else {\n                users = await serverProxy.users.getUsers();\n            }\n\n            users = users.map(user => new User(user));\n            return users;\n        };\n\n        cvat.jobs.get.implementation = async (filter) => {\n            checkFilter(filter, {\n                taskID: isInteger,\n                jobID: isInteger,\n            });\n\n            if (('taskID' in filter) && ('jobID' in filter)) {\n                throw new ArgumentError(\n                    'Only one of fields \"taskID\" and \"jobID\" allowed simultaneously',\n                );\n            }\n\n            if (!Object.keys(filter).length) {\n                throw new ArgumentError(\n                    'Job filter must not be empty',\n                );\n            }\n\n            let tasks = null;\n            if ('taskID' in filter) {\n                tasks = await serverProxy.tasks.getTasks(`id=${filter.taskID}`);\n            } else {\n                const job = await serverProxy.jobs.getJob(filter.jobID);\n                if (typeof (job.task_id) !== 'undefined') {\n                    tasks = await serverProxy.tasks.getTasks(`id=${job.task_id}`);\n                }\n            }\n\n            // If task was found by its id, then create task instance and get Job instance from it\n            if (tasks !== null && tasks.length) {\n                const task = new Task(tasks[0]);\n                return filter.jobID ? task.jobs.filter(job => job.id === filter.jobID) : task.jobs;\n            }\n\n            return [];\n        };\n\n        cvat.tasks.get.implementation = async (filter) => {\n            checkFilter(filter, {\n                page: isInteger,\n                name: isString,\n                id: isInteger,\n                owner: isString,\n                assignee: isString,\n                search: isString,\n                status: isEnum.bind(TaskStatus),\n                mode: isEnum.bind(TaskMode),\n            });\n\n            if ('search' in filter && Object.keys(filter).length > 1) {\n                if (!('page' in filter && Object.keys(filter).length === 2)) {\n                    throw new ArgumentError(\n                        'Do not use the filter field \"search\" with others',\n                    );\n                }\n            }\n\n            if ('id' in filter && Object.keys(filter).length > 1) {\n                if (!('page' in filter && Object.keys(filter).length === 2)) {\n                    throw new ArgumentError(\n                        'Do not use the filter field \"id\" with others',\n                    );\n                }\n            }\n\n            const searchParams = new URLSearchParams();\n            for (const field of ['name', 'owner', 'assignee', 'search', 'status', 'mode', 'id', 'page']) {\n                if (Object.prototype.hasOwnProperty.call(filter, field)) {\n                    searchParams.set(field, filter[field]);\n                }\n            }\n\n            const tasksData = await serverProxy.tasks.getTasks(searchParams.toString());\n            const tasks = tasksData.map(task => new Task(task));\n            tasks.count = tasksData.count;\n\n            return tasks;\n        };\n\n        return cvat;\n    }\n\n    module.exports = implementAPI;\n})();\n"],"sourceRoot":""}